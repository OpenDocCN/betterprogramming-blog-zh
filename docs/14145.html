<html>
<head>
<title>File Encryption Made Easy With Basic GPG</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基本GPG使文件加密变得简单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/keep-your-secrets-safe-with-basic-gpg-encryption-dffb292b2d37?source=collection_archive---------7-----------------------#2022-11-10">https://betterprogramming.pub/keep-your-secrets-safe-with-basic-gpg-encryption-dffb292b2d37?source=collection_archive---------7-----------------------#2022-11-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="39a9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">多功能、安全，最重要的是:免费</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/018f97277df8b939dcb93dfd778f7b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u1dMxrpqw2gXAzWjTibaCQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@lazycreekimages?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">迈克尔·泽兹奇</a>在<a class="ae ky" href="https://unsplash.com/s/photos/secret?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d2a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有什么要隐瞒的吗？</p><p id="4537" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你在保守秘密吗？</p><p id="11a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或许有点轻微的商业间谍活动？</p><p id="ca53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，也许没有那么极端，但在某一点上，我们都遇到过需要加密一些商业秘密的情况。这可能是一个密码，一把钥匙或一些绝密的产品计划。最好也是所有合法的。</p><p id="745e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论您是将它们签入源代码控制(即使它们是加密的，您可能也不应该这样做)还是通过公共互联网发送它们，对强加密的需求都是至关重要的。有大量的付费产品在兜售各种各样的功能和花哨的实用程序，但如果你需要的只是加密一两个文件并继续你的生活，那么把钱花在一整套你永远不会使用的东西上是没有意义的。</p><p id="b1d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将探索如何使用最好的加密工具之一，它也直接内置于Linux中:<a class="ae ky" href="https://gnupg.org/" rel="noopener ugc nofollow" target="_blank"> GnuPG </a> (GPG)。使用这个工具，您可以执行各种加密任务。直截了当，简单，你甚至不必安装任何东西或花费一毛钱。</p><h1 id="6e6b" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">用密码加密文件(对称)</h1><p id="7831" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">如果你有一个小文件，里面有一些敏感信息，你想做的就是用密码保护它，GPG可以很容易地做到这一点。执行以下命令，使用密码加密文件:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="debe" class="my lx it mu b gy mz na l nb nc">gpg -c &lt;raw_file&gt;</span></pre><p id="9708" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">系统将提示您输入该文件的密码。确认密码并保存后，文件将被加密为新的<code class="fe nd ne nf mu b">.gpg</code>文件。</p><p id="2ab2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当您想要解密文件时，只需执行:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="68d9" class="my lx it mu b gy mz na l nb nc">gpg -d &lt;encrypted_file&gt;</span></pre><p id="6073" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">系统将再次提示您输入密码，然后文件内容将被打印到<code class="fe nd ne nf mu b">stdout</code>。您还可以通过传递以下参数将输出重定向到新文件:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="9016" class="my lx it mu b gy mz na l nb nc">gpg -d &lt;encrypted_file&gt; -o &lt;unencrypted_file&gt;</span></pre><p id="8e04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，GPG将使用<a class="ae ky" href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard" rel="noopener ugc nofollow" target="_blank"> AES256 </a>规范加密文件，这是非常安全的。然而，由于这是对称加密，这意味着相同的密码加密和解密文件。如果您选择一个弱密码或在多方之间广泛共享它，您可能会很快危及文件的安全性。</p><p id="5a19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保为加密选择非常可靠的密码，并限制共享它们。</p><h1 id="a47c" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">用密钥加密文件(非对称)</h1><p id="42ff" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">现在，假设您有一个相同的文件，您想使用一个密钥对对它进行加密。你可以很容易地在GPG身上做到这一点。如果您已经有了想要使用的GPG密钥对，只需执行以下命令来加密文件:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="4d12" class="my lx it mu b gy mz na l nb nc">gpg -e --recipient &lt;user_id&gt; &lt;raw_file&gt;</span></pre><p id="9619" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该命令将使用您指定的用户ID中的公钥加密输入文件。一开始这可能会有点混乱，但是一旦你明白了是怎么回事，它实际上是非常简单的。</p><p id="73f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们深入研究一下<code class="fe nd ne nf mu b">--recipient</code>参数。GPG假设您正在用来自用户ID对(使用<code class="fe nd ne nf mu b">--recipient</code>指定)的<em class="lv">公共</em>密钥加密这个文件。这样你就可以把加密的文件发送给接收者，他们可以用他们的<em class="lv">私钥</em>来解密它。</p><p id="b00a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您没有任何GPG键，可以使用下面的命令创建它们:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="5e38" class="my lx it mu b gy mz na l nb nc">gpg --gen-key</span></pre><p id="5ff6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将提示您一些类似于生成证书或SSH密钥的基本信息。输入密钥的用户ID后，它将自动添加到您的本地GPG数据库中。然后，当您想要为收件人加密文件时，可以引用该用户ID。</p><p id="e5c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，您正在使用该用户的公钥进行加密，并且假设他们已经拥有能够解密消息的私钥。有许多方法可以获得你的远程接收者的公钥，但是最简单的方法是让他们在公共互联网上把它发送给你。它是一个公钥，除非攻击者有私钥，否则他们不能用它做什么。这就是为什么它被称为<em class="lv">公钥</em>的原因。</p><p id="caa8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果要从另一个用户的GPG系统中导出公钥，可以发出以下命令:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="c90f" class="my lx it mu b gy mz na l nb nc">gpg --export --armor &lt;user_id&gt; &gt; &lt;filename&gt;.asc</span></pre><p id="7dbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将把密钥输出到一个<code class="fe nd ne nf mu b">.asc</code>文件中，然后可以导入到您的GPG数据库中用于加密。要导入密钥，请执行:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="57a1" class="my lx it mu b gy mz na l nb nc">gpg --import &lt;filename&gt;.asc</span></pre><p id="ef5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这整个过程是利用公钥和私钥的不对称加密的一个例子。这是一种更可靠的加密方法，允许您将加密的数据发送给持有私钥的第三方进行解密。所有这些都不需要告诉他们任何敏感信息。您只需要公钥来执行加密。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><p id="b619" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！如果你喜欢这篇文章，看看下面更多的文章:</p><ul class=""><li id="bc23" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated"><a class="ae ky" href="https://tateg.medium.com/read-these-books-and-youll-write-better-code-e5bff4b0ee8f" rel="noopener"> <em class="lv">阅读这些书，你会写出更好的代码</em> </a></li><li id="0c66" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/awesome-aws-ec2-features-you-may-have-overlooked-7bb8d8c55af3"> <em class="lv">你可能忽略的牛逼AWS EC2特性</em> </a></li></ul></div></div>    
</body>
</html>