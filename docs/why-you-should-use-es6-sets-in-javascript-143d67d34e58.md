# 为什么应该在 JavaScript 中使用 ES6 集合

> 原文：<https://betterprogramming.pub/why-you-should-use-es6-sets-in-javascript-143d67d34e58>

## 集合结合了数组和对象的最佳部分

![](img/70910f71f0dbfbdb4ed8c398b87a7639.png)

乔纳森·马斯特在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄的照片。

# 什么是集合？

集合是唯一值的集合。这意味着没有值可以在集合中出现两次或更多次。所以只有这一个限制使得一个值集合成为一个集合。

我们通常在集合上执行哪些操作？最常见的有:

*   添加一个元素。
*   移除一个元素。
*   检查集合是否包含元素。

# 阵列与对象和 ES6 集

在 ES6 之前，在 JavaScript 中使用数组和普通对象作为集合是常见的做法。让我们比较一下数组、普通对象和 ES6 集合上的这些基本操作:

数组:

对象:

ES6 集:

到目前为止，一切顺利。ES6 集合在这些操作中使用起来更简洁，但是这真的证明了使用更复杂的数据结构的合理性吗？

人们可以这样说。对于数组，我们必须手动强制唯一性属性。对于对象，我们必须加强`{'element': true, …}`结构。这是非常容易出错的，因为您必须确保在与您的集合交互的代码的每一部分都保持这个属性。

使用普通对象的另一个缺点是我们只能在对象中保存字符串。然而，可以通过使数据结构更复杂来克服这一限制。

但是有更多的理由使用 ES6 集…

# 复杂集合运算

在代码中使用集合时，您迟早会遇到需要更高级集合运算的情况，比如:

*   集合 A 和 B 的交集**和**
*   集合 A 和 B 的并集**和**
*   将 A 设为 B 的子集

对于数组和对象，这些操作可能相当复杂和缓慢。

数组:

对象:

## 与数组的关系

在我们展示 ES6 集的这些操作之前，让我们来看看阵列和 ES6 集之间非常有用的关系。我们可以简单地将阵列转换为 ES6 集，反之亦然:

使用这种转换，我们现在可以将阵列的简单性与 ES6 集的速度结合起来:

# 结论

ES6 集合结合了数组的简单性和对象的速度，是在 JavaScript 中表示集合的非常好的选择。它们与数组之间的简单转换使得结合两者的优点变得很容易。此外，ES6 集合自动执行集合的唯一性属性，这使得您的代码不容易出错。

您不必在所有代码中使用 ES6 集合，但是每当您需要数组像集合一样工作时，您可以轻松地转换您的数组，并使用 ES6 集合带来的所有好处。

在[文档](https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Set)中找到更多关于 ES6 套件的信息。

实际上，在数学中这个限制并不成立，但是对于实际的计算机科学来说，它在性能方面很有意义。此外，大多数实现都遵循这个定义。