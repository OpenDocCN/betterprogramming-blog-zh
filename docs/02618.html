<html>
<head>
<title>Create Your Own Santa Tracker With Gatsby and React Leaflet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用盖茨比和React传单创建自己的圣诞老人追踪器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-your-own-santa-tracker-with-gatsby-and-react-leaflet-664789c42207?source=collection_archive---------13-----------------------#2019-12-12">https://betterprogramming.pub/create-your-own-santa-tracker-with-gatsby-and-react-leaflet-664789c42207?source=collection_archive---------13-----------------------#2019-12-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0133" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">融入节日气氛，启动地图应用程序追踪圣诞老人的旅程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ed4ca8b86bfd146d690c4887e651b941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1JN5lZrW4zGkWD-rCRyxwg.jpeg"/></div></div></figure><p id="940f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">圣诞节是一年中神奇的时刻。我们让圣诞老人飞来飞去传播快乐，在我们一年一度与家人和朋友团聚时，小精灵在纽约四处游荡。</p><p id="19d6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了体现这种精神，我们将开发一个网络应用程序，其中包含一张追踪圣诞老人的地图。</p><p id="cc70" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq">编辑12/23:更新了应用程序以直接请求圣诞老人的路线，以防原来的API不能如最初预期的那样工作。</em></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="4556" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">我们要建造什么？</h1><p id="44ff" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我们将通过建立一个地图应用程序来跟踪圣诞老人的路线和他的当前位置。</p><p id="04c4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了实现这一点，我们将旋转一个预制的盖茨比启动器，它将为我们提供一个地图的基本基础，使用谷歌的非官方API来获取圣诞老人的路线，并用传单将他的位置和路线覆盖在地图上。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="84dc" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">哇，一个地图应用？</h1><p id="0169" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">没错。如果你之前没有玩过地图，也不要气馁。这并不像你想象的那么糟糕。</p><p id="91a0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你更愿意从映射基础开始，你可以<a class="ae mv" href="https://www.element84.com/blog/mapping-with-leaflet-and-react" rel="noopener ugc nofollow" target="_blank">先阅读更多关于映射如何工作的信息</a>。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="7cee" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">开始之前我们需要什么？</h1><p id="4b48" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在这个练习中，我将假设您已经安装了<a class="ae mv" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>或<a class="ae mv" href="https://yarnpkg.com/en/" rel="noopener ugc nofollow" target="_blank"> yarn </a>。对于每个例子，我将使用纱线，但使用您选择的工具。</p><p id="e555" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你还想在全球范围内安装<a class="ae mv" href="https://www.gatsbyjs.org/docs/gatsby-cli/" rel="noopener ugc nofollow" target="_blank"> Gatsby的CLI </a>，这将允许我们使用他们的<a class="ae mv" href="https://www.gatsbyjs.org/docs/starters/" rel="noopener ugc nofollow" target="_blank">启动工具</a>。</p><p id="d93c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要设置Gatsby的CLI，请运行以下命令:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="21c2" class="nb lz it mx b gy nc nd l ne nf">yarn global add gatsby-cli</span></pre><p id="fbdd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">之后，您应该能够运行<code class="fe ng nh ni mx b">gatsby -h</code>来查看可用的命令，这意味着它已经成功安装。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/e453f48865de240847afaf2aed59dfae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1F1yr51sIVbgRHjf.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">运行gatsby -h来验证安装</p></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="6a37" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">开始使用我们的地图基础</h1><p id="311f" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">一旦我们的命令行工具设置好了，我们要做的第一件事就是使用<a class="ae mv" href="https://github.com/colbyfayock/gatsby-starter-leaflet" rel="noopener ugc nofollow" target="_blank">我放在一起的传单启动器</a>创建一个新的Gatsby项目，它为我们提供了一个基本的设置，包括<a class="ae mv" href="https://leafletjs.com/" rel="noopener ugc nofollow" target="_blank">传单</a>和<a class="ae mv" href="https://react-leaflet.js.org/" rel="noopener ugc nofollow" target="_blank">反应传单</a>。</p><p id="b71d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从您的项目目录开始，让我们安装项目:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="a148" class="nb lz it mx b gy nc nd l ne nf">gatsby new [directory] <a class="ae mv" href="https://github.com/colbyfayock/gatsby-starter-leaflet" rel="noopener ugc nofollow" target="_blank">https://github.com/colbyfayock/gatsby-starter-leaflet</a></span></pre><p id="3d4d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">确保将<code class="fe ng nh ni mx b">[directory]</code>替换为您想要设置项目的位置。</p><p id="d354" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦您运行了这个命令，Gatsby将在没有任何Git引用的情况下克隆这个项目，并安装启动所需的包。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/a90b58a942855e5df6ed2babe08e5446.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hyoERwEhjKH24tjU.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">安装Gatsby入门手册</p></figure><p id="a25c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了确保它能够工作，您现在可以导航到该目录，启动您的服务器，并在浏览器中测试它:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="ed7c" class="nb lz it mx b gy nc nd l ne nf">cd [directory]<br/>yarn develop</span></pre><p id="d6c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在你看到上面的<code class="fe ng nh ni mx b">[directory]</code>的地方，确保在建立新的Gatsby项目时使用和你之前一样的路径。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/0a203736b99904f8a153a567a1f7666b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*l8epZHQrdq2Yq7yB.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">跑步盖茨比入门传单</p></figure><p id="79dc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果一切按计划进行，您的服务器应该会启动，现在您应该能够在浏览器中看到您的基本地图应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0ea3c7038880fe13c029197d52888293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MJeyfZwpX5zZCeQl.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">浏览器中的盖茨比入门传单</p></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="dadc" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">清理东西</h1><p id="d7ab" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">这个初学者附带了一个我们如何与地图互动的快速示例。对于我们的目的，我们根本不需要这个，所以我们可以继续清理东西。</p><p id="dedf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，我们将打开我们的<code class="fe ng nh ni mx b">index.js</code>文件，即主页，并删除<code class="fe ng nh ni mx b">mapEffect</code>函数中的所有内容，这样我们就有了:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="0786" class="nb lz it mx b gy nc nd l ne nf">// In src/pages/index.js<br/><br/>async function mapEffect({ leafletElement } = {}) {<br/>  // Get rid of everything in here<br/>}</span></pre><p id="f52f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，让我们移除嵌套在<code class="fe ng nh ni mx b">Map</code>中的<code class="fe ng nh ni mx b">Marker</code>组件。我们最终会得到:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="4a2e" class="nb lz it mx b gy nc nd l ne nf">&lt;Map {…mapSettings} /&gt;</span></pre><p id="fd39" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">既然我们不再使用该功能，我们可以去掉顶部的变量和引用，因此您可以继续删除:</p><ul class=""><li id="14b3" class="nq nr it kw b kx ky la lb ld ns lh nt ll nu lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">useRef</code></li><li id="95b4" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">promiseToFlyTo</code></li><li id="c814" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">getCurrentLocation</code></li><li id="013e" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">Marker</code></li><li id="5d81" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">gatsby_astronaut</code></li><li id="8f66" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">ZOOM</code></li><li id="c6ce" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">timeToZoom</code></li><li id="dba3" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">timeToOpenPopupAfterZoom</code></li><li id="5d69" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">timeToUpdatePopupAfterZoom</code></li><li id="8aa9" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">popupContentHello</code></li><li id="16cd" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">popupContentGatsby</code></li><li id="9d2c" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><code class="fe ng nh ni mx b">markerRef</code></li></ul><p id="5a1b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mv" href="https://github.com/colbyfayock/my-santa-tracker/commit/58106bad98ff7491f56d580d01f70f1400120fce" rel="noopener ugc nofollow" target="_blank">跟随提交。</a></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="8bba" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">寻找圣诞老人</h1><p id="ffb1" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">现在我们在一个好地方，让我们弄脏我们的手并且找到圣诞老人。为了做到这一点，我们将使用谷歌的非官方的，未记录的API。这意味着这个API可能在发布后的第二天就不可用了，但是让我们乐观一点。</p><p id="f71a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，在撰写本文时，它仍然显示去年的目的地，所以我们真正要可视化的是圣诞老人前一年的路线——尽管希望这将在24日重置，我们都将快乐！</p><p id="c7dd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们得到圣诞老人之前，让我们先给我们的<code class="fe ng nh ni mx b">mapEffect</code>函数添加一行代码:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="9b0d" class="nb lz it mx b gy nc nd l ne nf">async function mapEffect({ leafletElement } = {}) {<br/>  if ( !leafletElement ) return;<br/>}</span></pre><p id="4aa0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这样做的目的是在地图还没有准备好的情况下，防止其余的代码运行。正如您在<code class="fe ng nh ni mx b">Map</code>组件中看到的，<code class="fe ng nh ni mx b">mapEffect</code>函数本身运行在<code class="fe ng nh ni mx b">useEffect</code>的一个实例内部，向地图传递一个<code class="fe ng nh ni mx b">ref</code>参数，允许我们在组件渲染后运行一些代码。</p><p id="8570" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以一旦我们有了这条线，现在让我们在我们的<code class="fe ng nh ni mx b">mapEffect</code>函数中获取圣诞老人的路线:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="3c72" class="nb lz it mx b gy nc nd l ne nf">async function mapEffect({ leafletElement } = {}) {<br/>  if ( !leafletElement ) return;<br/>  let santa, santaJson, route, routeJson;<br/>  try {<br/>    santa = await fetch(‘<a class="ae mv" href="https://santa-api.appspot.com/info?client=web&amp;language=en&amp;fingerprint=&amp;routeOffset=0&amp;streamOffset=0" rel="noopener ugc nofollow" target="_blank">https://santa-api.appspot.com/info?client=web&amp;language=en&amp;fingerprint=&amp;routeOffset=0&amp;streamOffset=0</a>’);<br/>    santaJson = await santa.json();<br/>    route = await fetch(santaJson.route);<br/>    routeJson = await route.json();<br/>  } catch(e) {<br/>    console.log(`Failed to find Santa!: ${e}`);<br/>  }<br/>  console.log(‘routeJson’, routeJson);<br/>}</span><span id="d4a2" class="nb lz it mx b gy oe nd l ne nf">}<br/>  console.log(‘routeJson’, routeJson);<br/>}</span></pre><p id="4d33" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们来分解一下:</p><ul class=""><li id="e0b0" class="nq nr it kw b kx ky la lb ld ns lh nt ll nu lp nv nw nx ny bi translated">我们通过API端点获取圣诞老人的路线</li><li id="a511" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">一旦我们有了他的路线，我们就以JSON格式获取响应，以便更容易处理</li><li id="3686" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">这些都包含在try/catch中，因此我们可以安全地处理任何响应错误</li><li id="63cb" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">最后，我们现在只是<code class="fe ng nh ni mx b">log</code>给出我们的回应</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/da0bb0e39abd9945e2232c6a60a23174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iE5ZpDshJdfbB6SY.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">网络控制台中圣诞老人的路线对象</p></figure><p id="5177" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们有了圣诞老人和他的路线，这意味着我们可以看到他路线上的所有目的地。如果你仔细研究一下回复，你会发现一些有趣的事情，比如每个地点收到了多少礼物，以及当时的天气情况。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="a181" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">把大头针放在他的位置上</h1><p id="6691" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我们找到圣诞老人了！现在让我们把他放在地图上。</p><p id="f5a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">出于我们的目的，我们需要找到圣诞老人的纬度和经度。问题是，我们没有在任何地方定义这个确切的值，我们只是得到他的目的地。</p><p id="3e04" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由于我们没有指定他的位置，我们可以利用他最后一次收到礼物的位置。在<code class="fe ng nh ni mx b">mapEffect</code>函数中的最后一个代码片段后添加以下内容:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="7e79" class="nb lz it mx b gy nc nd l ne nf">const { destinations = [] } = routeJson || {};<br/>    const destinationsVisited = destinations.filter(({arrival}) =&gt; arrival &lt; Date.now());<br/>    const destinationsWithPresents = destinationsVisited.filter(({presentsDelivered}) =&gt; presentsDelivered &gt; 0);<br/>const lastKnownDestination = destinationsWithPresents[destinationsWithPresents.length - 1]</span></pre><p id="c7a3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们的请求代码下面，我们:</p><ul class=""><li id="b517" class="nq nr it kw b kx ky la lb ld ns lh nt ll nu lp nv nw nx ny bi translated">析构<code class="fe ng nh ni mx b">routeJson</code>以将<code class="fe ng nh ni mx b">destinations</code>抓取到一个常量中，添加一个到空对象的回退</li><li id="0641" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">使用route对象中的到达时间过滤结果，仅查找他访问过的目的地</li><li id="67d4" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">过滤结果以仅查找有礼物的位置</li><li id="1fa6" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">最后从数组中获取最后一项，这显示了他最后的已知位置</li></ul><p id="6448" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这个时间点，12月23日，我们实际上没有任何目的地，因为圣诞老人仍然在北极。在任何时候，我们都可以通过将<code class="fe ng nh ni mx b">destinationsVisited</code>中的<code class="fe ng nh ni mx b">Date.now()</code>替换为未来的日期来模拟未来的日期，例如<code class="fe ng nh ni mx b">1577188980000</code>将是东部时间12月24日晚上7点左右。有了这个改变，我们就可以看到圣诞老人的路线实际上是什么样子了！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="50af" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">处理一个失踪的圣诞老人</h1><p id="6ea1" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">现在快到圣诞节了，圣诞老人还是会在北极，那我们就来处理没有位置的情况吧。</p><p id="c226" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们设置<code class="fe ng nh ni mx b">lastKnownDestination</code>的那一行上面，让我们加上:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="f017" class="nb lz it mx b gy nc nd l ne nf">if ( destinationsWithPresents.length === 0 ) {<br/>  // Create a Leaflet Market instance using Santa's LatLng location<br/>  const center = new L.LatLng( 0, 0 );<br/>  const noSanta = L.marker( center, {<br/>    icon: L.divIcon({<br/>      className: 'icon',<br/>      html: `&lt;div class="icon-santa"&gt;🎅&lt;/div&gt;`,<br/>      iconSize: 50<br/>    })<br/>  });<br/>  noSanta.addTo( leafletElement );<br/>  noSanta.bindPopup( `Santa's still at the North Pole!` );<br/>  noSanta.openPopup();<br/>  return;<br/>}</span></pre><p id="83c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好吧，那我们在这里做什么？</p><ul class=""><li id="dc92" class="nq nr it kw b kx ky la lb ld ns lh nt ll nu lp nv nw nx ny bi translated">首先，我们检查我们是否有任何带礼物的目的地，在这里我们没有</li><li id="5767" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">我们首先创建一个地图的中心</li><li id="7dac" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">我们创建了一个传单标记，使用该中心，带有一个自定义的圣诞老人图标</li><li id="ec31" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">接下来，我们将圣诞老人标记添加到leafletElement，这是我们的地图</li><li id="9868" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">为了显示消息，我们首先用自定义消息绑定一个弹出窗口并打开它</li><li id="0815" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">最后我们返回，这样剩下的代码就不会运行了，因为此时我们还没有圣诞老人</li></ul><p id="422c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是在发布后添加的一个部分，用于处理API重置，但是您仍然可以在其余代码的上下文中遵循我添加的代码。</p><p id="2dab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mv" href="https://github.com/colbyfayock/my-santa-tracker/blob/master/src/pages/index.js#L40" rel="noopener ugc nofollow" target="_blank">代码中跟随龙。</a></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="b005" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">钉圣诞老人</h1><p id="1f0c" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated"><em class="lq">2013年12月23日编辑:这一部分最初是用前一年的API编写的，但这仍然是一个很好的例子，说明了您对响应的期望，因此您可以继续跟进。</em></p><p id="7ab5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如我们看到的，因为我们在看去年的数据，圣诞老人回到了北极的家。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/db4448f7ed4e7666e178898a658821c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ml7u2A1E75D0EuDc.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">圣诞老人在网络控制台中的最后已知位置</p></figure><p id="767a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有了他的位置，我们就可以把它拆开，建立一个传单标记实例，并把我们的老朋友添加到地图上。在<code class="fe ng nh ni mx b">mapEffect</code>函数中的最后一个代码片段后添加以下内容:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="f9bd" class="nb lz it mx b gy nc nd l ne nf">const santaLocation = new L.LatLng( lastKnownDestination.location.lat, lastKnownDestination.location.lng );<br/><br/>const santaMarker = L.marker( santaLocation, {<br/>  icon: L.divIcon({<br/>    className: ‘icon’,<br/>    html: `&lt;div class=“icon-santa”&gt;🎅&lt;/div&gt;`,<br/>    iconSize: 50<br/>  })<br/>});<br/><br/>santaMarker.addTo(leafletElement);</span></pre><p id="ee52" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这里我们:</p><ul class=""><li id="ad04" class="nq nr it kw b kx ky la lb ld ns lh nt ll nu lp nv nw nx ny bi translated">用他的位置创建一个传单<code class="fe ng nh ni mx b">LatLng </code>实例</li><li id="aab2" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">用我们新创建的LatLng实例创建一个<code class="fe ng nh ni mx b">Marker</code>实例</li><li id="ec35" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">将我们的新<code class="fe ng nh ni mx b">Marker</code>添加到地图中</li></ul><p id="2d35" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们刷新页面，您需要缩小并向上平移一点，但我们会在地图上看到圣诞老人。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c901f6b3ed9538574c40001970f4c552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q-xdD_dayePzvyDa.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">地图上的圣诞老人</p></figure><p id="7b45" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们继续之前，让我们给圣诞老人一点节日的欢呼，让他更容易被找到。找到你的<code class="fe ng nh ni mx b">application.scss</code>文件，把这些风格放进:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="0736" class="nb lz it mx b gy nc nd l ne nf">// In src/assets/stylesheets/application.scss<br/><br/>.icon {<br/><br/>  &amp; &gt; div {<br/><br/>    display: flex;<br/>    justify-content: center;<br/>    align-items: center;<br/>    overflow: hidden;<br/>    border-radius: 100%;<br/>    box-shadow: 0 3px 4px rgba(0,0,0,.4);<br/>    border: none;<br/>    transition: all .2s;<br/><br/>    &amp;:hover {<br/>      box-shadow: 0 4px 8px rgba(0,0,0,.6);<br/>    }<br/><br/>  }<br/><br/>}<br/><br/>.icon-santa {<br/>  width: 50px;<br/>  height: 50px;<br/>  font-size: 3em;<br/>  background: white;<br/>}</span></pre><p id="3c58" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这只是在他周围增加了一个白色的圆圈，一点阴影，并增加了一点大小，使他更容易在地图上找到。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a83b765d554e3b93b4260146353749c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xacRUxEePbqfILuJ.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">地图上的圣诞老人</p></figure><p id="60c5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mv" href="https://github.com/colbyfayock/my-santa-tracker/commit/1b636107078fce64068ce661903892c095cb4668" rel="noopener ugc nofollow" target="_blank">跟随提交。</a></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="2ff8" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">画出他的路线</h1><p id="d59b" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">这里我们要做的最后一件事是在地图上画一条显示他路线的路径，这样我们就可以跟着走了。</p><p id="9dd2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，让我们更新代码，将这最后一点添加到<code class="fe ng nh ni mx b">mapEffect</code>函数中的最后一个代码片段之后:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="df94" class="nb lz it mx b gy nc nd l ne nf">// Create a set of LatLng coordinates that make up Santa's route<br/><br/>const santasRouteLatLngs = destinationsWithPresents.map(destination =&gt; {<br/>  const { location } = destination;<br/>  const { lat, lng } = location;<br/>  return new L.LatLng( lat, lng );<br/>});<br/><br/>// Utilize Leaflet's Polyline to add the route to the map<br/><br/>const santasRoute = new L.Polyline( santasRouteLatLngs, {<br/>  weight: 2,<br/>  color: 'green',<br/>  opacity: 1,<br/>  fillColor: 'green',<br/>  fillOpacity: 0.5<br/>});<br/><br/>// Add Santa to the map!<br/><br/>santasRoute.addTo(leafletElement);</span></pre><p id="8d71" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们正在做的事情:</p><ul class=""><li id="ed79" class="nq nr it kw b kx ky la lb ld ns lh nt ll nu lp nv nw nx ny bi translated">创建一系列传单<code class="fe ng nh ni mx b">LatLng</code>实例，组成圣诞老人的路线</li><li id="6b2a" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">使用路线数组创建传单<code class="fe ng nh ni mx b">Polyline</code>(多点线)</li><li id="3f69" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">让那辆<code class="fe ng nh ni mx b">Polyline</code>变绿</li><li id="df49" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">将我们的<code class="fe ng nh ni mx b">Polyline</code>添加到地图中</li></ul><p id="890d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们得到的是…一束弯弯曲曲的线。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/62f8b48b71485db6eb50d747d8fd68eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GV7wifHuzJVWcI_O.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">地图上圣诞老人的路线</p></figure><p id="32fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是意料之中的。这变得技术非常快，但传单，默认情况下，只能理解地图的一部分，因为它在我们的浏览器中环绕。</p><p id="6970" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这实际上意味着，当坐标到达国际日期变更线时，坐标认为它从世界的一端到另一端，而不是围绕地球画一条线。这有点超出了本教程的范围，但是您可以查看<a class="ae mv" href="https://github.com/briannaAndCo/Leaflet.Antimeridian" rel="noopener ugc nofollow" target="_blank">传单。Antimeridian </a>了解更多信息，看看你能否实现它的解决方案。</p><p id="7d01" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mv" href="https://github.com/colbyfayock/my-santa-tracker/commit/3b0c08f066212ff32c82d3df2a13d1419da8ac41" rel="noopener ugc nofollow" target="_blank">跟随提交。</a></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="18c1" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">一些快速的风格调整</h1><p id="a66c" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">最后一件事——这是完全可选的。让我们把地图放大一点，设置背景颜色来匹配我们的海洋，并缩小一点。所以让我们做一些改变:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="942d" class="nb lz it mx b gy nc nd l ne nf">// In src/pages/index.js<br/><br/>const DEFAULT_ZOOM = 1;</span></pre><p id="92d0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将默认缩放设置为<code class="fe ng nh ni mx b">1</code>而不是<code class="fe ng nh ni mx b">2</code>，以允许地图缩小一点。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="5275" class="nb lz it mx b gy nc nd l ne nf">// In src/assets/stylesheets/pages/_home.scss</span><span id="3244" class="nb lz it mx b gy oe nd l ne nf">.page-home {</span><span id="a4b7" class="nb lz it mx b gy oe nd l ne nf">.map,<br/>  .map-base {<br/>    height: 80vh;<br/>  }</span></pre><p id="cd5c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将地图的高度设置为<code class="fe ng nh ni mx b">80vh</code>而不是<code class="fe ng nh ni mx b">50vh</code>，以使它在屏幕上多占一点空间。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="4140" class="nb lz it mx b gy nc nd l ne nf">// In src/assets/stylesheets/components/_map.scss<br/>.map {</span><span id="a536" class="nb lz it mx b gy oe nd l ne nf">position: relative;</span><span id="bd59" class="nb lz it mx b gy oe nd l ne nf">  &amp;,<br/>  .map-base {<br/>    width: 100%;<br/>    height: 100%;<br/>    background: #acd3de;<br/>  }</span></pre><p id="4792" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将地图的背景颜色设置为<code class="fe ng nh ni mx b">#acd3de</code>而不是<code class="fe ng nh ni mx b">$blue-grey-50</code>，这允许我们在地图上匹配海洋的颜色。</p><p id="14bc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这实现的是能够看到圣诞老人的完整路线和圣诞老人在第一个视图。此外，由于地图只覆盖屏幕的一部分，设置地图的背景颜色可以让我们没有一点点奇怪的截止。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1e25c894b997ae6d9f4921d9a59e6f01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aXKxWNtr3U_hZUpn.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">圣诞老人的路线缩小了</p></figure><p id="5d6d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mv" href="https://github.com/colbyfayock/my-santa-tracker/commit/882ea5c0b1b48da86d81494b8b4ad5db7bc1bae6" rel="noopener ugc nofollow" target="_blank">跟随提交。</a></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="0a08" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">想要挑战吗？</h1><p id="e7a0" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">为了更进一步，按照我们如何添加路线和如何在地图上添加圣诞老人，尝试看看是否可以在每个目的地位置添加一个标记，以显示所有停靠点的位置。额外收获:给每一个添加一个弹出窗口，显示有多少礼物被送到了那个地方。</p><p id="fbf4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要通过一些代码组织和我如何添加礼物标记来查看答案，请查看<a class="ae mv" href="https://github.com/colbyfayock/santa-tracker" rel="noopener ugc nofollow" target="_blank">圣诞老人跟踪器演示</a>的最终版本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6144498e8ef3e8af08775e44f86a51d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ISvK09Wu5Xfzt9wT.jpg"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">圣诞老人追踪器最终演示</p></figure><p id="f87d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当你在那里的时候，你也可以看到我是如何使用传单的。反子午线来确定我们的地图路线。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="7047" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">我们学到了什么？</h1><p id="95da" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">用地图构建基础应用远没有我们想象的那么糟糕。我们学习了如何从API获取一些数据，获取我们需要的数据，并在地图上绘制这些数据的表示。</p><p id="62ab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下次你想在你的登陆页面上添加一个地图插件，试试传单。</p><p id="bea2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我希望你和你的家人有一个美妙的假期！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="1aa2" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">资源</h1><ul class=""><li id="a599" class="nq nr it kw b kx mq la mr ld og lh oh ll oi lp nv nw nx ny bi translated"><a class="ae mv" href="https://santa-tracker.netlify.com/" rel="noopener ugc nofollow" target="_blank">https://santa-tracker.netlify.com/</a></li><li id="a056" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><a class="ae mv" href="https://www.element84.com/blog/mapping-with-leaflet-and-react" rel="noopener ugc nofollow" target="_blank">https://www . element 84 . com/blog/mapping-with-leaflet-and-react</a></li><li id="96d2" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">【https://www.gatsbyjs.org/docs/gatsby-cli/ T4】</li><li id="15bd" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><a class="ae mv" href="https://github.com/colbyfayock/gatsby-starter-leaflet" rel="noopener ugc nofollow" target="_blank">https://github.com/colbyfayock/gatsby-starter-leaflet</a></li><li id="10f1" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><a class="ae mv" href="https://leafletjs.com/" rel="noopener ugc nofollow" target="_blank">https://leafletjs.com/</a></li><li id="519c" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><a class="ae mv" href="https://react-leaflet.js.org/" rel="noopener ugc nofollow" target="_blank">https://react-leaflet.js.org/</a></li><li id="19c7" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated"><a class="ae mv" href="https://github.com/briannaAndCo/Leaflet.Antimeridian" rel="noopener ugc nofollow" target="_blank">https://github.com/briannaAndCo/Leaflet.Antimeridian</a></li></ul></div></div>    
</body>
</html>