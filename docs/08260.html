<html>
<head>
<title>Don’t Use If-Else and Switch in JavaScript, Use Object Literals</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要在JavaScript中使用If-Else和Switch，使用对象文字</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0?source=collection_archive---------0-----------------------#2021-04-12">https://betterprogramming.pub/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0?source=collection_archive---------0-----------------------#2021-04-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f129" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用对象文字在JavaScript中编写更好的条件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/49d326ebcd5f9d80180e9d187ae07da4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hzmn0W1XmkJJyCVs"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@rolls0ut?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Jac Alexandru </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="887c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用JavaScript编写复杂的条件总是有可能产生一些相当混乱的代码。长长的<code class="fe lv lw lx ly b">if/else</code>语句或<code class="fe lv lw lx ly b">switch</code>案例列表会很快变得臃肿。</p><p id="3fe1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当有多个条件时，我发现对象文字是结构化代码最易读的方式。让我们看看它们是如何工作的。</p><p id="644a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">举个例子，假设我们有一个函数获取一个<a class="ae ky" href="https://en.wikipedia.org/wiki/Rhyming_slang" rel="noopener ugc nofollow" target="_blank">押韵俚语</a>短语并返回其含义。使用<code class="fe lv lw lx ly b">if/else</code>语句，它会是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="7697" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不太好。不仅可读性不强，而且我们还在为每条语句重复<code class="fe lv lw lx ly b">toLowerCase()</code>。</p><p id="ae97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以通过在函数开始时将小写字母赋给一个变量来避免这种重复，或者使用一个<code class="fe lv lw lx ly b">switch</code>语句，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="7c6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在只调用<code class="fe lv lw lx ly b">toLowerCase()</code>一次，但这仍然感觉不那么可读。<code class="fe lv lw lx ly b">switch</code>语句也容易出错。在这种情况下，我们只是返回一个值，但是当你有更复杂的功能时，很容易错过一个<code class="fe lv lw lx ly b">break</code>语句并引入错误。</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="7f12" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">另一种选择</h1><p id="0d7e" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">你可以使用一个对象以一种更简洁的方式实现与上面相同的功能。让我们来看一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="dbec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们有一个对象，其中的键是条件，值是响应。然后我们可以使用方括号符号从传入的韵中选择对象的正确值。</p><p id="c10d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第10行的最后一部分(<code class="fe lv lw lx ly b">?? “Rhyme not found”</code>)使用<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator" rel="noopener ugc nofollow" target="_blank"> nullish合并</a>来分配默认响应。这意味着如果<code class="fe lv lw lx ly b">rhymes[rhyme.toLowercase()]</code>是<code class="fe lv lw lx ly b">null</code>或<code class="fe lv lw lx ly b">undefined</code> <strong class="lb iu"> </strong>(而不是<code class="fe lv lw lx ly b">false</code>或<code class="fe lv lw lx ly b">0</code>)，那么返回默认字符串“找不到韵脚”。这很重要，因为我们可能会合理地希望从条件语句中返回<code class="fe lv lw lx ly b">false</code>或<code class="fe lv lw lx ly b">0</code>。例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="058d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个非常人为的例子，但是希望它说明了nullish合并是如何帮助避免引入bug的！</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="e50c" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">更复杂的逻辑</h1><p id="7fca" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">有时候你可能需要在你的条件中做一些更复杂的逻辑。为此，您可以将一个函数作为值传递给对象键，并执行响应:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="2059" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们选择想要做的计算并执行响应，传递两个数字。您可以使用<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" rel="noopener ugc nofollow" target="_blank">可选链接</a>(最后一行代码中的<code class="fe lv lw lx ly b">?.</code>)来仅执行已定义的响应。否则，返回默认的返回字符串。</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="8704" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">结论</h1><p id="ffb0" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">编写条件句永远是个人喜好的问题，某些情况下需要不同的方法。然而，我发现当我有几个条件要检查时，对象文字是可读性和可维护性最好的方式。</p><p id="4260" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我很想听听你的想法，或者你是否有不同于以上概述的方法！</p></div></div>    
</body>
</html>