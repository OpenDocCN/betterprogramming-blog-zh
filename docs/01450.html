<html>
<head>
<title>JavaScript Tips #4: Array flat and flatMap Implementation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript技巧#4:数组平面和平面图实现</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/javascript-tips-4-array-flat-and-flatmap-implementation-2f81e618bde?source=collection_archive---------5-----------------------#2019-09-11">https://betterprogramming.pub/javascript-tips-4-array-flat-and-flatmap-implementation-2f81e618bde?source=collection_archive---------5-----------------------#2019-09-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="da5e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">对新的flat和flatMap方法的潜力的有用介绍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/94cd974d79894145b412ab2111305362.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KZJsLdCw4YuA0c7R"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@tabeadamm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Tabea Damm </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="8440" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一种编程语言，JavaScript不断发展，增加了新的语法、特性或抽象，帮助开发人员轻松解决复杂的问题。</p><p id="7a0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在ES10中，我们收到了一些新的数组方法来处理一个你可能在代码中见过很多次的常见操作:将数组的元素扩展到一个新的元素中。</p><p id="1096" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两种方法分别是<code class="fe lv lw lx ly b">flat</code>和<code class="fe lv lw lx ly b">flatMap</code>。让我们来谈谈他们做什么，以及一个可能的polyfill来模拟他们在旧浏览器中的行为。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="cebc" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">平的</h1><p id="2751" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">作为数组原型的一部分，<code class="fe lv lw lx ly b">flat</code>方法返回一个新数组，传播列表中嵌套数组的内容。它最终接受一个可选的<code class="fe lv lw lx ly b">depth</code>参数，该参数表示在停止之前我们想要扩展多少嵌套层次的数组。</p><p id="8781" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于并非所有浏览器都完全支持该方法(查看此处支持的列表:<a class="ae ky" href="https://caniuse.com/#search=flat" rel="noopener ugc nofollow" target="_blank">可以使用</a>)，我们来实现一个命令性的执行解决方案，以达到相同的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/78820be40565283c455110d31ec9b818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6t7efBxHBH2n3iZEfyMkBQ.png"/></div></div></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="4f29" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">平面地图</h1><p id="2e26" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated"><code class="fe lv lw lx ly b">flatMap</code>方法的工作方式与<code class="fe lv lw lx ly b">flat</code>非常相似，但是它遍历每个元素并将传递的回调函数的结果放到一个新数组中。我们可以把它看作是通常的<code class="fe lv lw lx ly b">map</code><strong class="lb iu"><em class="ne"/></strong><strong class="lb iu"><em class="ne"/></strong><code class="fe lv lw lx ly b">flat</code><strong class="lb iu"><em class="ne"/></strong>方法的组合。</p><p id="25bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与<code class="fe lv lw lx ly b">flat</code>不同的是<em class="ne"> </em>这种方法只是将回调结果扁平化一级，并不像flat那样深入。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/c57121b1c2108f548c736ee1c3de897b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vC-3uuxCItQJhgRT1fKexQ.png"/></div></div></figure><p id="3021" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢这篇文章，感谢阅读！</p></div></div>    
</body>
</html>