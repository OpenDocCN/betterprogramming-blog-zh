<html>
<head>
<title>Build an Arcade Game With Vanilla JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用普通JavaScript构建一个街机游戏</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-an-arcade-game-with-vanilla-javascript-d318fc94832b?source=collection_archive---------13-----------------------#2020-02-25">https://betterprogramming.pub/build-an-arcade-game-with-vanilla-javascript-d318fc94832b?source=collection_archive---------13-----------------------#2020-02-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2b5a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用DOM操作创建一个简单的街机游戏</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/26d4a1c0ffd370b936663295bef361df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u3nCuqDL8fjSJyR87eS8mg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@carltraw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卡尔·劳</a>在<a class="ae ky" href="https://unsplash.com/s/photos/arcade?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="3702" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于那些刚开始接触JavaScript世界的人来说，今天是一个特殊的日子。掌握我们的手艺的唯一方法是实践，今天我们要弄脏我们的手，并开始提高我们的DOM操作技能。怎么会？用普通的JavaScript构建一个简单的街机游戏。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="8137" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管这篇文章是针对初学者和新手的，但这并不意味着更有经验的开发者不会发现它也很有用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3a49" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我们将涵盖的内容</h1><ul class=""><li id="6382" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">CSS和JavaScript的基础知识。</li><li id="3529" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">Flexbox的基础，CSS3网页布局模型。</li><li id="b0fa" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">使用JavaScript动态操作DOM。</li><li id="bcce" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">一次演练。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9134" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">挑战</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/37c43cd252c9dced5f98fad68607d894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XxjxLo_wiKRZVqHt.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">普通JavaScript街机游戏</p></figure><p id="944a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">街机游戏有以下要求:</p><ul class=""><li id="4c37" class="mu mv it lb b lc ld lf lg li nl lm nm lq nn lu nb nc nd ne bi translated">它使用一个图像作为背景，并有一个可点击的鸭子图像。</li><li id="e7cc" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">当用户点击鸭子时，会发生两件事:1 .当前分数增加1和2。鸭子移动到一个随机的位置。</li><li id="98aa" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">它应该使用ES6规范特性来构建。</li><li id="0e01" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">它使用Flexbox进行布局。</li></ul><p id="b7e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单。现在怎么办？一般来说，对于这样的问题，我们需要做的第一件事是考虑我们需要遵循的方法和解决方案。这意味着我们需要弄清楚完成这些需求所需的每个步骤和细节。我们来分析一下。</p><p id="5e8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了解决这个难题，我们将按照给定的顺序执行接下来的步骤。分裂，你将征服！</p><ol class=""><li id="067b" class="mu mv it lb b lc ld lf lg li nl lm nm lq nn lu no nc nd ne bi translated">使用资源(背景图像和鸭子)和配乐框实现布局。</li><li id="8dbe" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu no nc nd ne bi translated">当我点击鸭子时，我需要什么？我们需要一个事件侦听器，当我们点击它时，它将成为一个触发器。</li><li id="017e" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu no nc nd ne bi translated">创建一个函数来增加当前分数。</li><li id="e396" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu no nc nd ne bi translated">创建一个随机移动鸭子的函数。</li></ol><p id="c967" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事不宜迟，让我们动手干吧。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ea49" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.布局</h1><p id="7436" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">我们的布局(index.html)将有一个作为容器的div，然后图像背景和鸭子。最后，一个<code class="fe ns nt nu nv b">scoreContainer</code> <em class="nw"> </em>元素<em class="nw"> </em>带有分数文本和分数(一个计数器)。</p><pre class="kj kk kl km gt nx nv ny nz aw oa bi"><span id="29d1" class="ob md it nv b gy oc od l oe of">&lt;div class="container"&gt;<br/>     &lt;img src="https://bit.ly/2Q4q14a" /&gt;<br/>     &lt;img id="duck" src="https://bit.ly/2KQJVKc" alt="duck" /&gt;<br/>     &lt;div class="scoreContainer"&gt;<br/>       &lt;div id="score-text"&gt;Score&lt;/div&gt;<br/>       &lt;div id="score-counter"&gt;0&lt;/div&gt;<br/>    &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><h2 id="3468" class="ob md it bd me og oh dn mi oi oj dp mm li ok ol mo lm om on mq lq oo op ms oq bi translated">风格</h2><pre class="kj kk kl km gt nx nv ny nz aw oa bi"><span id="0cec" class="ob md it nv b gy oc od l oe of">/*Make any img element responsive*/<br/>img {<br/> max-width: 100%;<br/>}</span><span id="e91d" class="ob md it nv b gy or od l oe of">/*Set a fixed size for width and height and in an absolute position*/<br/>#duck {<br/> margin: 50px;<br/> width: 100px;<br/> height: 100px;<br/> position: absolute;<br/> left: 100px;<br/> top: 100px;<br/>}</span><span id="d496" class="ob md it nv b gy or od l oe of">/*Style for the Score container*/<br/>.scoreContainer {<br/> background-color: black;<br/> width: 15%;<br/> height: 15%;<br/> color: #ffffff;<br/> top: 5%;<br/> right: 5%;<br/> border: 2px solid greenyellow;<br/> border-radius: 10px;<br/> display: flex;<br/> position: fixed;<br/> flex-direction: column;<br/> align-items: center;<br/>}</span><span id="fe50" class="ob md it nv b gy or od l oe of">#score-text {<br/> font-size: 1.5em;<br/>}</span><span id="388f" class="ob md it nv b gy or od l oe of">#score-counter {<br/> font-size: 3.1em;<br/> font-weight: bold;<br/> color: #06e515;<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1009" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.Java Script语言</h1><h2 id="2aa3" class="ob md it bd me og oh dn mi oi oj dp mm li ok ol mo lm om on mq lq oo op ms oq bi translated">2.1创建事件监听器</h2><p id="24b3" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">现在，我们将在鸭子图像上创建一个事件监听器。当用户点击鸭子图片时，它会触发一个函数。</p><pre class="kj kk kl km gt nx nv ny nz aw oa bi"><span id="3e3f" class="ob md it nv b gy oc od l oe of">//Get the target element<br/>const duck = document.querySelector("#duck");</span><span id="9574" class="ob md it nv b gy or od l oe of">//Add the click event listener<br/>duck.addEventListener("click", () =&gt; {<br/>  //Dont forget call the functions here <br/>  increaseScore();<br/>  moveDuck();<br/>});</span></pre><h2 id="9f73" class="ob md it bd me og oh dn mi oi oj dp mm li ok ol mo lm om on mq lq oo op ms oq bi translated">2.2创建一个增加当前分数的函数</h2><p id="3a83" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">我们刚刚创建了事件监听器。现在，我们将创建一个函数，将计数器(我们的分数)增加1。</p><pre class="kj kk kl km gt nx nv ny nz aw oa bi"><span id="d4b2" class="ob md it nv b gy oc od l oe of">//Increase score by 1<br/>const increaseScore = () =&gt; {<br/>  //Get the content of the target element. The current value for score<br/>  const score = document.querySelector("#score-counter").innerHTML;<br/>  //Get the element to increase the value<br/>  const scoreHTML = document.querySelector("#score-counter");<br/>  //Cast the score value to Number type<br/>  let count = Number(score);<br/>  //Set the new score to the target element<br/>  scoreHTML.innerHTML = count + 1;<br/>};</span></pre><h2 id="9113" class="ob md it bd me og oh dn mi oi oj dp mm li ok ol mo lm om on mq lq oo op ms oq bi translated">2.3创建一个随机移动鸭子的函数</h2><p id="c320" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">是时候动鸭子了。然而，因为鸭子会随机移动，所以创建一个助手函数来获得一个随机数是一个不错的选择，我们稍后将使用这个随机数来设置随机位置。让我们创建这个函数:</p><pre class="kj kk kl km gt nx nv ny nz aw oa bi"><span id="4876" class="ob md it nv b gy oc od l oe of">//Get a random number</span><span id="b072" class="ob md it nv b gy or od l oe of">const getRandomNum = (num) =&gt; {<br/>  return Math.floor(Math.random() * Math.floor(num));<br/>}</span></pre><p id="43bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们要创建一个函数来移动鸭子。我们使用<code class="fe ns nt nu nv b">innerWidth</code> <strong class="lb iu"> </strong>属性获取窗口的内部宽度(以像素为单位),使用<code class="fe ns nt nu nv b">innerHeight</code> <strong class="lb iu"> </strong>属性获取窗口的内部高度(以像素为单位)。此外，我们使用<code class="fe ns nt nu nv b">getRandomNum</code>函数来设置顶部和左侧属性的像素数，以影响鸭子的垂直和水平位置。</p><pre class="kj kk kl km gt nx nv ny nz aw oa bi"><span id="a952" class="ob md it nv b gy oc od l oe of">/*<br/>Move the duck randomly <br/>*/<br/>const moveDuck = () =&gt; {<br/>  const w = window.innerWidth;<br/>  const h = window.innerHeight;<br/>  duck.style.top = getRandomNum(w) + "px";<br/>  duck.style.left = getRandomNum(h) + "px";<br/>};</span></pre><p id="5f72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是今天的全部！我希望您遵循了这个简单的指南，并且已经理解了DOM操作。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a239" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">已完成的程序</strong></h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">街机游戏DOM操作</p></figure><p id="ddc5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nw">感谢阅读！我希望这篇文章对你有帮助。</em></p></div></div>    
</body>
</html>