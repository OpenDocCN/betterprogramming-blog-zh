<html>
<head>
<title>Dive Into Electron</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">潜心研究电子</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/dive-into-electron-552df2fac084?source=collection_archive---------10-----------------------#2020-12-02">https://betterprogramming.pub/dive-into-electron-552df2fac084?source=collection_archive---------10-----------------------#2020-12-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="157d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Node.js和Web技术为Windows、MacOS和Linux构建应用程序，所有这些都来自一个代码库。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6ca8e1ba8fe95b8188699c2b4e1c1250.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q_xPy9oV4lPlCzcEZ0kazQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="63ed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你是一名网络开发者，你现在可能已经知道了<a class="ae lu" href="https://www.electronjs.org/" rel="noopener ugc nofollow" target="_blank">电子</a>。对于门外汉来说，Electron是一种半争议性的技术，它允许开发者使用web技术和单一代码库创建可以在Windows、macOS和Linux上运行的应用程序。尽管开发的应用程序被认为比本地应用程序更慢、更重，但Electron允许web开发人员针对所有三大PC平台——否则这可能会过于昂贵或耗时。事实上，一些最广泛使用的桌面应用程序(包括Visual Studio代码、Slack和Discord)都是用Electron构建的。</p><p id="2786" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本指南中，我们将设置一个简单的电子应用程序。因为electronic是基于<a class="ae lu" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>的，你需要先熟悉它，因为我不会在这里讨论它。您还需要了解<a class="ae lu" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"> Express </a>库的基础知识。作为奖励，我们将使用<a class="ae lu" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>而不是JavaScript。相信我，你永远不会想回JS。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="de7d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">概观</h1><p id="a1eb" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">电子应用程序本质上运行在与大多数web应用程序相同的前端/后端模型上，除了前端运行在自己的窗口而不是浏览器中，后端是本地运行而不是在服务器上运行的节点应用程序。</p><p id="8895" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">制作过程可以分为以下几个主要部分:</p><ol class=""><li id="f362" class="mz na it la b lb lc le lf lh nb ll nc lp nd lt ne nf ng nh bi translated">设置环境</li><li id="0959" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">设置类型脚本</li><li id="5790" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">创建后端</li><li id="f066" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">创建前端</li><li id="eddd" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">测试应用程序</li><li id="ee9b" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">构建应用程序</li></ol><blockquote class="nn no np"><p id="8b21" class="ky kz nq la b lb lc ju ld le lf jx lg nr li lj lk ns lm ln lo nt lq lr ls lt im bi translated"><strong class="la iu">关于安全性的说明:</strong>我将使用一个Express服务器来实现后端和前端之间的通信。这使我们能够创建一些在开发中易于使用的东西，并允许您现有的Web应用程序轻松地移植到electronic。不过，在生产中，你应该总是使用<a class="ae lu" href="https://www.tutorialspoint.com/electron/electron_inter_process_communication.htm" rel="noopener ugc nofollow" target="_blank">电子IPC </a>来达到这个目的。</p></blockquote><p id="f4d2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就这样，让我们开始吧。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d0f5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.设置环境</h1><p id="5290" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">首先，确保节点安装在您的计算机上。</p><p id="256f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，为您的电子应用程序创建一个新文件夹，然后启动终端并导航到新文件夹。在那里，运行<code class="fe nu nv nw nx b">npm init</code>来初始化一个新的节点项目。回答每个提示，不确定时保留默认值。</p><p id="fb2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="nq">注意:虽然不是强制性的，但是在这一点上你可能需要设置</em><a class="ae lu" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"><em class="nq">Git</em></a><em class="nq">版本控制。如果你这样做，确保它忽略了</em> <code class="fe nu nv nw nx b"><em class="nq">/dist</em></code> <em class="nq">和</em> <code class="fe nu nv nw nx b"><em class="nq">/build</em></code> <em class="nq">文件夹，因为这些文件夹将包含转换的代码和编译的可执行文件。</em></p><h2 id="6855" class="ny md it bd me nz oa dn mi ob oc dp mm lh od oe mo ll of og mq lp oh oi ms oj bi translated">安装依赖项</h2><p id="fc75" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">从项目文件夹的根目录运行以下命令来安装所需的依赖项:</p><pre class="kj kk kl km gt ok nx ol om aw on bi"><span id="e25b" class="ny md it nx b gy oo op l oq or">npm i --save-dev electron electron-packager typescript ts-node-dev<br/>npm i express @types/express</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f4e3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.设置类型脚本</h1><p id="9ec4" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在项目文件夹中，创建一个名为<code class="fe nu nv nw nx b">tsconfig.json</code>的文件，并将以下内容粘贴到其中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="936a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nu nv nw nx b">compilerOptions</code>是一组选项，告诉TypeScript如何解释你的代码并将其转换成JavaScript。请记住，虽然TypeScript是一种很好的编码语言，但在用于生产之前，它仍然必须转换成普通的旧JavaScript。虽然我们不会在这里深入讨论每个选项的细节，但是您应该注意<code class="fe nu nv nw nx b">outDir</code>选项。这告诉我们最终的JS代码将保存在哪里。对于本指南，我们将指示TS将代码放在项目文件夹根目录下名为<code class="fe nu nv nw nx b">dist</code>的文件夹中。</p><p id="1270" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nu nv nw nx b">include</code>选项告诉transpiler在哪里寻找TS代码文件，而<code class="fe nu nv nw nx b">exclude</code>选项明确地告诉它应该避免什么。</p><h2 id="9761" class="ny md it bd me nz oa dn mi ob oc dp mm lh od oe mo ll of og mq lp oh oi ms oj bi translated">源目录</h2><p id="f93c" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">注意<code class="fe nu nv nw nx b">tsconfig.json</code>中的<code class="fe nu nv nw nx b">include</code>选项提到了一个名为<code class="fe nu nv nw nx b">src</code>的文件夹。这还不存在，所以您应该在项目文件夹中创建它。这是您所有后端代码的位置。您还应该创建一个<code class="fe nu nv nw nx b">frontend </code>文件夹:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/7f5357fb10f510af13b3a8108deb181f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_PFtL6c1lpRBO_wTE6QXQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这是您的项目文件夹现在应该看起来的样子。</p></figure><h2 id="8add" class="ny md it bd me nz oa dn mi ob oc dp mm lh od oe mo ll of og mq lp oh oi ms oj bi translated">Package.json更改</h2><p id="78b8" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们需要修改<code class="fe nu nv nw nx b">package.json</code>文件。打开它并用以下内容替换<code class="fe nu nv nw nx b">"scripts"</code>属性:</p><pre class="kj kk kl km gt ok nx ol om aw on bi"><span id="286e" class="ny md it nx b gy oo op l oq or">"scripts": {<br/>    "transpile": "tsc",<br/>    "watch": "ts-node-dev --respawn --poll ./src/main.ts",<br/>    "app": "electron .",<br/>    "build": "electron-packager . --out=build --overwrite"<br/>},</span></pre><p id="c4d1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些脚本定义了我们可以在项目中运行的命令。<code class="fe nu nv nw nx b">transpile</code>命令将把类型脚本代码转换成JavaScript。</p><p id="b01b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nu nv nw nx b">watch</code>命令持续监视您的TypeScript代码，并在您进行更改时直接自动运行它，而无需先将它转换成JavaScript。这在测试过程中非常有用。</p><p id="1d3e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nu nv nw nx b">app</code>命令运行电子应用程序进行测试，而<code class="fe nu nv nw nx b">build</code>命令将为当前平台编译最终的可执行版本，并将其保存到<code class="fe nu nv nw nx b">build</code>文件夹中。</p><p id="2111" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有这三个命令都可以从终端以下列格式运行:<code class="fe nu nv nw nx b">npm run &lt;command&gt;</code>(例如<code class="fe nu nv nw nx b">npm run transpile</code>)。</p><p id="d62b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，将<code class="fe nu nv nw nx b">"main"</code>属性的值更改为<code class="fe nu nv nw nx b">"dist/main.js"</code>。这告诉Electron在其主进程中运行<code class="fe nu nv nw nx b">main.js</code>文件。当然，这个文件不是由我们直接编写的，而是稍后从我们的TypeScript代码转换而来的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3bb2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.创建后端</h1><p id="a159" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">普通的节点后端只包含处理来自客户端的HTTP请求的代码。电子后端包含所有这些，加上处理电子流程本身所需的代码。</p><p id="4533" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe nu nv nw nx b">src</code>文件夹中创建一个名为<code class="fe nu nv nw nx b">main.ts</code>的新文件，并将以下代码粘贴到其中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="c39f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看一下代码。我们首先导入必要的模块。从<code class="fe nu nv nw nx b">electron</code>开始，我们需要导入<code class="fe nu nv nw nx b">app</code>来与应用程序交互，导入<code class="fe nu nv nw nx b">BrowserWindow</code>来管理GUI。除此之外，我们还导入了必要的<code class="fe nu nv nw nx b">express</code>和<code class="fe nu nv nw nx b">path</code>模块来服务前端。</p><p id="4f4c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们设置一个<code class="fe nu nv nw nx b">const PORT</code>变量来设置服务器将监听的端口。这是一个任意的数字，几乎可以设置为任何值，但我建议使用49152–65535范围内的值，以避免与<a class="ae lu" href="https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers" rel="noopener ugc nofollow" target="_blank">保留或常用的</a>端口冲突。</p><p id="8bf7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这一点上，我们开始研究电子。我们首先定义一个<code class="fe nu nv nw nx b">win</code>变量，它将保存一个代表应用程序窗口的对象。也可能是<code class="fe nu nv nw nx b">null</code>没有app窗口存在。</p><p id="0cb9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们定义一个名为<code class="fe nu nv nw nx b">createWindow</code>的函数，它将创建一个新的应用程序窗口，并将其保存在<code class="fe nu nv nw nx b">win</code>变量中。我们使用各种选项来设置窗口的大小和标题，我们使用<code class="fe nu nv nw nx b">win.loadURL</code>函数来指示窗口加载和显示<code class="fe nu nv nw nx b">localhost:7259</code>，这是我们的前端HTML文件(我们还没有创建)的来源。我们在这个函数中做的最后一件事是定义一个<code class="fe nu nv nw nx b">win.on</code>回调，当窗口关闭时，这个回调将<code class="fe nu nv nw nx b">win</code>对象设置回<code class="fe nu nv nw nx b">null</code>。</p><p id="0a8a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到目前为止，我们的代码告诉Electron如何处理应用程序窗口，但没有告诉它如何管理应用程序进程本身。这就是第30到50行的用武之地。这些代码行使用<code class="fe nu nv nw nx b">app.on</code>定义了三个回调函数，当特定事件发生时会调用这些函数。</p><p id="eb30" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当首次初始化电子应用程序流程时，触发了<code class="fe nu nv nw nx b">ready</code>事件，我们创建了一个新的应用程序窗口，并使用<code class="fe nu nv nw nx b">createWindow</code>函数显示它。</p><p id="565b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当所有先前打开的窗口关闭时，触发<code class="fe nu nv nw nx b">window-all-closed</code>事件。当这种情况发生在Windows或Linux上时，我们假设用户打算永远退出应用程序，所以我们调用<code class="fe nu nv nw nx b">app.quit</code>来关闭整个应用程序。然而，在macOS上，应用程序通常会一直在后台运行，直到用户明确地从dock中退出它们，所以我们在<code class="fe nu nv nw nx b">if</code>语句中说明了这种特殊情况。</p><p id="ce24" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们处理<code class="fe nu nv nw nx b">activate</code>事件。当应用程序从后台被带到前台时，就会调用这个函数。当然，这应该只发生在macOS上，因为这是我们首先允许应用程序在后台运行的唯一平台。当该事件被触发时，使用<code class="fe nu nv nw nx b">createWindow</code>功能再次创建一个新的应用程序窗口。</p><p id="7cc3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你熟悉Node和Express，所以我们就不涉及第52行之后的代码了。</p><p id="00eb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此时，我们有了启动电子应用程序和在后台运行Express服务器所需的代码。我们仍然需要一个可以与服务器交互的前端。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f2e3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.创建前端</h1><p id="30ca" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">注意，上面的后端代码引用了一个<code class="fe nu nv nw nx b">index.html</code>文件。尽管您可以使用任何您想要的前端技术，但是对于本指南的目的来说，一个简单的HTML文件就足够了。</p><p id="b988" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将此代码粘贴到项目文件夹根目录下的<code class="fe nu nv nw nx b">index.html</code>文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="e977" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里没有什么特别的——只是一个简单的HTML页面，样式简单，与我们的后端交互。请注意，前端发出的任何HTTP请求都应该有正确的端口号。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="db1f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.测试应用程序</h1><p id="6e89" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">此时，应用程序已经准备好构建了。当然，在确保一切正常工作之前，您不应该浪费时间构建最终的可执行文件。</p><p id="d94f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">运行<code class="fe nu nv nw nx b">npm run watch</code>来运行你的代码并持续观察它的变化。然后，在浏览器中打开<code class="fe nu nv nw nx b">index.html</code>文件。虽然电子应用程序通常不会在浏览器中运行，但它们的核心是web应用程序，因此为了方便起见，我们可以在测试期间使用浏览器。Electron基于Chromium渲染引擎，因此最好使用Chrome、Edge或其他一些基于Chromium的浏览器。</p><p id="6ff3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">测试您的应用程序，并根据需要进行任何更改。对前端代码进行任何更改后，请务必刷新浏览器窗口。</p><p id="3eaa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然从技术上来说，在浏览器和电子容器中运行应用程序应该没有什么区别，但为了确保万无一失，你可以使用<code class="fe nu nv nw nx b">npm run app</code>在电子容器中运行它。</p><p id="5598" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当你确定一切正常时，进入下一部分。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0f40" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">6.构建应用程序</h1><p id="8a83" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">此时，所有的部分都已就绪，剩下的就是为最终用户编译应用程序了。运行<code class="fe nu nv nw nx b">npm run transpile</code>以确保你的代码的最新版本已经被转换成JavaScript。然后，使用<code class="fe nu nv nw nx b">npm run build</code>来构建你的应用程序的最终可执行版本。请注意，虽然这只是为您当前的操作系统创建了一个应用程序，但是您可以查看<code class="fe nu nv nw nx b">electron-packager</code>命令选项，看看如何为其他平台编译，然后相应地更改<code class="fe nu nv nw nx b">package.json</code>脚本。</p><p id="e277" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你应该在一个新的<code class="fe nu nv nw nx b">build</code>文件夹中找到编译好的应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi gj"><img src="../Images/5a28badfaf7237f8b35f677c9ad8285d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*er54jUUu9PA-BizQtPtkkQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">运行编译后的应用程序。</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="45aa" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="98fb" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我希望这个指南能帮助你开始用Electron开发桌面应用程序。感谢阅读！</p></div></div>    
</body>
</html>