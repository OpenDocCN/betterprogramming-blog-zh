<html>
<head>
<title>How to Expose a Secure HTTPS URL to Your Local Web Server</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向您的本地Web服务器公开安全的HTTPS URL</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-expose-a-secure-https-url-to-your-local-web-server-eddf780be515?source=collection_archive---------8-----------------------#2020-02-06">https://betterprogramming.pub/how-to-expose-a-secure-https-url-to-your-local-web-server-eddf780be515?source=collection_archive---------8-----------------------#2020-02-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6ce8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用ngrok建立到本地主机的安全隧道</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7ce206ce9fb179cf378b5bd964ff81d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JkFm1g2JRH4ikLQKkLTZow.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Christian Holzinger 在<a class="ae ky" href="https://unsplash.com/s/photos/modern?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="68ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近不得不为Intuit webhooks设置一个集成。</p><p id="fb3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着我需要我的应用程序通过一个HTTPS URL可用，这样我就可以在他们的开发人员UI中设置它。</p><p id="752d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当我必须做出更改时，我需要将我的应用程序部署到某个地方，触发webhook操作，然后等待请求。然后我会查看日志，看看发生了什么以及失败的原因。</p><p id="16ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我会重新部署和重新触发我的更改。太麻烦了！</p><p id="1b23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，有一个解决方案:<code class="fe lv lw lx ly b">ngrok</code>(网络怪人，懂了吗？).</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="caae" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">ngrok是什么？</h1><p id="44f9" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated"><code class="fe lv lw lx ly b">ngrok</code>是一个轻量级的工具，它允许你在本地机器上创建一个安全的隧道以及一个公共的URL，你可以用它来访问你的本地web服务器。</p><h2 id="a679" class="nd mh it bd mi ne nf dn mm ng nh dp mq li ni nj ms lm nk nl mu lq nm nn mw no bi translated">你能用它做什么？</h2><p id="87bd" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">有很多情况下你会用到<code class="fe lv lw lx ly b">ngrok</code>。也许您想在不部署的情况下向同事演示您的网站。或者，您可能想测试一个连接到本地运行的后端的移动应用程序。</p><p id="234a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我用它开发了一个使用webhooks的服务。<code class="fe lv lw lx ly b">ngrok</code>捕获所有流量进行详细检查，甚至允许您重放HTTP请求。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="c0ac" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">如何让它发挥作用？</h1><p id="014d" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">建立<code class="fe lv lw lx ly b">ngrok</code>不费吹灰之力。<code class="fe lv lw lx ly b">ngrok</code>以存档下载的形式出现——你需要提取它以获得实际的应用程序。你可以把它放在任何地方，只要它在你的路径或符号链接中。</p><p id="17c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从那以后，监听你的网络服务器就很简单了。假设您在<code class="fe lv lw lx ly b">port 8000</code>上运行本地web服务器。在终端中，你可以输入:<code class="fe lv lw lx ly b">ngrok http 8000</code>。</p><p id="300d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">ngrok</code>开始监听<code class="fe lv lw lx ly b">port 8000</code>并创建安全隧道:</p><pre class="kj kk kl km gt np ly nq nr aw ns bi"><span id="2b9b" class="nd mh it ly b gy nt nu l nv nw">ngrok by <a class="ae ky" href="http://twitter.com/inconshreveable" rel="noopener ugc nofollow" target="_blank">@inconshreveable</a>                                                                                                        (Ctrl+C to quit)</span><span id="25c6" class="nd mh it ly b gy nx nu l nv nw">Session Status                online<br/>Account                       meriam (Plan: Free)<br/>Version                       2.3.35<br/>Region                        United States (us)<br/>Web Interface                 <a class="ae ky" href="http://127.0.0.1:4040" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:4040</a><br/>Forwarding                    <a class="ae ky" href="http://9d758a07.ngrok.io" rel="noopener ugc nofollow" target="_blank">http://</a><a class="ae ky" href="http://ab12cd34.ngrok.io" rel="noopener ugc nofollow" target="_blank">ab12cd34</a><a class="ae ky" href="http://9d758a07.ngrok.io" rel="noopener ugc nofollow" target="_blank">.ngrok.io</a> -&gt; <a class="ae ky" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank">http://localhost:8000</a><br/>Forwarding                    <a class="ae ky" href="https://9d758a07.ngrok.io" rel="noopener ugc nofollow" target="_blank">https://</a><a class="ae ky" href="http://ab12cd34.ngrok.io" rel="noopener ugc nofollow" target="_blank">ab12cd34</a><a class="ae ky" href="https://9d758a07.ngrok.io" rel="noopener ugc nofollow" target="_blank">.ngrok.io</a> -&gt; <a class="ae ky" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank">http://localhost:8000</a></span><span id="640b" class="nd mh it ly b gy nx nu l nv nw">Connections                   ttl     opn     rt1     rt5     p50     p90<br/>                              9       0       0.00    0.00    0.00    0.27</span><span id="56d9" class="nd mh it ly b gy nx nu l nv nw">HTTP Requests<br/>-------------</span></pre><p id="268a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它还创建了两组映射到本地web服务器的公共可用URL:</p><pre class="kj kk kl km gt np ly nq nr aw ns bi"><span id="a446" class="nd mh it ly b gy nt nu l nv nw">Forwarding <a class="ae ky" href="http://ab12cd34.ngrok.io" rel="noopener ugc nofollow" target="_blank">http://ab12cd34.ngrok.io</a> -&gt; <a class="ae ky" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank">http://localhost:8000</a><br/>Forwarding <a class="ae ky" href="https://ab12cd34.ngrok.io" rel="noopener ugc nofollow" target="_blank">https://ab12cd34.ngrok.io</a> -&gt; <a class="ae ky" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank">http://localhost:8000</a></span></pre><p id="b345" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的浏览器中调用<code class="fe lv lw lx ly b"><a class="ae ky" href="http://ab12cd34.ngrok.io" rel="noopener ugc nofollow" target="_blank">http://ab12cd34.ngrok.io</a></code>或<code class="fe lv lw lx ly b"><a class="ae ky" href="http://ab12cd34.ngrok.io" rel="noopener ugc nofollow" target="_blank">https://ab12cd34.ngrok.io</a></code> (SSL)应该会调出您的本地站点。</p><p id="d76f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些是<code class="fe lv lw lx ly b">ngrok</code>在每次重启时创建的唯一的URL，使得在整个团队中共享这些一次性的测试会话变得容易。</p><p id="7d57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个公共URL，我能够测试Intuit webhooks，而不需要部署我的web应用程序，并且我能够在我的本地web服务器上接收回调。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="5587" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">监视</h1><p id="6b1e" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated"><code class="fe lv lw lx ly b">Ngrok</code>带有一个web界面，允许您监控本地web服务器的传入流量:</p><pre class="kj kk kl km gt np ly nq nr aw ns bi"><span id="237b" class="nd mh it ly b gy nt nu l nv nw">Web Interface <a class="ae ky" href="http://127.0.0.1:4040" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:4040</a></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/b7848d8bebf5b69882c880e136c9c61b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OqCUUPPsNouCovnEBdL8FA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ngrok接口中传入请求的详细检查</p></figure><p id="2f01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在测试webhooks，<code class="fe lv lw lx ly b">Replay</code>功能会让你的生活变得更加轻松。您可以通过向本地服务器重新发送请求来快速开发webhook集成。对我来说，这意味着我不必去服务的UI并触发动作:我可以简单地点击重放按钮！</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><p id="69e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://inconshreveable.com/" rel="noopener ugc nofollow" target="_blank">艾伦·史瑞夫</a>是<code class="fe lv lw lx ly b">ngrok</code>背后的开发者。在SIGNAL 2015大会上，他做了一个关于ngrok 制作的精彩演讲，他解释了他是如何开始制作这个工具的，以及他在这个过程中做出的产品决策。</p><p id="8a13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Ngrok是一个开源项目。</p><p id="3a2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文件:<a class="ae ky" href="https://ngrok.com/docs" rel="noopener ugc nofollow" target="_blank">https://ngrok.com/docs</a></p><p id="efe5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">github:<a class="ae ky" href="https://github.com/inconshreveable/ngrok" rel="noopener ugc nofollow" target="_blank">https://github.com/inconshreveable/ngrok</a></p></div></div>    
</body>
</html>