<html>
<head>
<title>How to Build Light and Dark Themes With Web Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Web组件构建明暗主题</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-dark-and-light-theme-with-web-components-a63ca1570bfe?source=collection_archive---------6-----------------------#2019-08-27">https://betterprogramming.pub/how-to-build-dark-and-light-theme-with-web-components-a63ca1570bfe?source=collection_archive---------6-----------------------#2019-08-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="79d6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">明暗主题之间的切换从未如此简单</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b6fe99486e04ca227c3bf731e1c953a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YXl4rus2KOgoldvP8sTptw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在明暗主题之间切换</p></figure><p id="4f92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们又回到了黑暗模式。从暗模式到亮模式，再回到暗模式。在个人计算的初期，黑暗模式是唯一的选择。单色阴极射线管计算机显示器通过向磷光屏幕发射电子束来工作。早期CRT使用的磷光体是绿色的，导致文本以绿色显示，而屏幕的其余部分是黑色的。这些型号通常被称为<a class="ae lu" href="https://commons.wikimedia.org/wiki/File:Schneider_CPC6128_with_green_monitor_GT65,_start_screen.jpg" rel="noopener ugc nofollow" target="_blank">绿屏</a>。</p><p id="6772" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随着随后彩色阴极射线管的引入，通过使用红色、绿色和蓝色磷光体能够显示多种颜色。通过同时激活所有三种磷光体来产生白光。现在我们又回到了黑色主题，因为它看起来更舒服，主观上也更美观。</p><p id="a61d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我是web组件的忠实粉丝，喜欢他们如何使web开发面向组件。让我们只使用web组件来构建一个明暗主题切换。</p><blockquote class="lv"><p id="afb9" class="lw lx it bd ly lz ma mb mc md me lt dk translated">"面向组件的编程将是未来."因德雷克·拉斯恩</p></blockquote><p id="66bd" class="pw-post-body-paragraph ky kz it la b lb mf ju ld le mg jx lg lh mh lj lk ll mi ln lo lp mj lr ls lt im bi translated">Web组件是一套不同的技术，允许您创建可重用的自定义元素(将它们的功能封装在代码的其余部分之外)，并在您的web应用程序中使用它们。如果您对web组件不确定，请查看“<a class="ae lu" href="https://medium.com/better-programming/web-components-api-in-a-nutshell-c409127d563a" rel="noopener"> W <em class="mk"> eb组件概要</em> </a>”。</p><div class="ml mm gp gr mn mo"><a href="https://medium.com/better-programming/web-components-api-in-a-nutshell-c409127d563a" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">简而言之，Web组件API</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">本机Web组件API的内容和原因</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">medium.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc ks mo"/></div></div></a></div></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="3023" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">入门指南</h1><p id="6be2" class="pw-post-body-paragraph ky kz it la b lb oc ju ld le od jx lg lh oe lj lk ll of ln lo lp og lr ls lt im bi translated">我们只需要一个网络浏览器和一个文本编辑器。继续创建<code class="fe oh oi oj ok b">index.html</code>文件。如果你使用的是<a class="ae lu" href="https://emmet.io/" rel="noopener ugc nofollow" target="_blank"> emmet </a>，你只需输入<code class="fe oh oi oj ok b">!</code>并点击tab键。这将给你<code class="fe oh oi oj ok b">index.html</code>样板代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">每个web应用程序的构建模块<code class="fe oh oi oj ok b"><strong class="ak">index.html</strong></code></p></figure><h2 id="f6da" class="on nl it bd nm oo op dn nq oq or dp nu lh os ot nw ll ou ov ny lp ow ox oa oy bi translated"><code class="fe oh oi oj ok b">&lt;dark-mode-toggle&gt;</code>元素</h2><p id="c60f" class="pw-post-body-paragraph ky kz it la b lb oc ju ld le od jx lg lh oe lj lk ll of ln lo lp og lr ls lt im bi translated">感谢开源代码，我们已经有了一个方便的组件来满足我们的需求。它被称为<code class="fe oh oi oj ok b"><a class="ae lu" href="https://github.com/GoogleChromeLabs/dark-mode-toggle" rel="noopener ugc nofollow" target="_blank">dark-mode-toggle</a></code>——我们可以通过CDN包含该组件，也可以将其安装为NPM软件包。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/be3f73dc1379061fa2b017f81ce6b1d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTkRw9fEE7byCAitPmvrIw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">黑暗模式切换—<a class="ae lu" href="https://github.com/GoogleChromeLabs/dark-mode-toggle" rel="noopener ugc nofollow" target="_blank">https://github.com/GoogleChromeLabs/dark-mode-toggle</a></p></figure><p id="56c5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下组件是一个自定义元素，允许您轻松地将<em class="mk">暗模式🌒</em>在你的站点上切换，这样你可以根据<code class="fe oh oi oj ok b"><a class="ae lu" href="https://drafts.csswg.org/mediaqueries-5/#prefers-color-scheme" rel="noopener ugc nofollow" target="_blank">prefers-color-scheme</a></code>最初坚持你的用户的偏好，但是也允许他们(可选地永久地)只为你的站点覆盖他们的系统设置。</p><p id="2532" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe oh oi oj ok b"><a class="ae lu" href="https://drafts.csswg.org/mediaqueries-5/#prefers-color-scheme" rel="noopener ugc nofollow" target="_blank">prefers-color-scheme</a></code>媒体功能用于检测用户是否请求页面使用浅色或深色主题。它有以下三个值。</p><ul class=""><li id="479d" class="pa pb it la b lb lc le lf lh pc ll pd lp pe lt pf pg ph pi bi translated"><code class="fe oh oi oj ok b">no-preference</code>:表示浏览器不知道用户的偏好。该关键字值在<a class="ae lu" href="https://drafts.csswg.org/mediaqueries-5/#boolean-context" rel="noopener ugc nofollow" target="_blank">布尔上下文</a>中被评估为<code class="fe oh oi oj ok b">false</code>。</li><li id="6c22" class="pa pb it la b lb pj le pk lh pl ll pm lp pn lt pf pg ph pi bi translated"><code class="fe oh oi oj ok b">light</code>:表示用户已经通知浏览器他们更喜欢浅色主题的页面(浅色背景上的深色文本)。</li><li id="7cac" class="pa pb it la b lb pj le pk lh pl ll pm lp pn lt pf pg ph pi bi translated"><code class="fe oh oi oj ok b">dark</code>:表示用户已经通知浏览器他们更喜欢深色主题的页面(深色背景上的浅色文本)。</li></ul><p id="d0e4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将以下代码放入<code class="fe oh oi oj ok b">index.html</code>的<code class="fe oh oi oj ok b">&lt;head&gt;</code>部分:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="fa85" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">custom元素假设您已经将CSS组织在不同的文件中，这些文件是根据样式表的相应<code class="fe oh oi oj ok b">link</code>元素中的<code class="fe oh oi oj ok b">media</code>属性有条件地加载的。下面的样式表被命名为<code class="fe oh oi oj ok b">common.css</code>、<code class="fe oh oi oj ok b">light.css</code>和<code class="fe oh oi oj ok b">dark.css</code>——注意每个主题是如何拥有自己的封装样式的。继续创建三个样式表。</p><pre class="kj kk kl km gt po ok pp pq aw pr bi"><span id="1b7c" class="on nl it ok b gy ps pt l pu pv">touch common.css light.css dark.css</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/18fc7b63f9993723d74e227681d4f713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6b9VVpzSIdes-0HhXCGuGw.png"/></div></div></figure><p id="d75c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个很好的性能模式，因为您不会强迫人们根据他们当前的主题偏好下载他们不需要的CSS，然而不匹配的样式表仍然会被加载，但不会在关键的呈现路径中竞争带宽。</p><p id="2b93" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，将<code class="fe oh oi oj ok b">&lt;dark-mode-toggle&gt;</code>元素添加到我们的<code class="fe oh oi oj ok b">index.html</code>中</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">添加<strong class="ak">黑暗模式切换</strong>元素</p></figure><p id="3eb6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们也添加一些内容。毕竟，我们希望看到和测试我们的结果。这是我们的<code class="fe oh oi oj ok b">index.html</code>现在的样子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">向<strong class="ak">index.html</strong>添加内容</p></figure><p id="bad0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们需要为我们的明暗主题声明风格。从下面的代码片段中获取样式。</p><h2 id="2672" class="on nl it bd nm oo op dn nq oq or dp nu lh os ot nw ll ou ov ny lp ow ox oa oy bi translated">common.css</h2><p id="cc03" class="pw-post-body-paragraph ky kz it la b lb oc ju ld le od jx lg lh oe lj lk ll of ln lo lp og lr ls lt im bi translated">这些样式在明暗主题之间重复使用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="ak"> common.css </strong></p></figure><p id="0471" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意<code class="fe oh oi oj ok b">color-scheme</code>属性。属性<code class="fe oh oi oj ok b">color-scheme</code>仍在开发中<a class="ae lu" href="https://crbug.com/925935" rel="noopener ugc nofollow" target="_blank"/>，它可能还没有被完全支持。Chrome的全面支持将于2019年底到来。</p><h2 id="6f0b" class="on nl it bd nm oo op dn nq oq or dp nu lh os ot nw ll ou ov ny lp ow ox oa oy bi translated">dark.css</h2><p id="758b" class="pw-post-body-paragraph ky kz it la b lb oc ju ld le od jx lg lh oe lj lk ll of ln lo lp og lr ls lt im bi translated">这些是我们黑暗主题的风格。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="ak"> dark.css </strong></p></figure><h2 id="6c65" class="on nl it bd nm oo op dn nq oq or dp nu lh os ot nw ll ou ov ny lp ow ox oa oy bi translated">light.css</h2><p id="cb35" class="pw-post-body-paragraph ky kz it la b lb oc ju ld le od jx lg lh oe lj lk ll of ln lo lp og lr ls lt im bi translated">最后，灯光主题的风格。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="ak"> light.css </strong></p></figure><p id="8d42" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在浏览器中打开index.html文件。你既可以在本地打开它，也可以启动一个快速HTTP服务器。在我的例子中，我只是用内置的Python服务器打开它。</p><pre class="kj kk kl km gt po ok pp pq aw pr bi"><span id="821d" class="on nl it ok b gy ps pt l pu pv">$ python -m SimpleHTTPServer</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/f5d772f73da4bf6f79b520c3236aedc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x17EILEbqw3mRch4HbJTZA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启动我们的Python服务器</p></figure><p id="e270" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，如果我们打开浏览器，输入<code class="fe oh oi oj ok b">localhost:8000</code>，我们应该会看到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/6cf44db4d55587a899a0c0e153f531bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1h59I8cPhQONQ9QI-tXrWw.png"/></div></div></figure><p id="6d2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">继续点击右上角的主题切换器按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pz"><img src="../Images/3f39c2f253605f94a02ea8259dd136b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tIlxRSv1vhC8lj_ks7asFw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">切换主题</p></figure><p id="4601" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">厉害！它非常有效。你可以在这里找到所有来自<a class="ae lu" href="https://github.com/indreklasn/web-components-dark-light-theme-demo" rel="noopener ugc nofollow" target="_blank"> GitHub库的图片资源。</a></p><div class="ml mm gp gr mn mo"><a href="https://github.com/indreklasn/web-components-dark-light-theme-demo" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">indreklasn/web-组件-暗-亮-主题-演示</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">github.com</p></div></div><div class="mx l"><div class="qa l mz na nb mx nc ks mo"/></div></div></a></div><p id="3dd5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你是JavaScript新手，想学习这门语言，我建议你从阅读书籍和构建东西开始。从“<a class="ae lu" href="https://amzn.to/2LOkzjj" rel="noopener ugc nofollow" target="_blank"> <em class="mk">学习JavaScript的更聪明的方法</em> </a>”这本书和<a class="ae lu" href="https://medium.com/better-programming/the-secret-to-being-a-top-developer-is-building-things-heres-a-list-of-fun-apps-to-build-aac61ac0736c" rel="noopener">这里有一个要构建的有趣应用的列表</a>。</p><p id="5420" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读，我希望你学到了一两件事。保持牛逼！</p><div class="ml mm gp gr mn mo"><a href="https://medium.com/better-programming/2020-programming-trend-predictions-a5d6b70bec26" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">2020年编程趋势预测</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">预测2020年将出现哪些编程技术</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">medium.com</p></div></div><div class="mx l"><div class="qb l mz na nb mx nc ks mo"/></div></div></a></div></div></div>    
</body>
</html>