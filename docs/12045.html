<html>
<head>
<title>How to Use PyScript Within VS Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在VS代码中使用PyScript</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/pyscript-run-python-with-html-e77f1786a062?source=collection_archive---------0-----------------------#2022-05-08">https://betterprogramming.pub/pyscript-run-python-with-html-e77f1786a062?source=collection_archive---------0-----------------------#2022-05-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="20a1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">并且知道如何在PyScript中集成Python包</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5ffbd3f8de64dcc516dbe0de9e8bf8a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s7pmkmq8Mo4T4WGk1n-LYA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">PyScript —在HTML中运行Python</p></figure><p id="2626" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你甚至无法想象我们将要经历什么。Anaconda的首席执行官王蒙杰在2022年的<a class="ae lr" href="https://pycon.org/" rel="noopener ugc nofollow" target="_blank"> PyCon </a>活动上公布了一个相当令人惊讶的项目——<a class="ae lr" href="https://pyscript.net/" rel="noopener ugc nofollow" target="_blank">PyScript，</a>。Anaconda 的开发人员已经开发出一种新的方式，可以在HTML内的网络浏览器上运行python脚本。</p><p id="b461" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">PyScript是一个使用HTML界面在浏览器中构建强大的<a class="ae lr" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>程序的框架。要阅读完整的指南，请访问他们的官方博客。</p><h1 id="16c7" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">安装和设置</h1><p id="7211" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">没有安装任何使用PyScript的包。</p><h2 id="21db" class="mp lt iq bd lu mq mr dn ly ms mt dp mc le mu mv me li mw mx mg lm my mz mi na bi translated">安装和使用PyScript有两种方法</h2><ol class=""><li id="349d" class="nb nc iq kx b ky mk lb ml le nd li ne lm nf lq ng nh ni nj bi translated">您可以下载<a class="ae lr" href="https://github.com/pyscript/pyscript/archive/refs/heads/main.zip" rel="noopener ugc nofollow" target="_blank"> zip文件</a>，并在解压缩后在HTML文件的<code class="fe nk nl nm nn b">&lt;head&gt;</code>标签中包含以下代码行</li></ol><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="4957" class="mp lt iq nn b gy ns nt l nu nv">...<br/>&lt;link rel="stylesheet" href="path/to/pyscript.css" /&gt;<br/>&lt;script defer src="path/to/pyscript.js"&gt;&lt;/script&gt;<br/>...</span></pre><p id="3c2e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请确保将提取的文件移动到主HTML文件的根目录下</p><p id="6efe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">2.或者您可以将这些行直接包含在您的<code class="fe nk nl nm nn b">&lt;head&gt;</code>标签中:</p><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="c59b" class="mp lt iq nn b gy ns nt l nu nv">...<br/>&lt;link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" /&gt;<br/>&lt;script defer src="https://pyscript.net/alpha/pyscript.js"&gt;&lt;/script&gt;<br/>...</span></pre><p id="babc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，让我们进入下一部分。</p><h2 id="e1d4" class="mp lt iq bd lu mq mr dn ly ms mt dp mc le mu mv me li mw mx mg lm my mz mi na bi translated">设置VS代码</h2><p id="3d8b" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">我将推荐使用<a class="ae lr" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> VS Code </strong> </a>作为编辑器，因为它提供了扩展、最好的语法高亮显示以及更多的东西。安装VS代码后，转到扩展选项卡并安装以下扩展—</p><ul class=""><li id="e01a" class="nb nc iq kx b ky kz lb lc le nw li nx lm ny lq nz nh ni nj bi translated"><a class="ae lr" href="https://marketplace.visualstudio.com/items?itemName=HardeepSingh.pyscript" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">py script</strong></a><strong class="kx ir">:</strong>py script漂亮的语法和作用域片段。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/94d746e109e5251ecbfce339ecc8566e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*DeG-Z7Vr186ppMBcj_1MZg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">屏幕截图</p></figure><ul class=""><li id="a8e9" class="nb nc iq kx b ky kz lb lc le nw li nx lm ny lq nz nh ni nj bi translated"><a class="ae lr" href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">直播服务器</strong> </a></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/c7ba41d3b161af2addbcd8ac45e76dd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xYGDe19tMlcGGKHixjvWCw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">实时服务器—自动加载网页</p></figure><p id="829a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这之后，有一个设置你需要在VS代码中更改，这样我们就不会得到任何类似“缩进错误”<em class="oc">的错误。</em>为此，进入文件&gt;首选项&gt;设置。并在搜索栏中键入【保存格式】<strong class="kx ir"> <em class="oc"> </em> </strong>，取消勾选以下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/8d164f591c1479648e5539ea6f10749d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FzT70fNOY1uPBek4sMqmBg.png"/></div></div></figure><p id="5e0f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这样做的原因是，当VS代码保存文件时，它会格式化文本并添加/删除空格，这会导致Python中的错误。</p><p id="e4c8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们已经完成了所有的设置，现在是写代码的时候了。</p></div><div class="ab cl oe of hu og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ij ik il im in"><p id="2cf4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们创建一个新的HTML文件，并将以下代码粘贴到其中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">你好世界节目</p></figure><p id="fd34" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">点击保存并点击右下角的<strong class="kx ir"> <em class="oc">上线</em> </strong>选项:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/a4b96b03517296072b61238dd8871a10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*q5Mi7iGVkDV0goh4vnuaCw.png"/></div></figure><p id="249e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这将在您的默认浏览器中打开一个链接<a class="ae lr" href="http://127.0.0.1:5500/index.html" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:5500/index . html</a>。结果如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/6fa545bccca76307ce7a1eb65a91374e.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*_PRjKN_-zOJrE5a826hkjg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">铬</p></figure><p id="3dc1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如你在代码中看到的，我们把我们的python代码写在<code class="fe nk nl nm nn b">&lt;py-script&gt;&lt;/py-script&gt;</code> <strong class="kx ir"> <em class="oc"> </em> </strong>标签中。代码应该像我们正常编写python代码一样编写，左边没有任何空格，除非需要。</p><p id="f4f6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们玩一点CSS，让代码变得复杂一点——</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">阶乘程序</p></figure><p id="a912" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在上面的代码中你可以看到，我们使用了<code class="fe nk nl nm nn b">pyscript.write()</code>方法，而不仅仅是<code class="fe nk nl nm nn b">print()</code>方法——这是因为纯文本作为输出并不总是好的。</p><p id="9ffa" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了应用CSS，我们创建了一个空的<code class="fe nk nl nm nn b">&lt;div&gt;</code>，并给它分配了一个<code class="fe nk nl nm nn b">id</code>。为id添加各自的css样式。然后，在<code class="fe nk nl nm nn b">write()</code>方法中，它以<code class="fe nk nl nm nn b"><strong class="kx ir">id</strong></code> <strong class="kx ir"> <em class="oc"> </em> </strong>为参数，用<code class="fe nk nl nm nn b">f</code>格式化<strong class="kx ir"> <em class="oc"> </em> </strong>指定需要打印的文本。</p><p id="bacd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是实际输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/10501f3edbe0444ee97cbf45e24a2b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p_HF7oaUAeNDxy6SA3hfeA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">铬</p></figure><h1 id="cead" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用库</h1><p id="6a2c" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">是的，您还可以使用PyScript处理Python模块。我们在<code class="fe nk nl nm nn b">&lt;head&gt;</code>标签中使用<code class="fe nk nl nm nn b">&lt;py-env&gt;&lt;/py-env&gt;</code> <strong class="kx ir"> <em class="oc"> </em> </strong>。</p><p id="7972" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以使用本地系统的完整路径指定<code class="fe nk nl nm nn b">.whl</code> <strong class="kx ir"> <em class="oc"> </em> </strong>文件，如下所示:</p><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="9444" class="mp lt iq nn b gy ns nt l nu nv">...<br/>&lt;py-env&gt;<br/>- './static/wheels/travertino-0.1.3-py3-none-any.whl'<br/>&lt;/py-env&gt;<br/>...</span></pre><p id="c1de" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">或者您可以直接将内置的模块<a class="ae lr" href="https://pyodide.org/en/stable/usage/packages-in-pyodide.html" rel="noopener ugc nofollow" target="_blank"> Pyodide </a>包含在<code class="fe nk nl nm nn b">&lt;head&gt;</code>标签中，如下所示:</p><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="41d6" class="mp lt iq nn b gy ns nt l nu nv">...<br/>&lt;py-env&gt;<br/>  - numpy<br/>  - matplotlib<br/>  - another module here<br/>&lt;/py-env&gt;<br/>...</span></pre><p id="6a94" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里有一个例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="a217" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">运行该页面会产生以下输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/19330cacab8e8136973c5ca8fdf8e6de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FJk6pagE-z4lqSanFoRISQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">铬</p></figure><p id="e1be" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">唉！我们可以在HTML中运行Python脚本。</p><div class="or os gp gr ot ou"><a href="https://github.com/pyscript/pyscript" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">GitHub - pyscript/pyscript</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">PyScript是Scratch、JSFiddle或其他“易于使用”的编程框架的Pythonic替代品，使web成为一个…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">github.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi kp ou"/></div></div></a></div><p id="a413" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你正在寻找更多的特性，你可以浏览上面库中的例子。PyScript的官方文档将很快发布。截至目前，可以参考<a class="ae lr" href="https://github.com/pyscript/pyscript/blob/main/GETTING-STARTED.md" rel="noopener ugc nofollow" target="_blank">入门。Github上的MD </a>模板。</p><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="80ec" class="mp lt iq nn b gy ns nt l nu nv"><strong class="nn ir">Want to Connect?</strong></span><span id="4dba" class="mp lt iq nn b gy pj nt l nu nv">Follow me <a class="ae lr" href="https://www.linkedin.com/in/chinmay-sonawane-38474019a/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>.</span></pre></div></div>    
</body>
</html>