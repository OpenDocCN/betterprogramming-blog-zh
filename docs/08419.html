<html>
<head>
<title>An Introduction to Ant Tables for JavaScript Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向JavaScript开发人员的Ant表介绍</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/an-introduction-to-ant-tables-for-javascript-developers-c420754c9fe7?source=collection_archive---------3-----------------------#2021-04-28">https://betterprogramming.pub/an-introduction-to-ant-tables-for-javascript-developers-c420754c9fe7?source=collection_archive---------3-----------------------#2021-04-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1da5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Ant表提供了排序、过滤、分页、行选择、无限滚动以及更多特性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5cf0acacf7390888bec1aabe32883a83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x11BawX3LFlPVwlZVAH4xg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="396b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://en.wikipedia.org/wiki/Table_(information)" rel="noopener ugc nofollow" target="_blank">表</a>，也称为数据网格，是行和列的数据排列，或者可能是更复杂的结构。它是用户界面的重要组成部分。然而，一个表格(具有排序、过滤、分页、行选择、无限滚动等功能。)不是通过许多应用程序框架本机提供的组件。</p><p id="b6dd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您要么构建自己的表，要么采用现有的表组件。桌子有两个最大的竞争者。一个是<a class="ae lu" href="https://github.com/ant-design/ant-design" rel="noopener ugc nofollow" target="_blank">蚂蚁设计</a>另一个是<a class="ae lu" href="https://github.com/tannerlinsley/react-table" rel="noopener ugc nofollow" target="_blank">反应表</a>。以下npm趋势显示了他们的每周下载量，非常接近:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/1cc405380ad5b0a840fb98d1053b5681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U9N0wyNL5HsAqM6iVf0DQw.png"/></div></div></figure><p id="0503" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://github.com/ant-design/ant-design" rel="noopener ugc nofollow" target="_blank"> Ant设计系统</a>是企业级UI设计语言和React UI库的开源代码。Ant表是Ant设计系统中的主要组件之一。我们<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/an-introduction-to-react-table-6ebd34d8059e">之前写过React表</a>，现在我们将按照相同的清单来回顾Ant表。并排阅读React Table和Ant Design如何以不同的方式提供相同的表功能是很有趣的。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="050f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">基本表格</h1><p id="7987" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">如<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/understanding-the-ant-design-system-a-ui-design-for-enterprises-39afdb188b06">了解Ant设计系统——企业UI设计</a>中所述，我们安装<code class="fe na nb nc nd b">npm i antd</code>到<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/upgrade-create-react-app-based-projects-to-version-4-cra-4-d7962aee11a6"> Create React App </a>并重写<code class="fe na nb nc nd b">src/App.js</code>以探索表格功能。</p><p id="4873" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个基本的蚂蚁表是<code class="fe na nb nc nd b">&lt;Table dataSource={data} columns={columns} /&gt;</code>。</p><ul class=""><li id="8c9a" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated"><code class="fe na nb nc nd b">dataSource</code>是要在表格上显示的行的数组。</li><li id="5d27" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated"><code class="fe na nb nc nd b">columns</code>是列的数组。</li></ul><p id="2487" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是复制到<code class="fe na nb nc nd b">src/dataSource.js</code>的<code class="fe na nb nc nd b">columns</code>和<code class="fe na nb nc nd b">data</code>的定义:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="25f3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Ant设计系统要求<code class="fe na nb nc nd b">columns</code>和<code class="fe na nb nc nd b">dataSource</code>中的每个条目都有一个<code class="fe na nb nc nd b">key</code>，这类似于JSX列表的要求:<code class="fe na nb nc nd b">Each child in a list should have a unique “key” prop</code>。</p><p id="d39c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是改装过的<code class="fe na nb nc nd b">src/App.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="7add" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第6行，基本表的分页被关闭，因为默认的Ant表是分页表。</p><p id="f9de" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下表显示在浏览器中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/c8ba774825e5029703f940aca0fd670e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S_siI2pvF6rmzkUEL3ac0Q.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="36cb" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">具有成组页眉和页脚的表格</h1><p id="97da" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">表头可以分组，表尾也可以分组。在<code class="fe na nb nc nd b">Table</code>名称空间下，<code class="fe na nb nc nd b">ColumnGroup</code> / <code class="fe na nb nc nd b">Column</code>用于分组页眉，<code class="fe na nb nc nd b">Summary</code>用于定义页脚:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="6f48" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是修改后的<code class="fe na nb nc nd b">src/App.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><ul class=""><li id="3d42" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">在第8行，<code class="fe na nb nc nd b">data</code>来自<code class="fe na nb nc nd b">'./dataSource'</code>。</li><li id="2788" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第10-14行定义了一个自定义页脚，它是一个带有计算总行数的单元格的行。</li><li id="f5dd" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第16-23行将<code class="fe na nb nc nd b">firstName</code>和<code class="fe na nb nc nd b">lastName</code>列嵌套成一组<code class="fe na nb nc nd b">Name</code>。</li><li id="687e" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第24-55行将其他三列嵌套到另一个组中，<code class="fe na nb nc nd b">Information</code>。</li><li id="8979" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">列<code class="fe na nb nc nd b">grade</code>的标题是根据行的值生成的(第28-51行)。</li></ul><p id="fa6b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下表显示在浏览器中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/0d643d848fea90dcb89c962d747953c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fQA6w2dfiZD2IGsH9DiOvQ.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="7159" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">具有行排序的表格</h1><p id="26fd" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">行排序是基本的表功能。这通常是通过单击列标题对表格进行排序来实现的。Ant表支持单列和多列行排序。</p><p id="4c36" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe na nb nc nd b">src/dataSource.js</code>中使用此<code class="fe na nb nc nd b">columns</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><ul class=""><li id="78d1" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">第6行指定了<code class="fe na nb nc nd b">firstName</code>的分类器。</li><li id="e6b6" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">默认的<code class="fe na nb nc nd b">sortDirections</code>是<code class="fe na nb nc nd b">['ascend', 'descend']</code>。第一次单击列标题会按升序对行进行排序，第二次单击会按降序对行进行排序，第三次单击会取消排序。然后循环重复。</li><li id="819f" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第7行将<code class="fe na nb nc nd b">sortDirections</code>设置为<code class="fe na nb nc nd b">['ascend', 'descend', 'ascend']</code>，跳过移除排序。第一次单击按升序排列行，第二次单击按降序排列行。然后循环重复。</li><li id="4d3a" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第13行指定了<code class="fe na nb nc nd b">lastName</code>的分类器。</li><li id="6b08" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第14行指定初始排序方向为降序。如果<code class="fe na nb nc nd b">sortOrder</code>被设置为<code class="fe na nb nc nd b">['descend']</code>，则此降序不可更改。</li></ul><p id="1e18" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下表显示在浏览器中。最初，它按降序对<code class="fe na nb nc nd b">lastName</code>进行排序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/2cd299f08e3161d4e926d5a0f55b87d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pt--QuKZ2nkGalmE4YOIrg.png"/></div></div></figure><p id="365a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Ant表也支持多重排序。</p><p id="1d4b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">更改<code class="fe na nb nc nd b">src/dataSource.js</code>中的<code class="fe na nb nc nd b">columns</code>定义:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><ul class=""><li id="b6b8" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">第6-9行指定了<code class="fe na nb nc nd b">firstName</code>的分类器。这是一个优先级为<em class="nx"> 1 </em>的多重分拣机。</li><li id="dcce" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第15-18行指定了<code class="fe na nb nc nd b">lastName</code>的分类器。它是一个优先级为<em class="nx"> 2 </em>(高于优先级<em class="nx"> 1 </em>)的多重分拣机。</li></ul><p id="1b45" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">点击<code class="fe na nb nc nd b">firstName</code>和<code class="fe na nb nc nd b">lastName</code>的排序顺序后，浏览器显示下表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/edaf2e9f73c787add7541bcf4782881a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y-C0R4piTvWyAVAAqSq4QQ.png"/></div></div></figure><p id="dce6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上表有多种排序，其中<code class="fe na nb nc nd b">lastName</code>是第一种排序，<code class="fe na nb nc nd b">firstName</code>是第二种排序。</p><p id="93b2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们将这两个<code class="fe na nb nc nd b">multiple</code>设置为相同的数字，那么这两列的排序优先级取决于哪一列先被点击。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a328" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">带过滤器的桌子</h1><p id="7478" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">行过滤也是基本的表功能。它根据单个列或多个列的筛选条件来筛选表行。</p><p id="b7ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe na nb nc nd b">src/dataSource.js</code>中的<code class="fe na nb nc nd b">columns</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><ul class=""><li id="6464" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">第6行将过滤值定义为<code class="fe na nb nc nd b">A</code>。</li><li id="d0d1" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第7行过滤从指定过滤值(<code class="fe na nb nc nd b">A</code>)开始的<code class="fe na nb nc nd b">firstName</code>记录。</li></ul><p id="263f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下表显示了保留的行，其中<code class="fe na nb nc nd b">firstName</code>从<code class="fe na nb nc nd b">A</code>开始。因此，当前计数为<em class="nx"> 1 </em>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/6cf70c9c43944d00842aa9c482b157a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CzGH6UfZZ97YPBRrqD_JHQ.png"/></div></div></figure><p id="31b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Ant表对于每一列都有一个内置的过滤器UI。在<code class="fe na nb nc nd b">src/dataSource.js</code>中使用此<code class="fe na nb nc nd b">columns</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><ul class=""><li id="05dd" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">第6-15行定义了带有两个选项的列过滤器UI:一个用于<code class="fe na nb nc nd b">Starting with A</code>，一个用于<code class="fe na nb nc nd b">Ending with a</code>。</li><li id="73e1" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated"><code class="fe na nb nc nd b">onFilter</code>调用(第16-19行)相应调整。</li></ul><p id="53ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">浏览器中的下表具有动态过滤预定义选项的功能:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/00dfce7972349cb0f64fda4b650eb0ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JyQYkODm97CiDEkJxT7CvQ.png"/></div></div></figure><p id="e2da" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Ant表不提供全局过滤，但是可以通过过滤数据来实现。</p><p id="326f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">表排序器和过滤器在<code class="fe na nb nc nd b">ColumnType</code>中定义:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a5b8" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">分页表</h1><p id="1a86" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">默认情况下，Ant表是分页表。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="fdb0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第7行，我们没有关闭分页。然后显示下表，在右下角显示分页信息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/577c30254f45955be35d25e553b56a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TCuXAp2wmMDi3CBsCeViCw.png"/></div></div></figure><p id="1e0e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">分页信息可以位于<code class="fe na nb nc nd b">'topLeft'</code>、<code class="fe na nb nc nd b">'topCenter'</code>、<code class="fe na nb nc nd b">'topRight'</code>、<code class="fe na nb nc nd b">'bottomLeft'</code>、<code class="fe na nb nc nd b">'bottomCenter'</code>和/或<code class="fe na nb nc nd b">'bottomRight'</code>。</p><p id="ff9a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下设置设置左上角的分页信息:</p><pre class="kj kk kl km gt oa nd ob oc aw od bi"><span id="2156" class="oe me it nd b gy of og l oh oi">&lt;Table columns={columns} dataSource={data} pagination={{ position: ['topLeft'] }} /&gt;</span></pre><p id="2936" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">空的分页位置隐藏了分页信息，但数据仍然是分页的(即，您只能看到第1页上的数据，而不能转到下一页)。</p><pre class="kj kk kl km gt oa nd ob oc aw od bi"><span id="f055" class="oe me it nd b gy of og l oh oi">&lt;Table dataSource={data} columns={columns} pagination={{ position: [] }} /&gt;</span></pre><p id="e29b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一页的默认大小是十行。如果最多有十行数据，下面的<code class="fe na nb nc nd b">hideOnSinglePage: true</code>值将隐藏分页信息。</p><pre class="kj kk kl km gt oa nd ob oc aw od bi"><span id="3f68" class="oe me it nd b gy of og l oh oi">&lt;Table dataSource={data} columns={columns} pagination={{ hideOnSinglePage: true }} /&gt;</span></pre><p id="d335" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的数据源有十行。以下配置将使用页面大小更改程序生成两个页面:</p><pre class="kj kk kl km gt oa nd ob oc aw od bi"><span id="ea58" class="oe me it nd b gy of og l oh oi">&lt;Table dataSource={data} columns={columns} pagination={{ pageSize: 5, showSizeChanger: true }} /&gt;</span></pre><p id="e04d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">单击页面大小更改器时，页面在浏览器中的显示方式如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/badd30623bb366e83d105976a7d4df09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DAmZVhsYxDvwAPmFGXP1EA.png"/></div></div></figure><p id="765f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是<code class="fe na nb nc nd b">TablePaginationConfig</code>定义(第33行)。props(第2-28行和第34行)可用于配置表格的分页:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="dc5c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">用服务器数据分页</h1><p id="29cf" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">对于我们展示的所有特性(排序、过滤和分页)，数据都是在一个静态文件中定义的。然而，实际数据通常是从服务器动态获取的。</p><p id="4d3e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将以下代码复制到<code class="fe na nb nc nd b">src/App.js</code>中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><ul class=""><li id="eb16" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">第6行将常量<code class="fe na nb nc nd b">pageSize</code>设置为<code class="fe na nb nc nd b">3</code>。因此，十条记录生成四页。</li><li id="f806" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第12-16行模拟从外部数据源获取数据。</li><li id="afb0" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第27行配置分页的<code class="fe na nb nc nd b">pageSize</code>和<code class="fe na nb nc nd b">total</code>。</li><li id="5d75" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第28行定义了<code class="fe na nb nc nd b">onChange</code>，这是对<code class="fe na nb nc nd b">pagination</code>、<code class="fe na nb nc nd b">filters</code>和/或<code class="fe na nb nc nd b">sorter</code>的变更的回调(第18-20行)。该信息通常用于从服务器获取数据。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="8ec9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是服务器抓取模拟的分页表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/c9bb6eb2560d3248890231e919a90d5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTaNz2duQRX-xF0MDqrnrw.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8d3d" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">具有行选择的表格</h1><p id="66c1" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">行选择切换是否选择行。通常，空框表示未选择行，复选标记表示选择了行。该表通常在标题处有一个指示，表示是否所有行都被选中。如果是，标题会显示一个复选标记。如果未选择所有行，标题将显示一个空复选框。如果选择了一些行，则标题会显示一个表示不确定状态的破折号。Ant表有内置的复选框，用于表示未选中、选中和不确定。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/fda95fb71021261d22debb4ec495e423.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wE7IkA4ju7XNm01r.png"/></div></div></figure><p id="8a39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将以下代码复制到<code class="fe na nb nc nd b">src/App.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><ul class=""><li id="6954" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">第7行指定了预先选择的行。</li><li id="f386" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第8-11行定义了一个处理行选择的行选择对象。</li><li id="8484" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">定义的<code class="fe na nb nc nd b">rowSelection</code>在第14行被消耗。</li></ul><p id="2458" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下表列出了初始行选择:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/6d0d718f0fde3f996620089ad3adbf0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ktn5kpICFiPhbcvAKL5eWQ.png"/></div></div></figure><p id="0095" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，行选择可以设置为单选按钮，而不是复选框:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="0599" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，只能选择一行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/3a2428b20f79cbb4f1424f5094a05271.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lheW1am-6BL_rmsP-8RqzA.png"/></div></div></figure><p id="b37d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是<code class="fe na nb nc nd b">TableRowSelection</code>的定义。除了我们示例中使用的<code class="fe na nb nc nd b">type</code>、<code class="fe na nb nc nd b">selectedRowKeys</code>和<code class="fe na nb nc nd b">onChange</code>之外，还有许多其他的道具和回调可用于行选择:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="3dcf" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">无限滚动的表格</h1><p id="925a" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">无限滚动显示滚动条，而不是分页表。用户可以向下滚动，直到到达末尾。与React Table类似，Ant表格的无限滚动利用了<code class="fe na nb nc nd b"><a class="ae lu" href="https://github.com/bvaughn/react-window" rel="noopener ugc nofollow" target="_blank">react-window</a></code>的力量。这个包需要安装:<code class="fe na nb nc nd b">install i react-window</code>。</p><p id="ccb3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将下面的代码复制到<code class="fe na nb nc nd b">src/App.js</code>中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><ul class=""><li id="b418" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">第9-93行定义了<code class="fe na nb nc nd b">VirtualTable</code>组件。它使用<code class="fe na nb nc nd b">ResizeObserver</code>(第78行)来控制表格宽度。表格的<code class="fe na nb nc nd b">components</code>(第87-89行)由<code class="fe na nb nc nd b">renderVitualList</code>函数(第43-75行)呈现。</li><li id="0f83" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">每一列都分配有<code class="fe na nb nc nd b">width</code>道具(第13-16行)。为了简单起见，我们将列宽设置为相等。</li><li id="e8c2" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第48-67行使用<code class="fe na nb nc nd b">react-window</code>中的<code class="fe na nb nc nd b">VariableSizeGrid</code>来呈现每个单元格的适当宽度和高度。</li><li id="f2f5" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第68-72行使用<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/headless-ui-components-a-journey-with-high-order-components-render-props-and-custom-hooks-811c9677b4cf">渲染道具</a>来渲染每个单元格。在我们的示例中，第70行检索一个静态单元格值。但是可以为服务器数据动态加载一系列可查看的行。</li><li id="6cf9" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第97-104行使用<code class="fe na nb nc nd b">VirtualTable</code>组件。<code class="fe na nb nc nd b">scroll</code>属性(第100-102行)以像素为单位指定表格高度。</li><li id="74c7" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">第67行为每个单元格设置了<code class="fe na nb nc nd b">virtual-table-cell</code>类，这在<code class="fe na nb nc nd b">src/App.css</code>中定义。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="b11f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然只有十行，但是一个<code class="fe na nb nc nd b">200px</code>高度的表格可以上下滚动:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/e5fb428c43dba5f03e5a1a57685800be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6h8iRcFDlQCfeSFfMFIRNw.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="b803" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们已经展示了分页、行选择、无限滚动的例子。<code class="fe na nb nc nd b">TableProps</code>中还有其他选择:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="8c8e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，我们可以将<code class="fe na nb nc nd b">Table</code>设置为<code class="fe na nb nc nd b">bordered</code>(第58行):</p><pre class="kj kk kl km gt oa nd ob oc aw od bi"><span id="759a" class="oe me it nd b gy of og l oh oi">&lt;Table dataSource={data} columns={columns} bordered /&gt;</span></pre><p id="6916" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后显示一个带边框的表格:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/cad0231e6e5ad6a6e75ced203d7fc62d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yiOBih7q0Bs94dhgzPpGzA.png"/></div></div></figure><p id="3595" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将<code class="fe na nb nc nd b">Table</code>设置为固定高度(第63行的<code class="fe na nb nc nd b">scroll</code>):</p><pre class="kj kk kl km gt oa nd ob oc aw od bi"><span id="104e" class="oe me it nd b gy of og l oh oi">&lt;Table columns={columns} dataSource={data} scroll={{ y: 200 }} /&gt;</span></pre><p id="bd32" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么表头就固定了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/b46a4719ec345a336aeefb6613817841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oM23gdjOV6E11PcFGAfaag.png"/></div></div></figure><p id="4b7d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">试试吧！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a7f0" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">Ant与React表</h1><p id="0447" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">我们已经深入研究了Ant表。您可能想知道是否为您的项目选择这些或反应表。</p><p id="184d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看情况。</p><p id="91a5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Ant表格提供了表格组件以及UI显示。它们在您的应用程序中实现起来简单快捷。然而，他们在展示上固执己见，这可能需要额外的努力才能符合你的特定外观和感觉。</p><p id="0f9e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">React Table是一个<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/headless-ui-components-a-journey-with-high-order-components-render-props-and-custom-hooks-811c9677b4cf">无头库</a>，它将组件的逻辑和行为从其可视化表示中分离出来。没有UI。因此，您全权负责并完全控制自定义外观和感觉。</p><p id="e2f0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，Ant表是Ant设计系统的一部分，该系统有许多可以立即采用的预构建组件。React Table只是关于可以插入到您的实现中的表。</p><p id="c49e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么，Ant表还是React表呢？</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="b426" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="4bed" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">Ant表提供了排序、过滤、分页、行选择、无限滚动以及更多特性。您可以使用Ant表以及Ant设计系统中的其他组件来构建企业级产品。</p><p id="5bfe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读。我希望这有所帮助。你可以在这里看到我的其他媒体出版物<a class="ae lu" href="https://medium.com/@jenniferfubook/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener"/>。</p></div></div>    
</body>
</html>