<html>
<head>
<title>The Power of 10 — NASA’s Rules for Coding</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10的力量——NASA的编码规则</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-power-of-10-nasas-rules-for-coding-43ae1764f73d?source=collection_archive---------0-----------------------#2019-10-02">https://betterprogramming.pub/the-power-of-10-nasas-rules-for-coding-43ae1764f73d?source=collection_archive---------0-----------------------#2019-10-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6ed3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这10条规则旨在消除某些C编码实践，这些实践使得代码难以审查或静态分析。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ef0d9e7479a7d4c66c6a87764f1b0439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgydMj60aCOb7HWoVSk82g.png"/></div></div></figure><p id="8347" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以下是美国宇航局对这些规则的看法:</p><blockquote class="lq lr ls"><p id="dcd5" class="ku kv lt kw b kx ky ju kz la lb jx lc lu le lf lg lv li lj lk lw lm ln lo lp im bi translated"><em class="it">这些规则就像你汽车上的安全带:最初，它们可能会有点不舒服，但过一段时间，它们的使用就变成了第二天性——不使用它们就变得不可思议了。</em></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://amzn.to/2PaNeyt"><div class="gh gi lx"><img src="../Images/544d66d036d51d0ab14f01a2f40d78ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/0*1fY5NND25YrIraRi"/></div></a><p class="ly lz gj gh gi ma mb bd b be z dk translated">杰拉德·霍尔兹曼</p></figure><p id="070f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mc" href="https://en.wikipedia.org/wiki/The_Power_of_10:_Rules_for_Developing_Safety-Critical_Code" rel="noopener ugc nofollow" target="_blank">10条规则的力量</a>于2006年由美国宇航局/JPL可靠软件实验室的杰拉德·j·霍尔兹曼创立。这些规则旨在消除某些C编码实践，这些实践使得代码难以审查或静态分析。</p><p id="6afe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些规则是对<a class="ae mc" href="https://amzn.to/2qiY8d0" rel="noopener ugc nofollow" target="_blank"> MISRA C指南</a>的补充，并已被纳入更大的一套<a class="ae mc" href="https://github.com/stanislaw/awesome-safety-critical/blob/master/Backup/JPL_Coding_Standard_C.pdf" rel="noopener ugc nofollow" target="_blank"> JPL编码标准</a>。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="1d95" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">10条规则</h1><ol class=""><li id="8f77" class="nc nd it kw b kx ne la nf ld ng lh nh ll ni lp nj nk nl nm bi translated">避免复杂的流结构，例如<code class="fe nn no np nq b">goto</code>和<code class="fe nn no np nq b">recursion</code></li><li id="c06e" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">所有循环都必须有固定的界限(这可以防止代码失控)</li><li id="78dd" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">避免堆内存分配</li><li id="3f57" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">将功能限制在单个打印页面上</li><li id="ad01" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">每个函数至少使用两个运行时断言</li><li id="a664" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">将数据范围限制到最小</li><li id="9218" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">检查所有非void函数的返回值，或强制转换为void以指示返回值是无用的</li><li id="ca01" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">谨慎使用预处理器</li><li id="ea4e" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">将指针的使用限制在一次解引用中，不要使用函数指针</li><li id="d1c9" class="nc nd it kw b kx nr la ns ld nt lh nu ll nv lp nj nk nl nm bi translated">编译时激活所有可能的警告；所有的警告都应该在软件发布之前解决</li></ol><p id="5c19" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些规则是为C语言定义的，但其中一些也可能用于现代web或移动项目。以下是我的选择。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="93bb" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">1.避免复杂的流结构，如Goto和递归</h1><p id="53f7" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld nw lf lg lh nx lj lk ll ny ln lo lp im bi translated">如果不需要做一个简单的<code class="fe nn no np nq b">for </code>可以处理的相同任务，我不会使用<code class="fe nn no np nq b">recursion</code>；递归在你不能直接访问你的机器的地方是非常危险的，比如你在火星、月球或者海底！</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="84d5" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">2.所有循环必须有固定的界限(这可以防止代码失控)</h1><p id="8a65" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld nw lf lg lh nx lj lk ll ny ln lo lp im bi translated">与第一条规则类似，我将使用固定的边界来循环，以防止无限循环或代码失控。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="b8dc" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">4.将功能限制在单个打印页面上</h1><p id="e4a1" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld nw lf lg lh nx lj lk ll ny ln lo lp im bi translated">将函数的长度缩短到一页，可以更容易地掌握程序中特定例程的所有功能。</p><p id="c41c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你超过了这个长度，就意味着你在代码中添加了太多的动作。</p><p id="25df" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一个问题可能是您没有将函数分割成更小的函数来防止代码重复。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="9366" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">6.将数据范围限制到最小</h1><p id="0c5b" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld nw lf lg lh nx lj lk ll ny ln lo lp im bi translated">如果你正在使用JavaScript，千万不要使用<code class="fe nn no np nq b">var</code>——总是喜欢使用<code class="fe nn no np nq b">let</code>,以防止变量泄漏或覆盖，甚至重影。</p><p id="fe1d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">其他语言也应该如此，比如C#。为你的变量使用最受保护和最小的作用域，比如<code class="fe nn no np nq b">private</code>或者<code class="fe nn no np nq b">protected</code>。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="34b5" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">10.编译时激活所有可能的警告；所有警告都应在软件发布前解决</h1><p id="5f37" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld nw lf lg lh nx lj lk ll ny ln lo lp im bi translated">使用JavaScript，你不能编译你的代码，但是你可以很容易地使用ESLint <strong class="kw iu"> </strong>或者类似的工具从你的代码中得到警告。</p><p id="1b25" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，您应该删除并修复所有这些组件，即使您认为它们没有用。</p><p id="9ecc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们已经准备好向火星发射我们的代码了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://commons.wikimedia.org/wiki/File:Curiosity_-_The_Next_Mars_Rover.jpg"><div class="gh gi nz"><img src="../Images/bc228463fecfbeee60ae0cbe8481b6c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*B392ytMVoonA5BDj.jpg"/></div></a><p class="ly lz gj gh gi ma mb bd b be z dk translated">火星好奇号火星车</p></figure></div></div>    
</body>
</html>