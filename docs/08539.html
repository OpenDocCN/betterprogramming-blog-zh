<html>
<head>
<title>8 JavaScript Practices To Make Your Code Look and Work Better</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你的代码看起来和运行起来更好的8个JavaScript实践</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/8-javascript-practices-to-make-your-code-look-and-work-better-45bff492f86a?source=collection_archive---------3-----------------------#2021-05-12">https://betterprogramming.pub/8-javascript-practices-to-make-your-code-look-and-work-better-45bff492f86a?source=collection_archive---------3-----------------------#2021-05-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="eaab" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你应该知道的简单提示和技巧</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ea00682dc818bb2c5900c58618ba9aeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W2H4_aU8XInOfIU7"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@silvawebdesigns?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">内森·达席尔瓦</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="fad0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我总是说JavaScript充满了惊喜。它总能让我们惊讶。每天，我都会学到一些关于这种编程语言的新东西。一些非常小但能对你的代码产生巨大影响的东西。值得分享的东西。</p><p id="0244" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将分享八个JavaScript技巧，你可以在日常工作中使用它们。所以让我们学点新东西吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bb7d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.仅运行一次事件侦听器</h1><p id="d5ae" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在您的web应用程序中使用事件侦听器是非常常见的，不仅仅是在普通的JS应用程序中，在Angular和React等现代JS框架和库中也是如此。</p><p id="bded" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">举个例子，假设我们想在点击按钮时做一些事情。我们可以在这里使用事件监听器。通常，我们希望在特定事件触发时采取行动。但是如果我们只想做一次呢？</p><p id="276c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">别担心。我们实际上只需执行一次事件侦听器，只需执行以下操作:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f04b" class="ne md it na b gy nf ng l nh ni">const button = document.querySelector('button');</span><span id="f0c6" class="ne md it na b gy nj ng l nh ni">button.addEventListener('click', () =&gt; {<br/>    console.log('I will only run once');<br/>},{ once: true })</span></pre><h1 id="ec90" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">2.使用“延期”属性</h1><p id="0c0f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">老实说，我们所有人都面临过这样的情况，我们觉得我们的web应用程序越来越慢，但我们无法找出原因。我们觉得我们做了所有应该做的事情，但是浏览器仍然需要时间来显示我们应用程序的第一个内容。</p><p id="e35e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，这可能是因为长脚本在HTML之前被执行。通常，我们在中添加我们的脚本，我们忘记了在中的脚本完成执行之前，下一个语句不会被执行。</p><p id="1b0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以简单地在脚本中使用<code class="fe np nq nr na b">defer</code>属性，在HTML内容之后执行它们。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="26d3" class="ne md it na b gy nf ng l nh ni">/* No matter where you place this script tag inside the HTML, this will only run when the HTML content is completely loaded. */</span><span id="7aa9" class="ne md it na b gy nj ng l nh ni">&lt;script src="main.js" defer&gt;&lt;/script&gt;</span></pre><h1 id="8bd3" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">3.快速条件检查</h1><p id="123a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">总是建议使用简写来使我们的代码看起来更整洁。因为没有像<code class="fe np nq nr na b">if</code>语句这样的条件，任何应用程序都无法生存，所以我们也应该知道它的捷径。谢天谢地，JavaScript提供了<code class="fe np nq nr na b">&amp;&amp;</code>操作符。</p><p id="0f33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以通过使用<code class="fe np nq nr na b">&amp;&amp;</code>操作符来缩短我们的条件检查。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h1 id="f203" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">4.给定范围内的随机数</h1><p id="8b01" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们只需一行代码就可以从给定的范围内生成一个随机数。这些技巧在实际应用中非常有用。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="3d9d" class="ne md it na b gy nf ng l nh ni">function randomNumber(num1, num2) {<br/>    return Math.random() * (num2 - num1) + num1;<br/>}</span><span id="c698" class="ne md it na b gy nj ng l nh ni">console.log(randomNumber(50, 100)); // Expected output - random number between 50 and 100 (50 and 100 will be inclusive)</span></pre><h1 id="697b" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">5.在一行中清空数组</h1><p id="1941" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这是我最喜欢的黑客之一。我们可以通过给数组的<code class="fe np nq nr na b">length</code>属性赋值0来清空数组。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="607c" class="ne md it na b gy nf ng l nh ni">let sampleArray = ["John", "Bob", "Mark", "Alex"];<br/>sampleArray.length = 0;</span><span id="8c24" class="ne md it na b gy nj ng l nh ni">console.log(sampleArray); // Output - [] (it's empty now)</span></pre><h1 id="3e0f" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">6.检查对象是否为空</h1><p id="f61d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们可以使用<code class="fe np nq nr na b">Object.entries()</code>方法来检查一个对象是否为空。由于<code class="fe np nq nr na b">Object.entries()</code>返回对象的可枚举属性的数组，因此如果该数组的长度为0，则意味着该对象为空，因此该对象的属性为0。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h1 id="e149" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">7.从数组中筛选重复值</h1><p id="cf62" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">从ES6开始，我们在JavaScript中有了一个新的概念，叫做<code class="fe np nq nr na b">Set</code>。</p><blockquote class="nu nv nw"><p id="cd7b" class="kz la nx lb b lc ld ju le lf lg jx lh ny lj lk ll nz ln lo lp oa lr ls lt lu im bi translated"><code class="fe np nq nr na b">“Set</code>对象是值的集合。您可以按插入顺序循环访问集合中的元素。<code class="fe np nq nr na b">Set</code> <strong class="lb iu">中的一个值只能出现一次</strong>；它在<code class="fe np nq nr na b">Set</code>系列中独一无二。”— <a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noopener ugc nofollow" target="_blank"> MDN文档</a></p></blockquote><p id="2733" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于JavaScript中的<code class="fe np nq nr na b">Set</code>是唯一的项目集合，即没有元素可以重复，因此我们可以用它来过滤数组中的重复值。</p><p id="271d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个技巧同样非常简单但非常有用。首先，我们将把我们的<code class="fe np nq nr na b">array</code>转换成<code class="fe np nq nr na b">Set</code>，由于<code class="fe np nq nr na b">Set</code>没有重复的值，我们新的<code class="fe np nq nr na b">Set</code>将拥有来自<code class="fe np nq nr na b">array</code>的唯一值。然后我们简单地将这个新的<code class="fe np nq nr na b">Set</code>转换回一个<code class="fe np nq nr na b">array</code>。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6390" class="ne md it na b gy nf ng l nh ni">let namesArray = ["John", "Bob", "Mark", "Alex", "Mark", "Alain", "Bob"];</span><span id="4a85" class="ne md it na b gy nj ng l nh ni">console.log([...new Set(namesArray)]); // Output - ["John", "Bob", "Mark", "Alex", "Alain"]</span></pre><h1 id="c6fd" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">8.使用一行克隆对象</h1><p id="8c37" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">由于JavaScript中的对象是引用类型，我们不能简单地使用<code class="fe np nq nr na b">=</code>来克隆它们，所以使用下面的三种方法，你可以只用一行代码正确地克隆一个对象。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="476c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是这篇文章的内容。我希望这是有帮助的，你已经学到了一些新的东西。感谢阅读！</p></div></div>    
</body>
</html>