<html>
<head>
<title>AWS and Salesforce — Using Eventbridge!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS和Salesforce —使用Eventbridge！</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/aws-and-salesforce-using-eventbridge-1e4aabd75500?source=collection_archive---------14-----------------------#2022-06-27">https://betterprogramming.pub/aws-and-salesforce-using-eventbridge-1e4aabd75500?source=collection_archive---------14-----------------------#2022-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d5ae" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从Salesforce获取事件，就是这样！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e73f781bb977233269b71914c3061cf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Zlu95-tk-mTVkeuHq-KjA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">AWS Eventbridge如何工作！</p></figure><p id="5691" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如今，事件源、无服务器产品和微服务是大多数开发人员至少听说过的时髦词汇。有时候流行语只是针对销售人员的，试图让对方相信他们是在跟随当前的技术趋势。</p><p id="90bd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">其他时候，这些流行语背后有实际的技术创新。在本文中，我将举例说明我们如何使用这些新服务之一来实现以前非常困难和繁琐的事情。</p><h2 id="4be9" class="lr ls iq bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated"><span class="l mk ml mm bm mn mo mp mq mr di">一个</span> WS事件桥和事件源来拯救</h2><p id="6867" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">我不会详细讨论什么是事件采购以及它对你有什么帮助。我要说的是，它可以帮助你跟踪你的系统是如何达到某一状态的。这一切都是为了捕捉其他系统也可以监听的事件中的状态变化。</p><p id="e7ff" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">记住这一点，我们可以继续想象我们目前有一些由AWS托管的后端基础设施。在AWS环境中，我们有许多现成的事件可以使用。AWS中已经提供了一些有用的事件</p><ul class=""><li id="24d0" class="mx my iq kx b ky kz lb lc le mz li na lm nb lq nc nd ne nf bi translated">例如，我们可以安排lambda每小时执行一次(这是通过每小时向lambda发送一个事件来完成的)。</li><li id="e019" class="mx my iq kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated">我们可以让DynamoDB在每次项目发生变化(删除、插入或更改)时向lambda函数发送一个事件</li><li id="7983" class="mx my iq kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated">我们可以让Cloudfront从下载特定S3对象的用户那里收集事件。</li></ul><p id="855a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些只是你已经可以得到的一些例子。通过这几个事件，我们已经可以创建一些非常高级的工作流了。但是有一个但是。这些东西可以顺畅地一起工作，但这只是因为我们是在AWS环境中工作，所以这些服务被设计为本机连接。</p><p id="fbe1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">很难想象如果Azure帐户中发生了什么事情，或者有人更新了我们Dropbox帐户中的文件，或者销售人员更改了我们Salesforce帐户中的内容，我们将如何轻松地捕捉事件。</p><blockquote class="nl nm nn"><p id="763a" class="kv kw no kx b ky kz jr la lb lc ju ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">进入Eventbridge！</p></blockquote><h2 id="9986" class="lr ls iq bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated">情况</h2><p id="29ce" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">具体用例如下。我们有一些AWS基础架构(AWS Lambda ),我们有一个Salesforce帐户。出于历史原因，Salesforce将包含一些我们认为是唯一真实来源的数据。这一切都很好，直到我们想从Salesforce中提取一些数据并保存在AWS中。一个天真的思维过程可能是这样的。</p><blockquote class="nl nm nn"><p id="3edc" class="kv kw no kx b ky kz jr la lb lc ju ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">-让我们创建一个使用Salesforce API并将数据存储在AWS中的ETL作业。</p><p id="c2c3" class="kv kw no kx b ky kz jr la lb lc ju ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">-这管用！哦，等等，数据不是这样保持同步的。</p><p id="f218" class="kv kw no kx b ky kz jr la lb lc ju ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">-然后让我们按计划运行我们的ETL作业！</p><p id="27dd" class="kv kw no kx b ky kz jr la lb lc ju ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">-好了，现在至少每小时同步一次！</p><p id="f9c3" class="kv kw no kx b ky kz jr la lb lc ju ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">-感觉不太对+组织中的人可能会抱怨部分同步。</p><p id="bdfd" class="kv kw no kx b ky kz jr la lb lc ju ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">-如果我们可以在每次Salesforce中的某些内容发生变化时获得一个事件，然后更新我们的AWS数据库，会怎么样</p><p id="e504" class="kv kw no kx b ky kz jr la lb lc ju ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">-哇，这感觉太棒了+我们可以一直同步！！！</p></blockquote><h2 id="cc38" class="lr ls iq bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated">AWS事件桥</h2><p id="cdc3" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">在与自己进行了上述对话后，您现在决定使用AWS Eventbridge来实现这一点。该服务只是一个事件总线，它统一了第三方系统向AWS环境交付事件的方式。<br/>这意味着您拥有的任何集成或第三方系统(Salesforce)只需将事件发送到Eventbridge，然后我们就可以将它们重定向到我们的AWS环境中进行处理。</p><p id="9756" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，我们可以设置Salesforce在对象发生变化时向Eventbridge发送一个事件。<br/>在AWS Lambda中，您会得到一个这样构造的事件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="0093" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，只要我们感兴趣的数据发生变化，我们就可以做出反应。现在，我们可以创建不仅仅是保持两个数据源同步的流。<br/>我们可以想象将Salesforce中的数据部分保存在另一个数据库中，同时发送一些数据已被更改的通知。</p><p id="56ee" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Salesforce只是一个例子，AWS Eventbridge允许您连接到以前很难集成的数据源。现在，这些系统中生成的事件可以原生集成到您的AWS帐户中，并按照您认为合适的方式进行处理。</p><h1 id="a907" class="nu ls iq bd lt nv nw nx lw ny nz oa lz jw ob jx mc jz oc ka mf kc od kd mi oe bi translated">结论</h1><p id="dcda" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">AWS Eventbridge服务作为发布者和订阅者之间的一个额外的层是非常强大的。这样你可以保持系统的解耦，这通常是可取的。这项服务很便宜，并且使用与许多其他AWS服务相同的模式(你为你所使用的付费)，在这里是按事件付费。<br/>您还可以使用该服务来实现一些额外的调试功能，比如回放旧事件，否则这可能会很棘手。</p></div></div>    
</body>
</html>