<html>
<head>
<title>Detecting Objects in Still Images in iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在iOS中检测静止图像中的对象</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/detecting-objects-in-still-images-using-vision-framework-in-ios-82877bc87703?source=collection_archive---------3-----------------------#2019-07-30">https://betterprogramming.pub/detecting-objects-in-still-images-using-vision-framework-in-ios-82877bc87703?source=collection_archive---------3-----------------------#2019-07-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2913" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用愿景框架</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/dd81600b698a5d7b0c86d44054002b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hWiz_axIZAvdbFSQ4Pb6Lg.png"/></div></div></figure><p id="01c7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">视觉框架执行面部检测、文本检测、条形码识别、图像配准和一般特征跟踪。</p><h1 id="39de" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">愿景框架是如何工作的？</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/9b37c2a13c843105e65948d19a4cbf81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t8kypKL-RCJnvxxR5E9nuA.png"/></div></div></figure><p id="5c5e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">视觉请求</strong> <em class="mg"> →创建一个请求，让视觉为您检测物体。<br/> </em> <strong class="kt ir">请求处理程序</strong> <em class="mg"> →请求完成后调用处理程序。它可以在给定的图像上执行多个请求。在这里，您可以处理执行请求的结果。<br/> </em> <strong class="kt ir">观察</strong> <em class="mg"> →返回的结果称为观察</em></p><p id="696f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们看看检测静态图像中文本的示例代码。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="ac91" class="mm lo iq mi b gy mn mo l mp mq">import Vision</span></pre><p id="96ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从导入<code class="fe mr ms mt mi b">Vision</code> <strong class="kt ir"> </strong>框架开始，在您的类中访问它的API:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/015cae00e13c80ea0b1ee341fa8f36fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0x_PJfP0YWGo0pPbeIseHg.png"/></div></div></figure><p id="23af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这段代码使用<code class="fe mr ms mt mi b">VNDetectTextRectanglesRequest</code> <em class="mg">创建一个<code class="fe mr ms mt mi b">Request</code>来检测图像中的文本。<br/> </em>您可以使用<code class="fe mr ms mt mi b">VNDetectBarcodesRequest</code>、<code class="fe mr ms mt mi b">VNDetectFaceRectanglesRequest</code>、<em class="mg">、</em>、<em class="mg">创建其他请求。<br/> </em>请求有一个results属性，它包含一个特定于给定请求的<code class="fe mr ms mt mi b">VNObservation</code>对象数组。</p><ul class=""><li id="a6de" class="mv mw iq kt b ku kv kx ky la mx le my li mz lm na nb nc nd bi translated">如果我们只是对检测到的图像特征的位置和边界框感兴趣，我们可以使用Generic <code class="fe mr ms mt mi b">VNDetectedObjectObservation</code>。</li><li id="0c27" class="mv mw iq kt b ku ne kx nf la ng le nh li ni lm na nb nc nd bi translated">如果我们对特定的结果类型感兴趣，我们可以根据请求，使用<code class="fe mr ms mt mi b">VNTextObservation</code>、<code class="fe mr ms mt mi b">VNFaceObservation</code>等将观察转换为特定的结果类型。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/fb65bc30987d6dc7458488f943ea17db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ct9LpK6pkq-VIUioFZod2g.png"/></div></div></figure><p id="1aaf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此代码片段创建一个VNImageRequestHandler来处理您的请求。可以传递多个请求。</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="dd49" class="ln lo iq bd lp lq nr ls lt lu ns lw lx jw nt jx lz jz nu ka mb kc nv kd md me bi translated">可视化观察</h1><p id="7bca" class="pw-post-body-paragraph kr ks iq kt b ku nw jr kw kx nx ju kz la ny lc ld le nz lg lh li oa lk ll lm ij bi translated">通过在检测到的特征上画一个矩形来显示观察值。我们需要转换<code class="fe mr ms mt mi b">Quartz2D</code>和<code class="fe mr ms mt mi b">UIKit</code>之间的坐标。<br/>视觉系统返回<code class="fe mr ms mt mi b">Quartz2<strong class="kt ir">D</strong></code>坐标系中的观察结果，该坐标系相对于UIKit坐标系绕x轴翻转。视觉结果被标准化。我们需要执行一系列转换来呈现检测到的观察结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/0f01c7bb24762a4b57c22ac3def374ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qEt4V1g5hAqVepXf3MH3KA.png"/></div></div></figure><p id="9b30" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们现在可以在<code class="fe mr ms mt mi b">vnTextDetectionRequest</code>属性中调用上面的函数，并将观察结果传递给这个调用。</p><p id="5cff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们使用红色方框看到检测到的特征。</p><p id="75ab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">参考GitHub上的<a class="ae oc" href="https://github.com/talreja-priya/VisionFrameworkDemo" rel="noopener ugc nofollow" target="_blank">完整Xcode项目</a></p><p id="e069" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">谢谢你。希望这有帮助！</p><p id="049f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">编码快乐！</p></div></div>    
</body>
</html>