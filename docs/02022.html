<html>
<head>
<title>Implicit and Explicit Coercion in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的隐式和显式强制</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/implicit-and-explicit-coercion-in-javascript-b23d0cb1a750?source=collection_archive---------6-----------------------#2019-10-31">https://betterprogramming.pub/implicit-and-explicit-coercion-in-javascript-b23d0cb1a750?source=collection_archive---------6-----------------------#2019-10-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d0db" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">强制是将数据从一种类型转换成另一种类型的过程</strong></h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b55b7e9c4a9c754cd2a2ae45bfdd3b12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hUItmMX1gdBLya0AwsIW_Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@clarktibbs?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克拉克·蒂布斯</a>在<a class="ae kv" href="https://unsplash.com/s/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="1c9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有些情况下，JavaScript隐式地进行了强制，而我们却没有意识到。</p><p id="63db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">强制适用于JavaScript世界中的每一种数据类型。强制的一个例子如下所示:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="a1a0" class="lx ly iq lt b gy lz ma l mb mc">let number = Number("35");</span></pre><p id="e4b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们通过将字符串传递给内置的<strong class="ky ir"> Number() </strong>函数，显式地将字符串转换为数字。</p><p id="606f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript中有两种类型的强制:</p><p id="b510" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">隐式强制:</strong>类型转换由JavaScript隐式完成。</p><p id="692e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">显式强制:</strong>类型转换是使用内置函数(如Number()、String()、Boolean()等)在代码中显式完成的。</p><p id="f2fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将看两种类型的例子。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="c587" class="mk ly iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">隐性强制</h1><p id="7acf" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在这种情况下，强制是隐式完成的。当JavaScript在错误的数据类型中操作时，它会尝试将值转换为正确的数据类型。</p><p id="3226" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时候，结果和预期的不一样。下面是隐式类型转换的一些示例:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="02ba" class="lx ly iq lt b gy lz ma l mb mc">12 + ""    //Output is "12" as number 12 is converted to string "12"</span><span id="0e34" class="lx ly iq lt b gy ng ma l mb mc">"15" * 2    //Output is 30 as string 15 is converted to number 15</span><span id="c765" class="lx ly iq lt b gy ng ma l mb mc">"15" - "11" //Output is 4 as both the strings are converted to number</span><span id="e94c" class="lx ly iq lt b gy ng ma l mb mc">undefined + 6 //Output is NaN as undefined could not be converted to number</span><span id="649b" class="lx ly iq lt b gy ng ma l mb mc">"Hello" + null  //Output is "Hellonull" as null is converted to string "null"</span><span id="de4a" class="lx ly iq lt b gy ng ma l mb mc">null + 25     //Output is 25 as null is converted to 0.</span><span id="56e4" class="lx ly iq lt b gy ng ma l mb mc">true + true //Output is 2 as true is converted to number 1.</span><span id="c236" class="lx ly iq lt b gy ng ma l mb mc">false + 10 //Output is 10 as false is converted to number 0.</span><span id="55c2" class="lx ly iq lt b gy ng ma l mb mc">10 * [6] //Output is 60 as [6] is converted to number 6.</span><span id="8cbc" class="lx ly iq lt b gy ng ma l mb mc">10 * [10, 20] //Output is NaN as [10, 20] could not be converted to number</span><span id="af22" class="lx ly iq lt b gy ng ma l mb mc">[1] + [1,2] //Output is "11,2" as [1] is converted to "1" and [1,2] is converted "1,2". Finally the two are concatenated to give the result "11,2"</span></pre><p id="cb2e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当我们在涉及像<code class="fe nh ni nj lt b">-, *, /, %</code>这样的运算符的数值表达式中将不同的数据类型作为操作数传递时，转换过程类似于对操作数调用内置的<code class="fe nh ni nj lt b">Number</code>函数。如果不能转换为数字，则返回NaN。</p><ul class=""><li id="c4c4" class="nk nl iq ky b kz la lc ld lf nm lj nn ln no lr np nq nr ns bi translated">+运算符的工作方式与其他数值运算符不同。根据传递的操作数的类型，它既可以作为串联运算符，也可以作为数值运算符。</li></ul><p id="0179" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">隐式强制也由if()条件和==运算符完成。</strong></p><p id="2c42" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果If()条件中的值不是布尔值，那么它将被隐式地转换为布尔值。所有数据类型都可以转换为布尔值。除了下面提到的值之外，所有的值都被转换成一个真正的布尔值。</p><ol class=""><li id="cc94" class="nk nl iq ky b kz la lc ld lf nm lj nn ln no lr nt nq nr ns bi translated"><strong class="ky ir">”</strong></li><li id="2276" class="nk nl iq ky b kz nu lc nv lf nw lj nx ln ny lr nt nq nr ns bi translated"><strong class="ky ir"> 0 </strong></li><li id="d777" class="nk nl iq ky b kz nu lc nv lf nw lj nx ln ny lr nt nq nr ns bi translated"><strong class="ky ir"> -0 </strong></li><li id="6db1" class="nk nl iq ky b kz nu lc nv lf nw lj nx ln ny lr nt nq nr ns bi translated"><strong class="ky ir">未定义</strong></li><li id="287e" class="nk nl iq ky b kz nu lc nv lf nw lj nx ln ny lr nt nq nr ns bi translated"><strong class="ky ir">空值</strong></li><li id="746b" class="nk nl iq ky b kz nu lc nv lf nw lj nx ln ny lr nt nq nr ns bi translated"><strong class="ky ir">楠</strong></li></ol><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="fe4c" class="lx ly iq lt b gy lz ma l mb mc">let x;<br/>if(x){<br/>console.log("I am true.");<br/>}<br/>// No result is printed in console as x is undefined</span><span id="5d57" class="lx ly iq lt b gy ng ma l mb mc">let y = [];<br/>if(y){<br/>console.log("I will get logged.");<br/>}<br/>// "I will get logged." will get printed in console</span><span id="1a88" class="lx ly iq lt b gy ng ma l mb mc">if (-1) {<br/>console.log("I will be logged.")<br/>}<br/>//<!-- -->"I will be logged." will get printed in console</span></pre><p id="84a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果值的数据类型不同，则==运算符会转换它们的数据类型。为了进行严格的比较，我们在不进行类型转换的地方使用===操作符。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="af33" class="lx ly iq lt b gy lz ma l mb mc">12 == "12" // Output is true as string "12" is converted to number</span><span id="078b" class="lx ly iq lt b gy ng ma l mb mc">12 === "12" // Output is false as string "12" is not converted to number</span><span id="b5c7" class="lx ly iq lt b gy ng ma l mb mc">true == 1 //Output is true as true Boolean is converted to 1</span><span id="29a2" class="lx ly iq lt b gy ng ma l mb mc">'true' == true //Output is false as 'true' is converted to NaN and true is converted to 1</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/bd5ba2fc6ba856098c5234cb6add33d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VrBiLu3xeENMMfr6NPcHGw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">==操作员图表参考— StackOverflow</p></figure><p id="1e7a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="oa">注意:</em> </strong> <em class="oa">其他比较运算符的行为与==运算符相同。</em></p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="50ff" class="mk ly iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">显性胁迫</h1><p id="6d97" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在这种情况下，类型转换由开发人员在代码中显式完成。JavaScript提供了类型转换的内置方法。</p><h2 id="839a" class="lx ly iq bd ml ob oc dn mp od oe dp mt lf of og mv lj oh oi mx ln oj ok mz ol bi translated"><strong class="ak">转换为数字</strong></h2><p id="11eb" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">Number()全局方法用于将任何其他数据类型值转换为数值。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="57df" class="lx ly iq lt b gy lz ma l mb mc">Number("25") //Output is 25 as "25" string is converted to number 25</span><span id="ca3d" class="lx ly iq lt b gy ng ma l mb mc">Number("") //Output is 0 as "" string is converted to 0</span><span id="d93b" class="lx ly iq lt b gy ng ma l mb mc">Number([]) //Output is 0 as [] is converted to 0</span><span id="1fd0" class="lx ly iq lt b gy ng ma l mb mc">Number(null) //Output is 0 as null is converted to 0</span><span id="dc03" class="lx ly iq lt b gy ng ma l mb mc">Number(true) //Output is 1 as true is converted to 1</span><span id="ae42" class="lx ly iq lt b gy ng ma l mb mc">Number(false) //Output is 0 as false is converted to 0</span><span id="6dd4" class="lx ly iq lt b gy ng ma l mb mc">Number("Test") //Output is NaN as "Test" could not be converted to number</span></pre><p id="041c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> parseInt() </strong>和<strong class="ky ir"> parseFloat() </strong>方法也可以用于将存储为字符串的数字转换为数字。对于所有其他数据类型，它将返回NaN。</p><h2 id="e7b4" class="lx ly iq bd ml ob oc dn mp od oe dp mt lf of og mv lj oh oi mx ln oj ok mz ol bi translated"><strong class="ak">转换成字符串</strong></h2><p id="6f21" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">String()全局方法用于将任何其他数据类型值转换为字符串值。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="67d6" class="lx ly iq lt b gy lz ma l mb mc">String(25) //Output is "25" as 25 is converted to string "25"</span><span id="bd33" class="lx ly iq lt b gy ng ma l mb mc">String([]) //Output is "" as [] is converted to empty string ""</span><span id="b6bd" class="lx ly iq lt b gy ng ma l mb mc">String(null) //Output is "null" as null is converted to string "null"</span><span id="79d2" class="lx ly iq lt b gy ng ma l mb mc">String(true) //Output is "true" as true is converted to string "true"</span><span id="433b" class="lx ly iq lt b gy ng ma l mb mc">String(false) //Output is "false" as false is converted to string "false"</span><span id="d635" class="lx ly iq lt b gy ng ma l mb mc">String({}) //Output is "[object Object]" as {} is converted to string(similar to calling toString() on a object)</span></pre><h2 id="8ac1" class="lx ly iq bd ml ob oc dn mp od oe dp mt lf of og mv lj oh oi mx ln oj ok mz ol bi translated"><strong class="ak">转换为布尔型</strong></h2><p id="82ac" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">Boolean()全局方法用于将任何其他数据类型值转换为布尔值。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="490d" class="lx ly iq lt b gy lz ma l mb mc">Boolean(25) //Output is true</span><span id="d159" class="lx ly iq lt b gy ng ma l mb mc">Boolean([]) //Output is true</span><span id="b3f6" class="lx ly iq lt b gy ng ma l mb mc">Boolean(null) //Output is false</span><span id="2e14" class="lx ly iq lt b gy ng ma l mb mc">Boolean({}) //Output is true</span><span id="a416" class="lx ly iq lt b gy ng ma l mb mc">Boolean("Yeah! I will be converted to Boolean.") //Output is true</span></pre></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><p id="be82" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我这边就这样。感谢您的阅读！</p></div></div>    
</body>
</html>