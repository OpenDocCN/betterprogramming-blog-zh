<html>
<head>
<title>Clock-In/Out System Part 4: Basic Back End (III) — AppModule</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">上下班打卡系统第4部分:基本后端(三)——app module</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/part-4-clock-in-out-system-basic-backend-iii-appmodule-850dd17883e?source=collection_archive---------1-----------------------#2018-12-14">https://betterprogramming.pub/part-4-clock-in-out-system-basic-backend-iii-appmodule-850dd17883e?source=collection_archive---------1-----------------------#2018-12-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="af8c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">NestJS + Angular教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/27028d592125269574905771e8218205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*KhCkmbtORw2Ux3n5WCrtzA.png"/></div></figure><p id="62d8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这篇文章是我描述上下班打卡系统的系列文章的一部分。如果你想了解更多，你可以阅读以下内容:</p><ul class=""><li id="ace6" class="lm ln it ks b kt ku kw kx kz lo ld lp lh lq ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/@ccaballero/part-1-clock-in-out-system-diagram-a0a51bab02a7?source=post_page---------------------------" rel="noopener">上下班打卡系统第1部分:图</a></li><li id="02aa" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/better-programming/part-2-clock-in-out-system-basic-backend-i-authmodule-66d4a5c56122?source=post_page---------------------------" rel="noopener">上下班打卡系统第二部分:基础后端— AuthModule </a></li><li id="f56b" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/better-programming/part-3-clock-in-out-system-basic-backend-ii-usersmodule-a56f42b20f62?source=post_page---------------------------" rel="noopener">上下班打卡系统第3部分:基本后端——用户模块</a></li><li id="570e" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/better-programming/part-4-clock-in-out-system-basic-backend-iii-appmodule-850dd17883e?source=post_page---------------------------" rel="noopener">上下班打卡系统第4部分:基础后端— AppModule </a></li><li id="4035" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/better-programming/part-5-clock-in-out-system-seed-database-and-migration-data-cf037be21aac?source=post_page---------------------------" rel="noopener">上下班打卡系统第5部分:种子数据库和迁移数据</a></li><li id="09ca" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/@ccaballero/part-6-clock-in-out-system-basic-frontend-an-7e5f9ed08c3f?source=post_page---------------------------" rel="noopener">上下班打卡系统第6部分:基本前端</a></li><li id="cb20" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/@ccaballero/part-7-deploy-backend-nestjs-docker-docker-compose-2429c0b6aa9c?source=post_page---------------------------" rel="noopener">上下班打卡系统第7部分:使用Docker/Docker-Compose部署后端(NestJS)</a></li><li id="8948" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/@ccaballero/part-8-clock-in-out-system-deploy-frontend-angular-6-using-environments-ad267325d3b6?source=post_page---------------------------" rel="noopener">上下班打卡系统第8部分:使用环境部署前端(角度6+)</a></li><li id="e6a0" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/@ccaballero/part-9-testing-backend-testing-2d021f48403b?source=post_page---------------------------" rel="noopener">上下班打卡系统第9部分:后端测试——服务的单元测试</a></li><li id="9ede" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated"><a class="ae lv" href="https://medium.com/@ccaballero/part-10-testing-backend-testing-unit-testing-controllers-4177370ef581?source=post_page---------------------------" rel="noopener">上下班打卡系统第10部分:后端测试——控制器单元测试</a></li><li id="ddde" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated">上下班打卡系统第11部分:后端测试-e2e测试</li><li id="9c7b" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated">上下班打卡系统第12部分:前端测试单元测试</li><li id="701a" class="lm ln it ks b kt lw kw lx kz ly ld lz lh ma ll lr ls lt lu bi translated">上下班打卡系统第13部分:前端测试集成测试</li></ul><p id="0892" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在前一篇文章中，我介绍了用于管理用户信息的模块<code class="fe mb mc md me b">UserModule</code>。我建议你先读第一篇，这样你就能理解整个系统。</p><p id="1a2a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这个部分将呈现用于管理来自<a class="ae lv" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank">角度</a>前端的用户请求的<code class="fe mb mc md me b">AppModule</code>。这个模块只有一个服务、控制器和模块。</p><p id="be71" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><code class="fe mb mc md me b">AppService</code>从模块<code class="fe mb mc md me b">UsersModule</code>和<code class="fe mb mc md me b">AuthModule</code>注入两个服务<code class="fe mb mc md me b">UserService</code>和<code class="fe mb mc md me b">AuthService</code>。它被用作使用这两种服务的包装器。</p><p id="11f8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">第一步是给你看<code class="fe mb mc md me b">AppModule</code> <strong class="ks iu"> </strong>代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mf"><img src="../Images/c7bbb14704579a950992901801699db7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nTDjaNMQm6NRYtGCpjRZNA.png"/></div></div></figure><p id="14d0" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">可以看到这个模块导入了<code class="fe mb mc md me b">AuthModule</code>和<code class="fe mb mc md me b">UsersModule</code>。这很重要，因为<code class="fe mb mc md me b">AppService</code>注入了<code class="fe mb mc md me b">AuthService</code>和<code class="fe mb mc md me b">UsersService</code>。</p><p id="e629" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">下一步是开发控制器，它包含两条与打卡上班和打卡下班相关的路线。</p><p id="c857" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">它们调用<code class="fe mb mc md me b">AppService</code>(它将调用<code class="fe mb mc md me b">AuthService</code>)和一个route associate来从服务器获取当前工作的用户列表和时间戳(以接近实时的方式获取，它将调用<code class="fe mb mc md me b">UserService</code>)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mk"><img src="../Images/46115bdabe497a9624c3276c1210f9fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ylB9vZlAUiPjPJjeXtMv5A.png"/></div></div></figure><p id="5cfb" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">最后一步是开发<code class="fe mb mc md me b">AppService</code>，它使用了前面提到的两个服务。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ml"><img src="../Images/7cb2a74ec7f843371738f5bad3563a58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCejQPeTl9pX00FY44xKpQ.png"/></div></div></figure></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="890b" class="mt mu it bd mv mw mx my mz na nb nc nd jz ne ka nf kc ng kd nh kf ni kg nj nk bi translated">结论</h1><p id="1fe0" class="pw-post-body-paragraph kq kr it ks b kt nl ju kv kw nm jx ky kz nn lb lc ld no lf lg lh np lj lk ll im bi translated">在这篇文章中，我已经解释了我的<code class="fe mb mc md me b">AppModule</code>。这很简单，因为我在编码中使用了干净的代码。</p><p id="ef61" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这个模块用于客户端(Angular)和服务器端的通信。它导入<code class="fe mb mc md me b">AuthModule</code>和<code class="fe mb mc md me b">UsersModule</code>并导出它们的服务。这些服务用于保存关于上班打卡/下班打卡的信息，并获取当前正在工作的所有用户。</p><p id="3756" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">目前，我们已经开发了一个具有三个模块和不同端点的基本后端。</p><p id="fd5d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在下一篇关于后端的文章中，我们将解释数据库和测试的种子。之后的文章将解释如何使用Angular和<a class="ae lv" href="https://www.learnrxjs.io/" rel="noopener ugc nofollow" target="_blank"> RxJS </a>构建一个基本的前端。</p></div></div>    
</body>
</html>