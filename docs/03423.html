<html>
<head>
<title>How to Create a Gradient NavBar in Swift 5 and iOS 13</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Swift 5和iOS 13中创建渐变导航条</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/ios-13-swift-5-how-to-create-a-gradient-navbar-bb76e77a24ad?source=collection_archive---------7-----------------------#2020-02-09">https://betterprogramming.pub/ios-13-swift-5-how-to-create-a-gradient-navbar-bb76e77a24ad?source=collection_archive---------7-----------------------#2020-02-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="27a0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">给你的导航栏一个更好的设计</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b5a5ba0b313fd7eaa6e4562eca180b1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*krBJmXvAImDh7W2qY3PQ_A.jpeg"/></div></div></figure><p id="d3d4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我记得当我第一次看到iOS 13中的Photos应用程序时，最突出的是渐变导航栏。非常简单，但非常优雅。我决定重新创作，并分享我是如何重新创作的。</p><p id="69f2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">旁注:一切都是通过编程完成的。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="7e54" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">新建项目并设置UINavigationController</h1><p id="8e7d" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">让我们首先创建一个新项目作为单视图应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/26718b1a6414e98f89e5b0b658cf5a69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r_pJJ9Jz2v3EQ_rnlrQI8w.png"/></div></div></figure><p id="9a11" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将首先在<code class="fe mv mw mx my b">SceneDelegate.swift</code>文件中设置<code class="fe mv mw mx my b">UINavigationController</code>，以编程方式将<code class="fe mv mw mx my b">rootViewController</code>设置为包装在<code class="fe mv mw mx my b">UINavigationController</code>中的<code class="fe mv mw mx my b">ViewController</code>。</p><p id="8387" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<code class="fe mv mw mx my b">willConnectTo</code>场景功能中，我们将设置<code class="fe mv mw mx my b">UINavigationController</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="7c3c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您构建并运行该文件，您应该会看到<code class="fe mv mw mx my b">NavBar</code>显示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/7c6da0b3905992bf876ea6c2a1ed277f.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*AbvvF0XfmRLht30O6duRXw.jpeg"/></div><p class="nc nd gj gh gi ne nf bd b be z dk translated">我在ViewController类中将背景设为红色，以演示NavBar确实在工作</p></figure></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="87d8" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">所需的变量和设置UICollectionView</h1><p id="03ea" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">边注:虽然<code class="fe mv mw mx my b">UICollectionView</code>不是创建渐变<code class="fe mv mw mx my b">NavBar</code>所必需的，但我将快速创建一个，只是为了演示渐变会像它应该的那样工作，在本教程的后面。</p><p id="887f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里是渐变所需的变量<code class="fe mv mw mx my b">NavBar</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="4a3d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">边注:<strong class="kw iu"> <em class="ng"> </em> </strong>如果不需要创建<code class="fe mv mw mx my b">UICollectionView</code>就跳过这一段。</p><p id="7977" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里是<code class="fe mv mw mx my b">UICollectionView</code>需要的变量和委托。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="d92b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦你试图构建它，你将会有快速的编译错误，因为你需要符合<code class="fe mv mw mx my b">UICollectionViewDataSource</code>的协议。</p><p id="440d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是，当我们添加必要的协议时，我们将添加其他的<code class="fe mv mw mx my b">UICollectionView</code>函数作为<code class="fe mv mw mx my b">ViewController</code>类的扩展。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="baa5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦你运行这个，你会注意到<code class="fe mv mw mx my b">UICollectionView</code>没有出现。这是因为我们需要锚定它。我们可以创建一个函数<code class="fe mv mw mx my b">setupCollectionView</code>并在<code class="fe mv mw mx my b">viewDidLoad</code>函数中调用它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="ff3d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您运行并构建代码，您现在应该得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/f8b848e2abe3f1583257b0175227ab44.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*rjV5Dv_WVsGqH8RhJ9tVhA.jpeg"/></div></figure></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="c97e" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">UIViewController扩展</h1><p id="916a" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">接下来就是明确<code class="fe mv mw mx my b">navBar</code>。我们将从创建一个<code class="fe mv mw mx my b">UIViewController</code>的扩展开始。</p><p id="1389" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们创建一个新文件，并将其命名为<code class="fe mv mw mx my b">UIViewControllerExtensions</code> <strong class="kw iu"> <em class="ng"> </em> </strong>，并添加一个函数来创建一个清晰的<code class="fe mv mw mx my b">navBar</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="b7ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">旁注:当我们创建扩展时，它允许我们在这个项目的任何类中调用这个函数，而不是编写相同的函数，从而减少冗余。</p><p id="62cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">既然我们在这个文件中，让我们也创建一个函数，<code class="fe mv mw mx my b">setupGradient</code>，它将返回一个渐变。我们以后会需要这个。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="7398" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">清除导航条和渐变</h1><p id="1e52" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">在<code class="fe mv mw mx my b">ViewController</code>类中，在<code class="fe mv mw mx my b">ViewDidLoad</code>函数中，我们可以调用我们在<code class="fe mv mw mx my b">UIViewControllerExtensions</code>文件中创建的<code class="fe mv mw mx my b">setupClearNavBar</code>函数。</p><p id="197e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了验证<code class="fe mv mw mx my b">NavBar</code>是清晰的并且没有消失，我们可以在<code class="fe mv mw mx my b">ViewDidLoad</code>函数中给<code class="fe mv mw mx my b">NavBar</code>添加一个标题。</p><pre class="kj kk kl km gt nh my ni nj aw nk bi"><span id="297b" class="nl ly it my b gy nm nn l no np">navigationItem.title = “A NavBar”</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/da2c25c43509cd8741a74706d81cec96.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*Qx-MMGO6PDIvTBpG-ZAvLA.jpeg"/></div></figure><p id="5410" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在让我们添加渐变。我们所做的就是在<code class="fe mv mw mx my b">navBar</code>下面锚定<code class="fe mv mw mx my b">gradientView</code>来创建渐变。我们可以在<code class="fe mv mw mx my b">ViewController</code>类中创建<code class="fe mv mw mx my b">setupGradient</code>函数，并在<code class="fe mv mw mx my b">ViewDidLoad</code>函数中调用它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="cb20" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">确保您正在调用<code class="fe mv mw mx my b">viewDidLoad</code> <strong class="kw iu"> <em class="ng"> </em> </strong>中的函数如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="745b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">完成所有这些操作并运行应用程序后，它应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/8a4985ffe6975b4250648364f8cd7063.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*15pfdu3zsS9yjSazJIMlqA.jpeg"/></div></figure><p id="92c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">链接到<a class="ae nq" href="https://github.com/ModernProgrammer/GradientNavBarDemo" rel="noopener ugc nofollow" target="_blank"> GitHub Repo </a>。</p><p id="5b0a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读！</p></div></div>    
</body>
</html>