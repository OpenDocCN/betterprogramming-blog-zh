<html>
<head>
<title>Migrating a Create-React-App to NextJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Create-React-App迁移到NextJS</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/migrating-a-complete-creat-react-app-to-nextjs-ba6edd8e64f1?source=collection_archive---------1-----------------------#2022-07-06">https://betterprogramming.pub/migrating-a-complete-creat-react-app-to-nextjs-ba6edd8e64f1?source=collection_archive---------1-----------------------#2022-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8a14" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">并且知道这两个框架之间的细微差别</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/18b7b5e6ecac837498c37e748ef47e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z1U7SJeqK_JJXUYei5uD8w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来自<a class="ae kv" href="https://github.com/ijsto/reactnextjssnippets" rel="noopener ugc nofollow" target="_blank"> ijsto </a></p></figure><p id="0b81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我最近开始为一个沙龙开发一个web应用程序，其中包括一个预订系统。我想以这样一种方式设计它，用户可以很容易地通过应用程序导航，所以我想有一个主页，这将是应用程序的起点，将有关于沙龙的所有信息，然后有另一个页面将处理预订系统。</p><p id="4ffb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我开始用CRA编写完整的主页，并很快意识到我必须将它移到Next.js。不幸的是，我无法找到关于我的确切问题的帮助，因为我必须更改我的大部分功能，以便它们在Next上工作。下面的文章是如何将完整的CRA迁移到Next.js的分步指南，以及在整篇文章中帮助我的一些资源。</p><h2 id="0356" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">关于创建-反应-应用</h2><p id="f5a3" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">React是一个库，用于通过构建可重用的组件来创建交互式用户界面。Create-react-app是在react中构建单页面应用程序最快捷、最简单的方法。它设置了您的开发环境，因此您可以花更少的时间来考虑细节，花更多的时间来创建一个漂亮的界面。</p><h2 id="4048" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">关于NextJS</h2><p id="90ce" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Next.js是一个React框架，让你更容易构建高效的web应用。它使您能够从单页应用程序转移到内容丰富的应用程序，您可以通过简化创建路线的过程来导航。它还通过利用按需呈现而不是构建时呈现的概念来提高应用程序的性能。</p><h2 id="0453" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">目标</h2><p id="d09b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">将一个完整的SPA及其所有组件和样式迁移到Next.js。</p><h2 id="a224" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">先决条件</h2><p id="3354" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这篇文章是关于Next.js的，它是一个React框架。你应该了解web开发，React.js库和Next.js的部分知识是必要的。</p><p id="63a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文假设您已经创建了React应用程序，或者已经完成了单页应用程序，或者已经构建了必要的组件和样式，现在您需要做的就是将项目转换到Next.js。</p><h2 id="b0e1" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">关于项目</h2><p id="db00" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们将把一个单页React应用程序及其组件和样式转移到Next.js。这将需要我们改变文件结构。</p><h1 id="5659" class="mq lt iq bd lu mr ms mt lx mu mv mw ma jw mx jx md jz my ka mg kc mz kd mj na bi translated">目录</h1><ul class=""><li id="6b69" class="nb nc iq ky b kz ml lc mm lf nd lj ne ln nf lr ng nh ni nj bi translated">创建-反应-应用程序项目文件结构</li><li id="e4e6" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">安装NextJS</li><li id="aea9" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">配置您的应用程序</li><li id="561f" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">NextJS项目文件结构</li></ul><h1 id="0336" class="mq lt iq bd lu mr ms mt lx mu mv mw ma jw mx jx md jz my ka mg kc mz kd mj na bi translated">创建React应用程序文件结构</h1><p id="a2b6" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">创建React应用程序包含三个主要文件夹:</p><ol class=""><li id="a55b" class="nb nc iq ky b kz la lc ld lf np lj nq ln nr lr ns nh ni nj bi translated">节点模块文件夹。该文件夹是在编译过程中运行“create-react-app”命令时创建的。</li><li id="60f3" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ns nh ni nj bi translated">公共文件夹。这个文件夹包含index.html文件，这是应用程序的入口点。公用文件夹中的图像文件夹是可选的。一些开发人员建议最好将您的图像放在将要使用的<a class="ae kv" href="https://bobbyhadz.com/blog/react-where-to-put-images" rel="noopener ugc nofollow" target="_blank">组件旁边。</a></li><li id="22cb" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ns nh ni nj bi translated">最后一个文件夹是src文件夹。该文件夹将包含您为应用程序构建的组件、css文件以及App.js文件和index.js文件。此外，您的src文件将包含package.json文件，这对您的项目非常重要。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/b44e6c44b0cb522dd4476ba28863b14f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FpaiaPRBNzlKDNfAQB8Obg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">CRA文件结构</p></figure><h1 id="f962" class="mq lt iq bd lu mr ms mt lx mu mv mw ma jw mx jx md jz my ka mg kc mz kd mj na bi translated">安装NextJS</h1><h2 id="6fed" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">步骤1 —卸载React脚本</h2><p id="fafb" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们将从删除react脚本开始。转到您的终端添加这个命令，这将卸载react-script依赖项。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="67cd" class="ls lt iq nv b gy nz oa l ob oc">npm uninstall react-scripts</span></pre><h2 id="2720" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">步骤2 —安装下一个软件包</h2><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="2620" class="ls lt iq nv b gy nz oa l ob oc">npm install next</span></pre><p id="793d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当下一个包安装完成后，检查主项目目录中的<code class="fe od oe of nv b">.next</code>文件夹。如果没有，你可以自己添加(我使用了create-next-app教程中的一个<code class="fe od oe of nv b">.next</code>文件夹。只需复制并粘贴到主文件夹中)。</p><h2 id="8148" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">步骤3 —将package.json文件中的脚本更改为后续脚本</h2><p id="54ef" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">您的脚本应该是这样的:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="df62" class="ls lt iq nv b gy nz oa l ob oc">"scripts": {<br/>   "start": "react-scripts start",<br/>   "build": "react-scripts build",<br/>   "test": "react-scripts test",<br/>   "eject": "react-scripts eject"<br/>}</span></pre><p id="42c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对此:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="8294" class="ls lt iq nv b gy nz oa l ob oc">"scripts": {<br/>   "dev": "next dev",<br/>   "build": "next build",<br/>   "start": "next start"<br/>}</span></pre><p id="d7b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的依赖项应该如下所示:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="bb47" class="ls lt iq nv b gy nz oa l ob oc">"dependencies": {<br/>   "@testing-library/jest-dom": "^5.16.4",<br/>   "@testing-library/react": "^13.3.0",<br/>   "@testing-library/user-event": "^13.5.0",<br/>   "next": "^12.2.0"<br/>   "react": "^18.2.0",<br/>   "react-dom": "^18.2.0",<br/>   "web-vitals": "^2.1.4"<br/>}</span></pre><h1 id="5b1b" class="mq lt iq bd lu mr ms mt lx mu mv mw ma jw mx jx md jz my ka mg kc mz kd mj na bi translated">配置您的应用程序</h1><p id="bb55" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">现在您已经拥有了next使用项目的所有依赖项和脚本，下一步是为Next设置文件结构。Next.js的工作方式与React不同。其中React应用程序的入口点是index.html文件，Next没有任何index.html文件。</p><p id="f338" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本节中，您需要做的第一件事是在主应用程序文件夹中创建一个“pages”文件夹。</p><h2 id="eb9f" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">编译输出</h2><p id="ece9" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">NextJS中index.html文件的对等物是<code class="fe od oe of nv b"><a class="ae kv" href="https://nextjs.org/docs/advanced-features/custom-document" rel="noopener ugc nofollow" target="_blank"><em class="og">_</em>document.js</a></code>文件。</p><blockquote class="oh oi oj"><p id="bdd0" class="kw kx og ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">自定义<code class="fe od oe of nv b"><em class="iq">Document</em></code>可以更新用于呈现<a class="ae kv" href="https://nextjs.org/docs/basic-features/pages" rel="noopener ugc nofollow" target="_blank">页面</a>的<code class="fe od oe of nv b"><em class="iq">&lt;html&gt;</em></code>和<code class="fe od oe of nv b"><em class="iq">&lt;body&gt;</em></code>标签。这个文件只在服务器上呈现，所以像<code class="fe od oe of nv b"><em class="iq">onClick</em></code>这样的事件处理程序不能在<code class="fe od oe of nv b"><em class="iq">_document</em></code>中使用。</p></blockquote><h2 id="007f" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">步骤1 —创建<code class="fe od oe of nv b">_document.js </code>文件</h2><p id="6468" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在你的“pages”文件夹中，新建一个文件，命名为<code class="fe od oe of nv b">_document.js</code> <em class="og">。</em>您的文件应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="on oo l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">_document.js文件的结构</p></figure><p id="db2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后覆盖默认的<code class="fe od oe of nv b">Document</code>，将<code class="fe od oe of nv b">index.html</code> <em class="og"> </em>文件头段中的所有内容粘贴到<code class="fe od oe of nv b">_document.js</code> <em class="og"> </em>文件头段中。这将是一个很好的地方你的谷歌字体链接和你的字体真棒链接，如果你有任何，最终产品将如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="on oo l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Edited _document.js文件覆盖默认设置</p></figure><p id="8c84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于如何在你的项目中加入<code class="fe od oe of nv b">&lt;Title&gt;</code>和<code class="fe od oe of nv b">&lt;Head&gt;</code>标签的更多信息，请访问这篇文章。</p><h2 id="9b81" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">步骤2-创建_app.js文件</h2><blockquote class="oh oi oj"><p id="4d4d" class="kw kx og ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">所有页面之间的任何共享布局都应该移动到一个<a class="ae kv" href="https://nextjs.org/docs/advanced-features/custom-app" rel="noopener ugc nofollow" target="_blank">自定义</a>T5。</p></blockquote><p id="1af1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">pages文件夹是放置<code class="fe od oe of nv b"><a class="ae kv" href="https://nextjs.org/docs/advanced-features/custom-app" rel="noopener ugc nofollow" target="_blank">_app.js</a></code> <em class="og"> </em>文件的地方。如果您想要将meta标签或组件(例如导航栏和页脚)应用于所有页面，请将它们放在该文件中。</p><p id="f685" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们首先从next/head导入Head组件</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="9a01" class="ls lt iq nv b gy nz oa l ob oc">import Head from 'next/head';</span></pre><p id="f2c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将您的meta标签放在<code class="fe od oe of nv b">&lt;Head&gt;</code>标签中:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="0031" class="ls lt iq nv b gy nz oa l ob oc">&lt;Head&gt;<br/>  &lt;meta charset="utf-8" /&gt;<br/>  &lt;meta name="author" content="Moleseng" /&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;<br/>&lt;/Head&gt;</span></pre><p id="6771" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终，您的<code class="fe od oe of nv b">_app</code>组件将看起来像这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="on oo l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Final _app.js文件结构</p></figure><h2 id="5026" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">步骤3 —组件和页面</h2><p id="e675" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">现在我们已经到了这个过程中最有趣的部分；设置我们在React应用程序中制作的组件，以便我们可以在下一个应用程序中渲染它们。NextJS没有把它的组件放在src文件夹中，相反，它有两个主要的文件夹，即；<code class="fe od oe of nv b">components</code>文件夹和<code class="fe od oe of nv b">pages</code>文件夹。</p><blockquote class="oh oi oj"><p id="5c46" class="kw kx og ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">在Next.js中，<strong class="ky ir">页面</strong>是从<code class="fe od oe of nv b"><em class="iq">pages</em></code>目录下的<code class="fe od oe of nv b"><em class="iq">.js</em></code>、<code class="fe od oe of nv b"><em class="iq">.jsx</em></code>、<code class="fe od oe of nv b"><em class="iq">.ts</em></code>或<code class="fe od oe of nv b"><em class="iq">.tsx</em></code>文件中导出的<a class="ae kv" href="https://reactjs.org/docs/components-and-props.html" rel="noopener ugc nofollow" target="_blank"> React组件</a>。每个页面都根据其文件名与一个路径相关联。</p></blockquote><p id="cadd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击了解更多关于这个<a class="ae kv" href="https://nextjs.org/docs/basic-features/pages" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="01e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在我们的pages文件夹中，我们将创建一个<code class="fe od oe of nv b">index.js</code>文件。<code class="fe od oe of nv b">index.js</code>将包含主页，这将是用户打开web应用时看到的第一个页面。在这里，您可以Li“页面”文件夹的其余部分将包含您已提供给用户访问的所有其他页面。它看起来会像这样:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="9fde" class="ls lt iq nv b gy nz oa l ob oc">export default function HomePage() {<br/>  return (<br/>    &lt;div&gt;<br/>      Hello, this is HomePage!<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="db3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想让标题与众不同，你还可以添加一个<code class="fe od oe of nv b">&lt;title&gt;</code>标签。这是你可以在应用程序的每个页面上做的事情，也是我非常喜欢NextJS的一个很酷的地方:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="on oo l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Next.js中index.js文件的结构</p></figure><p id="94ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您将在主项目目录中创建的下一个文件夹是components文件夹。这个文件夹将包含组成应用程序不同部分的所有可重用组件，就像你在React应用程序中一样，只是这次它不在<code class="fe od oe of nv b">src</code>文件夹中。可以将这些组件导入到您希望在其中使用它们的任何其他组件或页面中。</p><h2 id="65b0" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">式样</h2><p id="898f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Next.js允许你像React一样将样式导入到你的应用中，但是它需要这些文件是CSS模块。你可以在这里阅读更多相关信息<a class="ae kv" href="https://nextjs.org/docs/basic-features/built-in-css-support" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="926a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您将首先在您的主项目目录中创建<code class="fe od oe of nv b">styles</code>文件夹。接下来，从最初的React项目中取出所有的样式文件，并将它们移动到<code class="fe od oe of nv b">styles</code>文件夹中。下一步是重命名文件，例如，如果你的导航栏有样式，它将从<code class="fe od oe of nv b">navbar.css</code>变为<code class="fe od oe of nv b">navbar.module.css</code>。将样式导入到组件中并使用它，如下所示:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="bebf" class="ls lt iq nv b gy nz oa l ob oc">import styles from '../styles/about.module.css';</span><span id="172a" class="ls lt iq nv b gy op oa l ob oc">export default function Navbar(){<br/>   return (<br/>      &lt;&gt;<br/>       &lt;h1 className={styles.heading}&gt;This is the Navbar&lt;/h1&gt;<br/>      &lt;/&gt;<br/>   )<br/>}</span></pre><p id="40c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你在上面看到的，要使用样式，你必须首先使用变量名导入它，当在你的标签中使用它时，使用以变量名开始的点符号，然后从你的<code class="fe od oe of nv b">module.css</code>文件中定位样式属性。</p><h2 id="36e0" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">形象</h2><p id="9935" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Next.js使用public文件夹存储应用程序中的所有图像和图像文件的图像组件。这是为了优化图像。</p><p id="fc8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要使用此组件，首先将其导入到您将在其中使用它的组件中:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="ec3b" class="ls lt iq nv b gy nz oa l ob oc">import Image from 'next/image';</span></pre><p id="b2ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，您将希望在组件中使用该图像，最终产品将如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="on oo l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Next.js组件中导入和使用样式</p></figure><p id="0a7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如您在上面看到的，图像组件的<code class="fe od oe of nv b">width</code>和<code class="fe od oe of nv b">height</code>属性没有接收<code class="fe od oe of nv b">px</code>字符串来调整大小，而是取精确值。这是您必须从最初的React应用程序中改变的，并对值进行调整以获得正确的大小。<a class="ae kv" href="https://nextjs.org/docs/api-reference/next/image" rel="noopener ugc nofollow" target="_blank">在这里</a>你可以获得更多关于图像组件及其属性的信息。</p><h1 id="8c94" class="mq lt iq bd lu mr ms mt lx mu mv mw ma jw mx jx md jz my ka mg kc mz kd mj na bi translated">Next.js项目文件结构</h1><p id="d849" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在完成我们上面所做的所有更改后，您的项目目录应该如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/0755f5e53f5168ae0e7cad828cb5201e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BO2Z3bHMWBQAdBAYi8p4JA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Next.js项目文件结构</p></figure><p id="dce7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您可以向您的应用程序添加更多页面，通过添加到您的项目中，您的用户可以被定向到这些页面。你可以在这里阅读更多相关信息<a class="ae kv" href="https://nextjs.org/docs/api-reference/next/link" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="0692" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您现在应该有一个正在运行的应用程序，您可以通过在终端上运行以下命令来查看它是否能在您的本地主机上运行:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="bec3" class="ls lt iq nv b gy nz oa l ob oc">npm run dev</span></pre><h1 id="fe98" class="mq lt iq bd lu mr ms mt lx mu mv mw ma jw mx jx md jz my ka mg kc mz kd mj na bi translated">结论</h1><p id="7f2d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">正如您在上面看到的，将一个完整的CRA迁移到Next.js并不困难。只要记住以下几点:</p><ul class=""><li id="5bc1" class="nb nc iq ky b kz la lc ld lf np lj nq ln nr lr ng nh ni nj bi translated">Next.js的<code class="fe od oe of nv b">index.html</code>等价物是<code class="fe od oe of nv b">_document.js</code>文件。</li><li id="4d09" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">Next.js不使用<code class="fe od oe of nv b">src</code>文件夹。您的组件文件夹将位于您的主项目目录中。</li><li id="71af" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">Next.js使用模块来进行样式应用，并且您的样式是使用变量名导入的，该变量名将用于访问您的元素的样式属性。</li><li id="483f" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">Next.js使用Image组件按需优化呈现图像文件，而不是在构建时呈现。</li><li id="d864" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">Next.js项目的主项目目录文件结构比CRA项目文件更简洁。</li></ul><p id="eb41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这篇文章对你有帮助！感谢阅读！</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="4153" class="ls lt iq nv b gy nz oa l ob oc"><strong class="nv ir">Want to Connect?</strong></span><span id="b2a1" class="ls lt iq nv b gy op oa l ob oc">If you have any questions or suggestions, please reach out to me on <a class="ae kv" href="https://www.linkedin.com/in/moleseng-mokgosi-ab506b11b/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>.</span></pre></div></div>    
</body>
</html>