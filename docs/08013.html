<html>
<head>
<title>4 Ways To Level Up Your Python Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提升Python代码水平的4种方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/4-ways-to-level-up-your-python-code-f148a50efeea?source=collection_archive---------1-----------------------#2021-03-16">https://betterprogramming.pub/4-ways-to-level-up-your-python-code-f148a50efeea?source=collection_archive---------1-----------------------#2021-03-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3087" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">避免不必要的for循环，更有效地访问字典条目，等等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9179d58835f0cc99e2f9ec4ad9613f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gjffXvAg1rw5W_n2"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="8585" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python的一个好处是很容易让东西工作起来。</p><p id="fcc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一件好事是Python中有许多隐藏的宝藏，让你的代码更干净、更易读，让<em class="lv">更容易编写</em>。</p><p id="3f44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，您将学习四种简单的方法来提高您的Python水平，并将您从初学者区分为新手！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="3f79" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">1.用enumerate()替换range(len())</h1><p id="fa5a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">有时候，您可能需要迭代一个集合，并跟踪您正在访问的索引。为此，许多人转向迭代<code class="fe na nb nc nd b">range(len(collection))</code>。</p><p id="bf4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe na nb nc nd b">enumerate()</code>函数是一种更优雅、更简洁的方式。</p><p id="0e1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe na nb nc nd b">enumerate</code>函数返回一个<code class="fe na nb nc nd b">enumerate</code>对象，存储每一项的索引和值。</p><p id="40e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可以让你更好地跟踪你在收藏中的位置，以及它目前的价值。</p><p id="aa06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看一个用<code class="fe na nb nc nd b">range(len(collection))</code>和<code class="fe na nb nc nd b">enumerate(collection)</code>方法说明这一点的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="d85e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，如果您想让您的<code class="fe na nb nc nd b">enumerate</code>对象从<code class="fe na nb nc nd b">0</code>以外的地方开始，您可以简单地将您的起始值传递给<code class="fe na nb nc nd b">start=</code>参数。假设我们希望从<code class="fe na nb nc nd b">1</code>开始。你可以简单地写:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a7fe" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">2.停止使用方括号来获取词典条目，使用。获取()</h1><p id="ed8a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">假设你有一本这样的字典:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="75df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你想得到<code class="fe na nb nc nd b">age</code>的值。你可能习惯写<code class="fe na nb nc nd b">nik['age']</code>。虽然这在本例中有效，但是当值不存在时就不起作用了。</p><p id="0973" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，试图访问一个不存在的值<code class="fe na nb nc nd b">'location'</code>将引发一个<code class="fe na nb nc nd b">KeyError</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="80a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在遍历一个字典列表，这会打断你的脚本。当然，您可以使用<code class="fe na nb nc nd b">try, except</code>，但是当您可以使用<code class="fe na nb nc nd b">.get()</code>方法代替时，为什么要这样做呢？</p><p id="b007" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果丢失了一个键，该方法将简单地返回<code class="fe na nb nc nd b">None</code>,并继续它的快乐之路！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="342a" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">3.用Zip()简化多个列表的迭代</h1><p id="8ef2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">可能有很多次，当您被给予多个集合(比如列表)时，您需要一起迭代每个集合。</p><p id="5fe0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像示例1一样，您可以使用<code class="fe na nb nc nd b">range(len(collection))</code>方式进行，但是很难阅读。</p><p id="63ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，让我们探索以下示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="ffe8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，我们有一个元组列表，包含每个列表中的项目。</p><p id="5bf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一种不错的方式，但是根据你要迭代多少项，这可能会变得非常麻烦。</p><p id="b26b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用Python的内置<code class="fe na nb nc nd b">zip()</code>函数，我们可以将它简化很多。</p><p id="483a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">注意:</em> <code class="fe na nb nc nd b"><em class="lv">zip()</em></code> <em class="lv">函数返回一个</em> <code class="fe na nb nc nd b"><em class="lv">zip</em></code> <em class="lv">对象，但是您可以直接使用</em> <code class="fe na nb nc nd b"><em class="lv">list()</em></code> <em class="lv">、</em>、<em class="lv">或<code class="fe na nb nc nd b">f"variable_name = {variable_name}"</code>、<code class="fe na nb nc nd b"><em class="lv">dict()</em></code>或<em class="lv">函数将其强制转换为不同的数据类型。</em></em></p><p id="2766" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看这个例子，并再次返回元组列表:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="952d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这写起来更干净！</p><p id="cde2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以直接将东西强制输入字典，但最多只能使用两个集合！</p><p id="fc9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果您想要一个关键字:值对为name:age的字典，您可以写:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="9a33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用两个以上的系列将会产生<code class="fe na nb nc nd b">ValueError</code>。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="02b8" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">4.使用f-strings轻松打印到控制台</h1><p id="d33f" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">从Python 3.8开始，<code class="fe na nb nc nd b">f</code>-字符串也可以用来使用<code class="fe na nb nc nd b">=</code>字符对代码进行自记录。</p><p id="5d2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这实际上意味着，当您向控制台打印变量值时，您不再需要编写<code class="fe na nb nc nd b">f"variable_name = {variable_name}"</code>。</p><p id="0624" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看一个简单的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="8506" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，您可以简单地写道:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="f755" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个微妙而微小的变化，但它让你的代码更容易阅读，当然也让你免于重复，否则你会发现自己参与其中！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="55b0" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="3bec" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这四个技巧可以帮助您的代码看起来更复杂，并避免可能无意中破坏代码的陷阱。</p><p id="9546" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢你阅读这篇文章！如果你有任何其他的建议，请在评论中告诉我！</p></div></div>    
</body>
</html>