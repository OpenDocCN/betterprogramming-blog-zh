<html>
<head>
<title>Mastering HTTP Live Streaming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握HTTP直播</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/mastering-http-live-streaming-d540caa4a9f4?source=collection_archive---------13-----------------------#2019-09-26">https://betterprogramming.pub/mastering-http-live-streaming-d540caa4a9f4?source=collection_archive---------13-----------------------#2019-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7667" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">第1部分:HLS简介</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5c15d0dad261d616603857d7b0d94942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RzpuBg9_5VPwIubPH3j_vA.png"/></div></div></figure><p id="9bd1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">HTTP Live Streaming (HLS)通过HTTP从普通web服务器发送音频和视频，以便在基于iOS的设备上播放。HLS旨在提高可靠性，并通过优化有线和无线连接的可用速度来动态适应网络条件。</p><p id="902c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">注意:</strong>如果您的应用交付的视频内容超过10分钟或数据超过5MB，App Store会要求您使用HLS。</p><p id="3a1c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您的应用程序通过蜂窝网络使用HLS，您必须提供至少一个192Kbps或更低带宽的流。低带宽流可以是纯音频或带有静止图像的音频。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="a444" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">为什么要HTTP直播？</h1><p id="c801" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">在早期，通过网络传输视频不是一件容易的事情。如果您的服务器上只有一个高清文件，并且您必须在只有2G网络带宽的手机上播放该视频，想想看，您需要等待多长时间才能观看完整的视频。此外，我们需要一个流媒体服务器为用户提供视频。</p><p id="9eff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">HLS帮助我们使用公共场所网络服务器而不是专门的流服务器轻松地部署流中的媒体内容。让我们讨论一下HLS的主要特性</p><ul class=""><li id="2f2e" class="mu mv it kw b kx ky la lb ld mw lh mx ll my lp mz na nb nc bi translated">自适应流</li><li id="c102" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">内容保护</li><li id="4f36" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">隐藏字幕和字幕</li><li id="2445" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">广告插入</li><li id="caf9" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">快进和倒放</li><li id="b0d7" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">替代音频</li><li id="7784" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">使用流替代的回退</li></ul><h2 id="1f9d" class="ni ly it bd lz nj nk dn md nl nm dp mh ld nn no mj lh np nq ml ll nr ns mn nt bi translated">自适应流</h2><p id="deba" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">自适应流式传输背后的基本思想是以不同的分辨率和比特率(视频/音频中的bps)生成各种版本的媒体文件。然后根据用户的带宽、屏幕大小和其他因素选择其中一个。</p><p id="139d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些不同版本的视频文件被分成多个块，然后根据用户的带宽进行播放。从图像中可以清楚地看到HLS中的自适应流是如何工作的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/a601131e1e3b5b72c565f3da56e34728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QG9Er1q0iL_45ZqLtHY_pA.png"/></div></div><p class="nv nw gj gh gi nx ny bd b be z dk translated">HLS中的自适应流</p></figure><p id="e772" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">基于广泛的用户带宽环境(2G、3G、4G、LTE、WIFI低、WIFI高)，视频可以使用相应的HLS比特率版本240p、360p、480p、720p和1080p播放。这也允许用户从一个比特率版本切换到另一个比特率版本，这将为用户提供无缝的流体验。</p><h2 id="7722" class="ni ly it bd lz nj nk dn md nl nm dp mh ld nn no mj lh np nq ml ll nr ns mn nt bi translated">内容保护</h2><p id="355a" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">可以使用样本级加密对媒体片段进行单独加密。对相应密钥文件的引用出现在播放列表文件中，因此播放器可以检索密钥进行解密。</p><p id="adaf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">HLS支持您选择的密钥交换方法。静态密钥、编码器生成的密钥和频繁更新的密钥只是几种可能性。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="24c4" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">HLS支持什么？</h1><p id="8908" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">HLS支持以下内容:</p><ul class=""><li id="00bd" class="mu mv it kw b kx ky la lb ld mw lh mx ll my lp mz na nb nc bi translated">现场直播</li><li id="a120" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">预先录制的内容:视频点播(VOD)</li><li id="0a74" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">交替流:不同比特率的多个交替流</li><li id="75ea" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">智能交换:响应网络带宽变化的流的智能交换</li><li id="d1b3" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">媒体加密:加密视频内容</li><li id="0d17" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">用户认证:通过用户认证传送视频/音频内容</li></ul><p id="b6bf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下一步将是深入了解HLS是如何工作的。为此，我们需要了解HLS的架构。我认为这值得一个单独的职位。<a class="ae nz" href="https://medium.com/swift-india/mastering-http-live-streaming-ac982408c16f" rel="noopener">第二部分:HTTP直播的组件</a></p></div></div>    
</body>
</html>