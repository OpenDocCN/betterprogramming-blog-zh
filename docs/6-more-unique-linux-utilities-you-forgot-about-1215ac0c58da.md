# 你忘记的 6 个独特的 Linux 实用程序

> 原文：<https://betterprogramming.pub/6-more-unique-linux-utilities-you-forgot-about-1215ac0c58da>

## 再次到/usr/bin 的深处

![](img/e1bdd57acda1ba2d19581a0b3d8bbcfe.png)

由[卢卡斯](https://unsplash.com/@lukash?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/linux?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

我们以前曾经掉进过 Linux 二进制兔子洞，现在我们将再次踏上旅程。在这篇文章中，我们将更深入地挖掘`/usr/bin`的黑暗角落，揭开一些更有趣的宝石。我们将探索一些独特而有趣的程序，这些程序乍一看似乎过时了，但实际上今天仍然非常有用。

让我们戴上探险家的帽子，去发现 Linux 为我们提供的更多精彩的东西。

# 1.折叠

首先是一个非常简洁的小工具，它将帮助您将输入行换行到特定的长度。长度可以用字节或空格来定义。使用`fold`实用程序，您可以快速驯服具有不同运行长度的文件。

例如，假设我们有一个六个字符长的输入行。我们希望将每行限制在五个字符以内，并换行。使用`fold`,我们可以通过下面的命令来实现:

```
echo "123456" | fold -w 5
```

相应的输出应该是:

```
12345
6
```

现在，我们可以快速强制一些文本符合我们的长度限制。如果您想分解很长的文本流，或者对代码或其他配置文件实施行长度限制，这确实很方便。

查看 [wiki](https://en.wikipedia.org/wiki/Fold_(Unix)) 了解更多关于使用`fold`的细节。

# 2.圆柱

这是另一个超级有用的格式化工具。`column`实用程序帮助您在文本输出中创建列，甚至生成整个表格，所有这些都可以从命令行完成。

使用像`awk`这样的实用程序还有其他方法来实现同样的事情，但是`column`实用程序是针对这种特定用途的，所以使用起来非常简单，记住语法。

如果我们想基于几行输入构建一个简单的表，我们可以执行以下命令:

```
echo -e "one two three\n1 2 3\n111111 222222 333322" | column -t
```

该命令的输出应该如下所示:

```
one     two     three
1       2       3
111111  222222  333322
```

如您所见，输出被自动格式化成整齐对齐的列。这在输出中形成了一个小表，并会根据每个输入行的长度自动调整大小。

如果您在命令行上处理稍微长一点的非结构化数据集，并且希望快速实现一些表格顺序，那么这个实用程序是一个救星。

`column`的[手册页](https://man7.org/linux/man-pages/man1/column.1.html)有更多的使用细节和处理不同输入的独特方法。

# 3.医务主任

您可能听说过`newgrp`命令。这个命令像其他组一样执行命令，但是有一个更简单的实用程序可以完成同样的事情。`sg`实用程序允许您使用您指定的另一个组的权限直接执行命令。您不需要通过管道传输任何东西或者改变您现有的 shell 组，您只需要指定一个组和一个命令。

要执行来自`admin`组的`ls`，您需要传递以下内容:

```
sg admin ls
```

这将使用`admin`组的权限切换`ls`命令运行。一旦命令退出，您将返回到执行前的正常组权限。

`sg`命令有助于测试新的组权限或快速切换上下文以运行另一个组的程序。

查看[手册页](https://man7.org/linux/man-pages/man1/sg.1.html)了解更多使用信息。

# 4.xxd

`xxd`实用程序是在 Linux 上执行十六进制转储的众多方法之一。有许多实用程序具有类似的功能，但是`xxd`程序略有不同。额外的好处是您可以转储和恢复十六进制使用这个工具。还有许多可配置的标志，您也可以对二进制文件进行修补。

让我们假设我们想要对以下名为`foo`的文件进行十六进制转储:

```
1234
5678
```

我们所要做的就是提供输入，`xxd`会自动将文件编码到`stdout`(默认情况下，对于较短的输入文件，这是一个方便的特性):

```
xxd foo

00000000: 3132 3334 0a35 3637 380a                 1234.5678.
```

您也可以通过传递附加的文件名参数直接输出到转储文件:

```
xxd foo bar
```

这将把十六进制转储发送到标题为`bar`的文件中。

此处可获得`xxd`的[手册页。](https://linux.die.net/man/1/xxd)

# 5.pwdx

这个方便的小工具与我们都知道并喜爱的古老的`ps`工具来自同一个家族。`pwdx`实用程序将允许您获取正在运行的进程的当前工作目录。你需要做的就是把 PID 传给它，然后它会告诉你这个进程从哪里开始工作。

假设我们想找出`cron`进程在我们机器上的工作位置。首先，我们只需要通过使用`ps`搜索 PID 来计算它，如下所示:

```
ps aux | grep cron

> root   612  0.0  0.0   7260  2708 ?  Ss   May06   0:11 /usr/sbin/cron -f
```

这里我们可以看到`cron`的 PID 是`612`。现在我们需要做的就是确定该进程的工作目录，将它传递给`pwdx`,如下所示:

```
sudo pwdx 612

> 612: /var/spool/cron
```

由于`cron`是一个系统进程，您必须`sudo`才能获得关于它的信息。一旦命令完成，我们就剩下当前的工作目录`cron`，也就是`/var/spool/cron`。

这可能是一个非常有价值的故障排除工具，尤其是在您追踪目录范围问题的时候。用`pwdx`快速检查一下，你就可以精确地计算出进程*认为*应该从哪里运行。

点击查看`pwdx`和[的手册页。](https://linux.die.net/man/1/pwdx)

# 6.写

这个强大的小程序可能不像你第一眼看到的那样。它在 Linux 中已经存在了几十年，甚至可以追溯到 1975 年的 Unix 版本 6。

`write`实用程序实际上允许您向同一系统上的其他用户发送消息。您可以锁定任何其他登录用户，并向他们发送消息。提供一个用户名，然后你就会进入一个交互式的 shell，你可以写任何你想写的内容。您键入的所有内容(包括换行符)都将出现在目标用户的控制台上。

这里有一个简单的例子:

```
write <username>
```

这将使您进入一个交互式控制台，向相应的用户发送消息。请记住，这是一种颇具侵犯性的向其他用户发送消息的方式。他们将立即开始接收您在他们的控制台上输入的文本。不会有任何警告或提示让他们接受它。看起来好像他们的终端闹鬼了。他们也将无法回复，因为这是单向通信。

尽管现在有更好的方法来处理用户间的消息传递，但这只是一段计算历史。我确信今天它仍然有一些创造性的(和邪恶的)用途。

点击查看官方[手册页。](https://linux.die.net/man/1/write)

感谢阅读！如果你喜欢这篇文章，看看我的其他帖子:

*   [*5 个让构建 API 更简单的 Python 模块*](/5-python-modules-that-make-building-apis-easier-a8d39911f6a8)
*   [*使用 Ansible*](/clean-up-your-kubernetes-deployments-using-ansible-10a000db313b) 清理您的 Kubernetes 部署