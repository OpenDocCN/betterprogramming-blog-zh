<html>
<head>
<title>How Facebook’s SDK Can Bring Apple’s iOS Ecosystem Down Without a Single Line of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">脸书的SDK如何不用一行代码就能搞垮苹果的iOS生态系统</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-facebooks-sdk-can-bring-apple-s-ios-ecosystem-down-without-a-single-line-of-code-bc8eae774b37?source=collection_archive---------7-----------------------#2020-07-23">https://betterprogramming.pub/how-facebooks-sdk-can-bring-apple-s-ios-ecosystem-down-without-a-single-line-of-code-bc8eae774b37?source=collection_archive---------7-----------------------#2020-07-23</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="d82f" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">脸书的SDK不仅是一个隐私威胁，也可能导致灾难</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/1a2a881abde6c14f97b0f8181fbcb908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z9Rn4KBZQH8xUvDI"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae kz" href="https://unsplash.com/@ussamaazam?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ussama Azam </a>拍摄的照片。</p></figure><p id="1005" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一个晴朗的早晨，我在iOS设备上打开了我最喜欢的音乐流媒体应用Spotify，但它崩溃了。</p><p id="5e5a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">可能是因为我用的是iOS 14 beta。没有多想，我打开了我最喜欢的博客应用Medium。<em class="lw">它也崩溃了。</em></p><p id="e028" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我最喜欢的两个应用程序同时关闭是一个奇怪的巧合。我重新安装了应用程序，重启了我的设备，但仍然没有运气。这个问题依然存在。</p><p id="e285" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">奇怪的是，WhatsApp和Instagram运行得很好。</p><p id="90db" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我迅速跳上Twitter网络浏览器，查看是否有任何消息。毕竟，任何突发新闻和中断都是首先在微博社交媒体平台上报道的。</p><p id="c525" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">事实证明，问题既不是苹果的生态系统，也不是这些应用程序的失误。这实际上是脸书那边的一个小故障。</p><p id="8269" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">脸书的iOS SDK广泛应用于App Store上的各种应用，但其服务器端存在一个明显的缺陷。它关闭了从Pinterest、Tinder和抖音到Medium、Spotify和PUBG的所有流行应用。</p><p id="d9bf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是一个奇怪的20分钟时间，导致苹果生态系统超过50万次崩溃，这是近年来最大的一次。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="2fe3" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">脸书的SDK是一个几乎每个应用程序中都有的关闭开关按钮</h1><p id="4d7b" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">脸书可能没有自己的移动操作系统，但它智能地安装在你手机上的几乎所有应用程序中。</p><p id="e37c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">具体来说，他们的开源SDK用于轻松集成登录和脸书按钮，分析丰富的指标，以及其他实用程序，如广告跟踪。</p><p id="f092" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这意味着，如果你的应用程序接受定位或蓝牙的许可，脸书的SDK可以访问这些数据。</p><p id="dbd5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">了解脸书的数据跟踪和隐私泄露的历史，他们的SDK不仅是一个间谍相机，而且也非常不可靠。实际上，脸书的SDK是一个远程按钮，可以在一秒钟内关闭应用程序。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="296a" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">iOS开发者能阻止这次崩溃吗？简而言之:没有</h1><p id="e43d" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">当我们看到人工智能和增强现实领域的进步时，看到最流行的应用程序崩溃感觉像回到石器时代。</p><p id="b85d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">人们很容易指责应用程序开发者，为什么不呢？他们的工作是确保边缘情况和错误得到适当处理。</p><p id="2745" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">虽然这种应用崩溃似乎可以通过强大的错误处理来防止，但脸书的iOS SDK却并非如此。</p><p id="ad04" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">导致应用程序崩溃的错误基本上是在脸书软件开发工具包的初始化代码中触发的，该代码在启动时运行，因为它链接在二进制文件中。</p><p id="9391" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">本质上，SDK代码对脸书服务器进行远程API调用，最终返回一个带有空值的<a class="ae kz" href="https://github.com/facebook/facebook-ios-sdk/pull/1439" rel="noopener ugc nofollow" target="_blank"> JSON响应，该响应没有被解析或处理，因此触发了一个<code class="fe nb nc nd ne b">fatalError</code>。</a></p><p id="a8bd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">应用程序开发人员可能甚至没有导入脸书SDK或调用它的一行代码，但仅仅通过将框架包含在捆绑包中，它就使应用程序崩溃了。</p><p id="a7e4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">没有开发者能够阻止这一点。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="f66e" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">外卖食品</h1><p id="5dff" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">脸书iOS SDK今年不止一次而是两次扰乱了流行的应用程序。这只会引发关于第三方SDK的依赖和可靠性的争论。</p><p id="2862" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">方便大于安全吗？目前，是前者导致了这样的失误。</p><p id="6dd0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果有任何收获的话，开发人员只会在他们的应用程序中使用第三方框架时更加意识到这一点，因为他们知道外部依赖带来的成本。</p><p id="b048" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">令人惊讶的是，整个脸书家族的应用程序都在使用最新的SDK版本，而崩溃是由旧的SDK引起的。这充分说明了这家硅谷科技巨头的责任感。也许他们不太热衷于提供向后兼容性。</p><p id="d008" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">看看苹果公司是否会提升其安全措施来防止此类中断，这将是一件有趣的事情。或许它会考虑在第三方应用程序中强制苹果登录，并慢慢放弃脸书登录。</p><p id="15d8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">已经卷入反垄断担忧的脸书除了遵守苹果设定的规范之外，将无能为力。</p></div></div>    
</body>
</html>