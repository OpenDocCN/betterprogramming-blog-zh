<html>
<head>
<title>The Importance and Benefits of Using Android App Bundles</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Android应用捆绑包的重要性和好处</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/android-app-bundles-f0ae021f0a5f?source=collection_archive---------3-----------------------#2020-05-24">https://betterprogramming.pub/android-app-bundles-f0ae021f0a5f?source=collection_archive---------3-----------------------#2020-05-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cbe5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">互联网并不是到处都是又快又便宜的——帮助你的用户下载你的应用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1de8db90a700e0a4d020592bf3bef0ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lMqlOeSGu5QaVmbNI4F3WA.png"/></div></div></figure><h1 id="eb33" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">什么是Android应用捆绑包？</h1><p id="9b9d" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">发布Android应用的传统方法是使用一个叫做Android包的文件。apk)。Android支持不同的屏幕密度、CPU架构和语言，这可以解释应用程序的APK大小的更大尺寸。由于互联网在许多国家都很昂贵，大小已经成为安装和保留的障碍。因此，Android应用捆绑包被引入来解决这些开销。Android应用捆绑包是Android的官方发布格式，提供了一种更有效的方式来构建和发布您的应用。它让我们能够更轻松地在更小的应用程序中提供出色的体验，提高安装成功率并减少卸载。很容易切换。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="f7c8" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">应用捆绑包的优势</h1><h2 id="5ad9" class="mu kv it bd kw mv mw dn la mx my dp le lv mz na lg lz nb nc li md nd ne lk nf bi translated">较小的应用程序</h2><p id="fffd" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">长期以来，应用程序大小一直是一个重要因素。无需编写额外的代码，也无需使用工具，应用捆绑包有助于减少应用的大小。许多流行的应用程序已经试用过，并且已经将它们的应用程序大小减少了1%到将近50%。在这里看看<a class="ae ng" href="https://developer.android.com/platform/technology/app-bundle" rel="noopener ugc nofollow" target="_blank">个应用的结果</a>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/483452609a379dcb857179f1ebfb5b47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VZ-NbEZSwSHcJ8ylQeibNw.png"/></div></div><p class="ni nj gj gh gi nk nl bd b be z dk translated">列表来自<a class="ae ng" href="https://developer.android.com/platform/technology/app-bundle" rel="noopener ugc nofollow" target="_blank">https://developer . Android . com/platform/technology/app-bundle</a></p></figure><p id="456a" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">到本文结束时，你会详细了解这一点。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="3313" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">动态交付</h1><p id="f14e" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">当Google play收到应用捆绑包时，它有一个新的交付APK的流程——动态交付。这意味着它会根据用户规格和使用情况来分发应用程序。简单地说，这就像给用户提供他们需要的东西，而不是提供一大堆东西。例如，假设您的应用程序支持多种屏幕密度和CPU架构，它将根据用户的系统规格，为用户提供特定的语言、适当的图像密度和适当的ABI资源，而不是向所有用户提供一切。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="647c" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">动态功能模块</h1><p id="a19f" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">这是一个很棒的功能。顾名思义，动态功能模块允许应用程序按需下载代码。让我们举一个应用程序的例子，它有两个功能，如视频流和聊天。但是如果用户对视频流不感兴趣，那么我们可以把它作为一个单独的模块，并在它的Gradle文件中提及，因为它是一个动态功能模块。因此，在生成动态分割APK时，Google Play将为动态模块创建一个单独的分割APK文件，并仅在需要时交付，而不是针对所有用户。</p><p id="129f" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">这些就是应用捆绑包的好处。现在，我们该怎么对付他们？</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="ebdd" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">我们如何生成应用捆绑包？</h1><p id="087e" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">生成应用捆绑包的过程类似于生成APK的过程。在Build菜单下的studio顶部栏中，我们通常生成一个调试或签名的APK，我们也可以选择生成一个包。当我们尝试生成一个签名的APK作为第一个选项时，studio建议我们使用一个捆绑包，并指出其优点:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/8d86806a0364d3c7ba1acd298993162d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nu_1RiGTwGIb61i3MWxbw.png"/></div></div></figure><p id="03a0" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">一旦这个过程完成，你会发现一个扩展名为<code class="fe ns nt nu nv b">.aab</code> <strong class="lo iu"> </strong>的文件，而不是我们需要上传到<code class="fe ns nt nu nv b">Play</code>控制台的<code class="fe ns nt nu nv b">.apk</code>。为了获得更多好处，我们需要将生成APK的控制权交给Play console，以便它为用户生成优化的应用程序。所以，别忘了报名参加Google Play的app signing。</p><p id="9bba" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">运行Lollipop和更高版本的设备可以从dynamic deliver中获得最优化的apk。然而，旧设备从Goole Play生成的应用程序捆绑包中获得多风格的APK。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="a831" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">动态交付是如何工作的？</h1><p id="8e6d" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">对于那些使用APK格式发布的人来说，Google Play采用APK文件，在优化方面不做任何事情，直接分发给用户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/25c8b8f1bd6833d3ab4a973146dca06b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cxNWlRe3bEdL7ctLPhq_mQ.png"/></div></div></figure><p id="5a8b" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">在应用捆绑包的情况下，Google Play根据各个方面将捆绑包分成许多较小的APK，称为分割APK。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/50668b4b50a0876d2b5cb4c2b8586dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*90W_BZN9AA_wdfSjJhe-MQ.png"/></div></div></figure><p id="a071" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">应用程序中经常被下载的部分被打包在一个名为<em class="ny"> Base APK </em>的分割APK中，由共享代码组成。使用应用程序捆绑包时，Play会自动为资源、资产和本地库制作拆分APK。这些特定于资源的APK被称为<em class="ny">配置</em> APK。</p><p id="3ca1" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">如果我们看一个简单的例子，我们可以更好地理解Google Play如何根据不同的系统和地区为不同的用户提供不同的APK。</p><p id="021d" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">考虑一个具有以下特征的用户:一个像素2XL的手机，英语，密度对应于xxxhdpi，以及一个arm64处理器。使用动态交付，如果该用户安装了应用程序，则动态交付将找到该用户需要的拆分APK，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/f5d8ffe0b6062a6d82d3476a8969c956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M4gpm6Ky9QQIWSOLWiGfBQ.png"/></div></div></figure><p id="c750" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">这就是动态交付如何基于用户规范帮助交付优化的apk。动态交付和应用捆绑包的引入有助于我们为更小的应用提供服务。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="e272" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">参考</h1><ul class=""><li id="e154" class="oa ob it lo b lp lq ls lt lv oc lz od md oe mh of og oh oi bi translated"><a class="ae ng" href="https://www.youtube.com/watch?time_continue=1306&amp;v=bViNOUeFuiQ&amp;feature=emb_logo" rel="noopener ugc nofollow" target="_blank">构建新的模块化Android应用捆绑包(Google I/O’18)</a></li><li id="23c8" class="oa ob it lo b lp oj ls ok lv ol lz om md on mh of og oh oi bi translated"><a class="ae ng" href="https://developer.android.com/platform/technology/app-bundle" rel="noopener ugc nofollow" target="_blank">安卓应用捆绑</a></li></ul></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="f408" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">目前就这些。我希望你喜欢阅读这篇文章。请让我知道任何建议和意见。</p><p id="0489" class="pw-post-body-paragraph lm ln it lo b lp nm ju lr ls nn jx lu lv no lx ly lz np mb mc md nq mf mg mh im bi translated">感谢阅读。</p></div></div>    
</body>
</html>