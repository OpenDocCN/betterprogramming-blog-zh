<html>
<head>
<title>Getting Started With NestJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NestJS入门</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/getting-started-with-nestjs-a4e8b0b09db4?source=collection_archive---------4-----------------------#2020-01-02">https://betterprogramming.pub/getting-started-with-nestjs-a4e8b0b09db4?source=collection_archive---------4-----------------------#2020-01-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1964" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为什么您应该在下一个项目中考虑NestJS</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7cf9e0edba27d336d9bcbce2e39b71bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oTbTuBA4_RtKoXCsZ-ybKQ.png"/></div></div></figure><p id="d789" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是Node.js框架系列的第一部分，称为<a class="ae ln" href="https://nestjs.com/" rel="noopener ugc nofollow" target="_blank"> NestJS </a>。在本文中，我们将了解为什么以及如何使用NestJS。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="124a" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">我的Node.js故事</h1><p id="16b1" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">我从2017年开始使用Express.js，我爱express . js——它设计得很好，我们可以插入任何JavaScript库并使用它。</p><p id="b85b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我曾经是一名. Net开发人员，现在在Angular工作。在使用ExpressJS时，我确实错过了一些事情。</p><h2 id="936e" class="ms lw iq bd lx mt mu dn mb mv mw dp mf la mx my mh le mz na mj li nb nc ml nd bi translated">角生态系统对Node.js/Express.js生态系统</h2><ul class=""><li id="109c" class="ne nf iq kt b ku mn kx mo la ng le nh li ni lm nj nk nl nm bi translated"><strong class="kt ir"> CLI: </strong> Angular为我们提供了一个轻松启动新项目的CLI。即使在。我可以使用命令行界面创建一个应用程序。虽然有许多生成器可用，但使用带有ExpressJS的CLI将是一个很好的补充。</li><li id="ca18" class="ne nf iq kt b ku nn kx no la np le nq li nr lm nj nk nl nm bi translated"><strong class="kt ir">干净的架构:</strong> ExpressJS没有定义任何干净的架构，当然，这也不是ExpressJS的目的——因为你可以自由定义自己的架构。但是对于一个企业应用程序，我更喜欢有一个干净的和定义良好的架构。</li><li id="9c0e" class="ne nf iq kt b ku nn kx no la np le nq li nr lm nj nk nl nm bi translated"><strong class="kt ir">代码共享:</strong>对于一个大型企业应用程序，我们可能需要在多个应用程序甚至API之间共享代码。在其他编程语言中，这可以通过使用库来实现。在ExpressJS中，我们可以创建一个npm模块，并通过Artifactory使其可用。</li></ul></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="c2ea" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">内斯特来救援了</h1><p id="7ed1" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">NestJS 是一个基于ExpressJS编写的框架，它是用TypeScript编写的。让我们来看一些优点:</p><ul class=""><li id="8c19" class="ne nf iq kt b ku kv kx ky la ns le nt li nu lm nj nk nl nm bi translated"><strong class="kt ir"> TypeScript支持:</strong> NestJS支持TypeScript，这让我很舒服，因为我在使用Angular时已经使用TypeScript很长时间了。您也可以选择JavaScript。</li><li id="acfd" class="ne nf iq kt b ku nn kx no la np le nq li nr lm nj nk nl nm bi translated">代码共享: NestJS支持使用CLI创建库和应用程序。共享代码变得非常容易，成为企业应用程序的绝佳选择。</li><li id="a964" class="ne nf iq kt b ku nn kx no la np le nq li nr lm nj nk nl nm bi translated"><strong class="kt ir"> monorepo支持:</strong> Angular支持monorepo，从版本6开始，NestJS附带了<a class="ae ln" href="https://trilon.io/blog/announcing-nestjs-monorepos-and-new-commands" rel="noopener ugc nofollow" target="_blank"> monorepo </a>支持。</li><li id="29b1" class="ne nf iq kt b ku nn kx no la np le nq li nr lm nj nk nl nm bi translated"><strong class="kt ir">学习途径:</strong>我喜欢NestJS的另一点是，如果你来自. Net或Java背景，并且有创建API的想法，NestJS很容易学习。此外，如果你是一个Angular开发人员，你会感觉很自在，因为它遵循相同的模块化模式。</li><li id="01e6" class="ne nf iq kt b ku nn kx no la np le nq li nr lm nj nk nl nm bi translated"><strong class="kt ir"> Fastify支持:</strong> NestJS使用ExpressJS作为默认框架，但它也支持Fastify，可以很容易地配置。</li></ul></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="0762" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">体系结构</h1><p id="be82" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">如果我必须定义使用NestJS创建的API的架构，它看起来是这样的:我们有一个可用的根模块，它将用于配置数据库提供者，定义控制器，添加中间件，添加管道和防护，以及提供服务。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/8b681b13cdb1031c708f0cae0ff9f5e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*a3Tny9DwSI90zsfQtBgJDQ.jpeg"/></div></figure><p id="0495" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还可以为每个控制器配备一个模块。我们将在接下来的文章中看到如何实现这一点。一旦我们的模块收到请求，它将被重定向到相应的控制器(它将处理请求)。服务是可选的，但是我们应该尝试使用服务来遵循单一责任原则(SRP)。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="356e" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">装置</h1><p id="4a04" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">现在，我们有了为什么要使用NestJS的想法。让我们看看如何使用它。</p><ul class=""><li id="1679" class="ne nf iq kt b ku kv kx ky la ns le nt li nu lm nj nk nl nm bi translated">在开始使用NestJS之前，我们需要安装NestJS CLI。运行以下命令以全局安装CLI:</li></ul><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="542f" class="ms lw iq nx b gy ob oc l od oe">npm install -g @nestjs/cli</span></pre><ul class=""><li id="ca17" class="ne nf iq kt b ku kv kx ky la ns le nt li nu lm nj nk nl nm bi translated">你也可以从GitHub下载<a class="ae ln" href="https://github.com/nestjs/typescript-starter" rel="noopener ugc nofollow" target="_blank">启动项目</a>并使用。</li></ul></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="aedf" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">创建我们的第一个API</h1><ul class=""><li id="dee8" class="ne nf iq kt b ku mn kx mo la ng le nh li ni lm nj nk nl nm bi translated">安装完CLI后，运行以下命令创建一个名为<code class="fe of og oh nx b">shoppingAPI</code>的新应用程序。我们将在接下来的作品中使用相同的API。</li></ul><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="117e" class="ms lw iq nx b gy ob oc l od oe">nest new shoppingAPI</span></pre><ul class=""><li id="4e1f" class="ne nf iq kt b ku kv kx ky la ns le nt li nu lm nj nk nl nm bi translated">CLI使用Typescript作为默认语言创建应用程序。如果您喜欢JavaScript作为语言，您可以运行以下命令:</li></ul><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="8b70" class="ms lw iq nx b gy ob oc l od oe">nest new shoppingAPI -l JS</span></pre></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="6374" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">运行和测试API</h1><p id="dec9" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">一旦创建了一个新项目，我们可以使用下面的命令来运行应用程序。</p><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="8e3d" class="ms lw iq nx b gy ob oc l od oe">cd shopping-API<br/>npm start</span></pre><p id="093f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">默认情况下，该应用程序配置为在端口3000上运行。一旦已经定义了一个控制器，访问<a class="ae ln" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/，</a>，您将得到<code class="fe of og oh nx b">Hello World!</code>作为响应。</p><p id="4388" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们已经用NestJS创建了第一个应用程序，只需要很少的配置。在下一篇文章中，我们将浏览应用程序结构，并将配置我们自己的控制器来处理HTTP请求。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="e44e" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">结论</h1><p id="90af" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated"><a class="ae ln" href="https://nestjs.com" rel="noopener ugc nofollow" target="_blank"> NestJS </a>真的很好上手，而且如果你已经用过。Net，Java，甚至ExpressJS，大部分概念都差不多。</p><p id="ba4a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它提供了一个CLI，通过使用它，我们可以轻松地搭建我们的应用程序，并更多地关注我们的代码。对于企业应用程序，使用NestJS模块将代码分割到多个模块变得非常容易。</p><p id="026e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">特别感谢<a class="ae ln" href="https://medium.com/@MarkPieszak" rel="noopener"> @MarkPieszak </a>的点评。</p></div></div>    
</body>
</html>