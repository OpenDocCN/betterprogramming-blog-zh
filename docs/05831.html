<html>
<head>
<title>Quickly Create a Full-Stack Web App in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在TypeScript中快速创建全栈Web应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/quickly-create-a-full-stack-web-app-in-typescript-9188f011748b?source=collection_archive---------9-----------------------#2020-08-10">https://betterprogramming.pub/quickly-create-a-full-stack-web-app-in-typescript-9188f011748b?source=collection_archive---------9-----------------------#2020-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d7db" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Vue.js 3、Node.js和PostgreSQL</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/64a81504dbdcc748bc2f23bf5529e194.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ciyc6mRB23wMPo91e6iEnA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="e26c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将使用Vue.js 3、Node.js和PostgreSQL使用Kretes在TypeScript中构建一个简单的任务管理应用程序。这是最终的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lu"><img src="../Images/bb9bc7bc33e6720bbf5187257e9313d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R5QOtHcWJvfSd6u53ZD7qA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用Kretes编写的一个简单的任务管理应用程序。</p></figure><p id="9d47" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lv" href="https://kretes.dev/" rel="noopener ugc nofollow" target="_blank"> Kretes </a>是一个内置电池的编程环境，用于使用TypeScript构建现代化的全功能web应用程序。它将框架(类似于Rails或Laravel)与基于Visual Studio代码的集成编辑器相结合。</p><p id="3709" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kretes对整个应用程序只使用一种编程语言(TypeScript)。换句话说，你在前端和后端写打字稿。通过全面使用TypeScript，只需要管理一个生态系统和一个工具，并且需要学习的概念更少。这样，一切都更简单，也更统一。</p><p id="638d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kretes背后最重要的思想是，您不需要担心依赖性或配置。大部分工作都已完成，因此您可以专注于解决应用程序的实际需求。</p><p id="6ec3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与其给你一个定义，不如让我向你展示如何用TypeScript构建一个具有前端、后端和数据库集成的web应用程序——全部只需10分钟。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="c6e5" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">先决条件</h1><p id="cf3a" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">按照<a class="ae lv" href="https://kretes.dev/docs/quick-start/installing/" rel="noopener ugc nofollow" target="_blank">官方文档</a>在你的机器上安装Kretes。您需要三个元素:<a class="ae lv" href="https://nixos.org" rel="noopener ugc nofollow" target="_blank"> Nix包管理器</a>、VS代码的<a class="ae lv" href="https://marketplace.visualstudio.com/items?itemName=kretes.kretes" rel="noopener ugc nofollow" target="_blank"> Kretes扩展</a>和<a class="ae lv" href="https://www.pgcli.com" rel="noopener ugc nofollow" target="_blank"> pgcli </a>(一个PostgreSQL命令行实用程序)。</p><p id="d3d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者，如果您想通过命令行或其他编辑器来使用NPM，您可以使用它来安装Kretes。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="14e5" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">初始化应用程序</h1><p id="447c" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">Kretes中几乎所有的事情都是直接在VS代码中完成的。一旦安装了Kretes扩展，您就可以通过使用命令面板中的<code class="fe na nb nc nd b">Kretes: New Project</code>来初始化一个新项目。为您的应用程序选择一个名称(如<code class="fe na nb nc nd b">kretes123</code>)以及放置它的文件夹:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/88412b606b172e768ef5734e04dcfcf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CpXrIfeRwfnx8DkuPlz4rQ.gif"/></div></div></figure><p id="7144" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将创建您的应用程序以及组成初始结构的几个目录和文件。四处看看！<code class="fe na nb nc nd b">features/</code>和<code class="fe na nb nc nd b">config/</code>是目前最重要的目录。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="9dd9" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">安装依赖项</h1><p id="b022" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">要为您的应用程序安装依赖项，请使用<code class="fe na nb nc nd b">Kretes: Install</code>任务。默认情况下，Kretes使用<a class="ae lv" href="http://Fast, disk space efficient package manager" rel="noopener ugc nofollow" target="_blank"> pnpm </a>包管理器，因为它比<code class="fe na nb nc nd b">npm</code>快得多，而且节省磁盘空间。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/67d94efc79e25b7648dede2ac1772e78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yNWFYvB1rRSqRAI1le77Pw.gif"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="b60c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">启动您的应用程序</h1><p id="ebe8" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">要启动您的应用程序，使用<code class="fe na nb nc nd b">Kretes: Start</code>任务。您可以在VS代码中使用<a class="ae lv" href="https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette" rel="noopener ugc nofollow" target="_blank">命令面板</a>中的<code class="fe na nb nc nd b">Tasks: Run Task</code>命令来触发它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/83c07288311b0bd16483a3f912d75870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rdBEgk0RzSpvAXIWylX1lg.gif"/></div></div></figure><p id="0991" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们导航到<code class="fe na nb nc nd b">localhost:5544</code>，在那里我们的应用程序用<code class="fe na nb nc nd b">Hello, Kretes</code>消息欢迎我们:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/9c3c304af91ac425b2e4e646da2677f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OGqyDfXSsAzjXV0-Z1z2NQ.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="5140" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">构建全栈单页面应用程序(SPA)</h1><p id="c245" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">好的，但这只是一个简单的HTML页面。让我们做点更新奇的事情。我们将构建一个具有前端、后端和数据库集成的任务管理应用程序——全部在大约10分钟左右完成。你认为这可能吗？</p><p id="ddef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了前端简单起见，我们将使用Vue.js版本3及其组合API和Tailwind CSS。打开VS Code的终端，使用<a class="ae lv" href="https://pnpm.js.org/" rel="noopener ugc nofollow" target="_blank"> pnpm </a>安装Vue.js 3:</p><pre class="kj kk kl km gt nh nd ni nj aw nk bi"><span id="fdb8" class="nl me it nd b gy nm nn l no np">pnpm add vue@3.0.0-beta.22</span></pre><p id="c084" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意:你需要明确指定Vue.js的版本，因为它目前仍处于测试阶段。</p><p id="8535" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe na nb nc nd b">config/client/index.html</code>中，我们需要使用<code class="fe na nb nc nd b">createApp</code>函数创建一个Vue.js实例，然后用<code class="fe na nb nc nd b">app</code>标识符将其附加(或挂载)到<code class="fe na nb nc nd b">div</code>元素:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="cd41" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">组件<code class="fe na nb nc nd b">App</code>还不存在。让我们继续在<code class="fe na nb nc nd b">features/Base/View</code>中将它创建为<code class="fe na nb nc nd b">App.vue</code>。我们需要<code class="fe na nb nc nd b">&lt;template&gt;</code>部分和<code class="fe na nb nc nd b">&lt;script&gt;</code>部分:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="6d88" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于这是一个全栈app，所以前端和后端之间需要异步通信。在模板部分，我们将使用<code class="fe na nb nc nd b">suspense</code>功能。将有两种情况:</p><ol class=""><li id="693b" class="nt nu it la b lb lc le lf lh nv ll nw lp nx lt ny nz oa ob bi translated">默认显示任务列表。</li><li id="aa20" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated">显示加载消息的回退。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="e556" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的脚本部分很简单。我们只引用另一个组件来保持职责的良好分离。任务是我们应用程序的一个特性，所以让我们在<code class="fe na nb nc nd b">features/Task/View</code>目录中创建<code class="fe na nb nc nd b">Task.vue</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="38e5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将有一个用于输入新任务的文本字段和一个容器中的任务列表，所以它放置得很好。让我们添加输入文本字段和按钮:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="8cb0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，让我们来处理任务列表。我们将有一个带有一个<code class="fe na nb nc nd b">label</code>的<code class="fe na nb nc nd b">task-item</code>和一个定制的复选框以及一个特定任务的名称:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="6f0d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还是省吧。变化马上就体现出来了！很酷，是吧？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lu"><img src="../Images/fee0563f390188afb344c1c1b356af49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WFJAGBEO_cOzYy7hUjSTFA.png"/></div></div></figure><p id="4cef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你有没有注意到我们<em class="nq">没有</em>安装任何类似Webpack或rollup的捆绑软件？它开箱即用，无需任何配置。您不再需要浪费无数的时间来找出配置不工作的原因。克雷斯会支持你的！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="98e9" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">RESTful API</h1><p id="2c42" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">这还只是前端部分。让我们将任务保存在数据库中，并使用RESTful API通过网络获取它。这样，我们将看到如何将前端连接到后端，以及如何与这个数据库进行交互。</p><p id="8ea6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们需要一个REST API，它有一个返回任务集合的端点。幸运的是，只要遵循一个简单的约定，RESTful端点就会在Kretes中自动创建:<em class="nq"> </em>您需要在给定特性的<code class="fe na nb nc nd b">Controller</code>中放置一个特定的处理函数。</p><p id="e4e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就这么办吧。我们的特性是<code class="fe na nb nc nd b">Task</code>，我们在<code class="fe na nb nc nd b">features/Task/</code>和一个名为<code class="fe na nb nc nd b">browse.ts</code>的文件中创建了<code class="fe na nb nc nd b">Controller</code>目录，该文件将保存一个使用<code class="fe na nb nc nd b">GET</code> HTTP方法触发的处理程序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="ac4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们将任务集合作为一个变量放在内存中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="2009" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为这是<code class="fe na nb nc nd b">Task</code>特性，所以它被转换为<code class="fe na nb nc nd b">/task</code>路径。让我们用一个HTTP <code class="fe na nb nc nd b">GET</code>请求来触发这个端点。我们将使用<a class="ae lv" href="https://httpie.org" rel="noopener ugc nofollow" target="_blank">HTTP pie</a>，这是一个命令行HTTP实用程序:</p><pre class="kj kk kl km gt nh nd ni nj aw nk bi"><span id="6be3" class="nl me it nd b gy nm nn l no np">http :5544/task</span></pre><p id="282b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="nq">注:您也可以在浏览器中打开</em> <code class="fe na nb nc nd b"><em class="nq">localhost:5544/task</em></code> <em class="nq">来查看结果。</em></p><p id="a595" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它工作了。你有没有注意到我们没有重启我们的应用？我们可以只关注应用程序的业务逻辑。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="343b" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">数据库集成</h1><p id="a2fe" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">让我们将这些任务从内存转移到数据库中。我们还没有真正谈到数据库，但这不是问题。在<code class="fe na nb nc nd b">config/default.yml</code>中，你会看到Kretes期望一个以项目命名的数据库。在我们的例子中，数据库被命名为<code class="fe na nb nc nd b">kretes123</code>。</p><p id="8d78" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还没有创建这个数据库。我们还没有安装任何数据库引擎，比如PostgreSQL或MySQL。但是不管怎样，让我们继续连接到这个数据库。我们将使用<a class="ae lv" href="https://www.pgcli.com/" rel="noopener ugc nofollow" target="_blank"> pgcli </a>，这是一个命令行PostgreSQL实用程序。在VS代码中打开终端，并键入以下命令:</p><pre class="kj kk kl km gt nh nd ni nj aw nk bi"><span id="07e6" class="nl me it nd b gy nm nn l no np">pgcli kretes123</span></pre><p id="139c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">成功了——我们连接了一个数据库。在幕后，Kretes安装了PostgreSQL，启动了数据库引擎，并为您创建了一个具有正确名称和权限的数据库。这样，您就可以专注于创建应用程序，而不是在配置上浪费时间。那很酷，不是吗？</p><p id="9c6e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们快速创建一个表并插入数据。仍然在终端中，在pgcli连接内，键入以下SQL语句:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="07da" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">完成后，您可以使用<code class="fe na nb nc nd b">\q</code>退出pgcli并关闭终端窗口。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/80f5199f27e831f91b0a1f900e4464b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-_dH3MPoIyyCEWlnBuDLyg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用pgcli在数据库中创建一个表，并插入一些数据。</p></figure><p id="9a56" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，让我们查询数据库，并通过我们之前创建的RESTful端点直接从我们的存储解决方案返回任务集合。我们需要导入<code class="fe na nb nc nd b">database</code>名称空间。为了方便起见，我们将其别名为<code class="fe na nb nc nd b">db</code>。然后，在我们的处理函数中，我们请求一分钟前刚刚创建的<code class="fe na nb nc nd b">task</code>表中的所有行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="aefe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们在命令行上测试它，再次使用<a class="ae lv" href="https://httpie.org/" rel="noopener ugc nofollow" target="_blank"> httpie </a>(或者您可以在浏览器中打开<code class="fe na nb nc nd b">localhost:5544/task</code>):</p><pre class="kj kk kl km gt nh nd ni nj aw nk bi"><span id="341f" class="nl me it nd b gy nm nn l no np">http :5544/task</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/87ba7ce4f2aa7f5a449f7751a080979e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vHbe9i7QVoK1yRBYep3Zhg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用<code class="fe na nb nc nd b">/task</code>上的httpie来测试从数据库中获取数据。</p></figure><p id="d7ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它工作了。同样，我们没有重启应用程序，更改会立即反映出来。这是一个很好的编程流程，不是吗？</p><p id="1b4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们现在可以将这个RESTful端点连接到我们的Vue.js组件。因为我们到处都在使用TypeScript，所以我们可以使用TypeScript的接口来定义数据的形状和应用程序状态:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="6d6d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要初始化组件状态:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="5b2f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们可以像在命令行上一样，直接从Vue.js组件获取任务集合。为此，我将使用ky库。让我们先用<code class="fe na nb nc nd b">pnpm</code>安装它:</p><pre class="kj kk kl km gt nh nd ni nj aw nk bi"><span id="d2b4" class="nl me it nd b gy nm nn l no np">pnpm add ky</span></pre><p id="fb3a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们直接从Vue.js组件触发对<code class="fe na nb nc nd b">/task</code>路径的<code class="fe na nb nc nd b">GET</code>请求:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="befd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，让我们迭代Vue.js组件中的任务集合:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="efd7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">保存后，应该可以立即在浏览器中看到。尝试将任务添加到列表中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/78b63748dd7c68027364b32f38731294.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t57ptqEkAEgzW2IrWlKlFg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最终申请。</p></figure><p id="f462" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">仅此而已。更少的重新启动和所有的依赖关系都为您管理。你可以专注于编程的乐趣。</p><p id="d486" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我希望你觉得Kretes有用。</p><p id="2c99" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">欢迎在下面的评论区提出任何问题。</p><p id="5e2d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你是一个视觉学习者，看看下面的视频，一步一步的教程:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如何使用Kretes和Vue.js、Node.js、PostgreSQL构建全栈TypeScript应用的分步教程。</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="bd2f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">额外收获:连接添加按钮</h1><p id="4e3a" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">您是否想了解如何在我们的任务管理应用程序中连接<code class="fe na nb nc nd b">Add</code>按钮，以便每个新任务也保存在数据库中？请在评论区告诉我，我会写这篇文章的后续文章。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="44f6" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">资源</h1><ul class=""><li id="ac73" class="nt nu it la b lb mv le mw lh ok ll ol lp om lt on nz oa ob bi translated"><a class="ae lv" href="https://httpie.org/" rel="noopener ugc nofollow" target="_blank">HTTP ie</a>—API时代的用户友好的命令行HTTP客户端。</li><li id="b3e4" class="nt nu it la b lb oc le od lh oe ll of lp og lt on nz oa ob bi translated"><a class="ae lv" href="https://github.com/sindresorhus/ky" rel="noopener ugc nofollow" target="_blank"> ky </a> —基于window.fetch的小巧优雅的HTTP客户端</li><li id="a187" class="nt nu it la b lb oc le od lh oe ll of lp og lt on nz oa ob bi translated"><a class="ae lv" href="https://kretes.dev/" rel="noopener ugc nofollow" target="_blank">Kretes</a>—TypeScript&amp;node . js的编程环境</li><li id="9523" class="nt nu it la b lb oc le od lh oe ll of lp og lt on nz oa ob bi translated"><a class="ae lv" href="https://pnpm.js.org/" rel="noopener ugc nofollow" target="_blank"> pnpm </a> —快速、节省磁盘空间的软件包管理器</li><li id="64be" class="nt nu it la b lb oc le od lh oe ll of lp og lt on nz oa ob bi translated">PGC Li—PostgreSQL的命令行实用程序</li></ul></div></div>    
</body>
</html>