<html>
<head>
<title>How to Use Chaining in JavaScript Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何像专业人士一样使用JavaScript中的链接</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-chaining-in-javascript-like-a-pro-ff9c1b89d9a9?source=collection_archive---------5-----------------------#2021-08-30">https://betterprogramming.pub/how-to-use-chaining-in-javascript-like-a-pro-ff9c1b89d9a9?source=collection_archive---------5-----------------------#2021-08-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="55c8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何利用JavaScript最常见的设计模式之一</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/954f30b6e12933fd34dfa74142293ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4Yl61d_9pqqae0gu"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">NOAA 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="870f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我告诉你有一种更简单、更干净的方式来写这样的东西，会怎么样呢？</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="4be3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确实有，它使用了强大的JavaScript设计模式，叫做方法链接。</p><h1 id="cd9d" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">什么是方法链？</h1><p id="b225" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">JavaScript中的方法链接，或简称为链接，可以定义为在不引入不必要变量的情况下从一个对象调用一个或多个顺序方法。链接的唯一目的是使我们的代码可读性更好，并减少代码中的冗余。</p><p id="0898" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您熟悉JavaScript promises中的<code class="fe mu mv mw mx b">then()</code>和<code class="fe mu mv mw mx b">catch()</code>方法，那么您已经对链接的工作原理有了一些基本的了解。</p><p id="7246" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看下面的例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="e280" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意<code class="fe mu mv mw mx b">then()</code>和<code class="fe mu mv mw mx b">catch()</code>是如何使用<code class="fe mu mv mw mx b">.</code>(点)语法一个接一个地被调用的。这就是我们所说的连锁。如您所见，我们的方法<code class="fe mu mv mw mx b">my_promise()</code>是链接发生的对象。我们可以看到，对于一个承诺，在我们的承诺被解析后，第一个方法被直接调用。如果我们的承诺被拒绝，那么它跳过<code class="fe mu mv mw mx b">then()</code>方法，用<code class="fe mu mv mw mx b">catch()</code>处理我们的错误。</p><p id="ba47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">理解用promises链接是如何工作的非常简单明了，但是在JavaScript中我们还能在哪里使用链接呢？</p><h1 id="8998" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">链接用在哪里？</h1><p id="b45c" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">在JavaScript中，我们有很多方法可以利用这种设计模式。其中一些比另一些简单得多。让我向您展示JavaScript中使用链接的一些最常见的地方。</p><h2 id="898d" class="my ly it bd lz mz na dn md nb nc dp mh li nd ne mj lm nf ng ml lq nh ni mn nj bi translated"><strong class="ak"> 1。字符串</strong></h2><p id="97e3" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">您可能会看到使用链接的一个常见地方是字符串。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="14db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看上面的例子，我们可以看到我们试图从一个日期对象中获取时区偏移量。看看我们在这里声明了多少变量来返回这样一个简单的字符串。准确的说有8个。对于这样简单的事情来说，这似乎是非常多余的。</p><p id="4250" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么我们怎样才能做得更好呢？</p><p id="de69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然是在链接的帮助下！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="3b69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们采用了以前使用过的所有相同的方法，但是我们将它们链接在一起以返回相同的输出。请注意，与我们之前的实现相比，这是多么的清晰和易读。除了增加可读性，我们现在有一个声明的变量，而不是8个！见鬼，如果我们愿意，我们甚至可以把所有这些都放在一行中。</p><p id="aab1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是为什么方法链在现代实践中如此有用。</p><h2 id="d073" class="my ly it bd lz mz na dn md nb nc dp mh li nd ne mj lm nf ng ml lq nh ni mn nj bi translated">2.<strong class="ak">数组</strong> <strong class="ak">和对象</strong></h2><p id="bf67" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">我们看到链接发生的最常见的地方是在数组或对象中。举例来说，假设我们想知道在学期结束时获得80分或更高分数的学生的平均成绩是多少。我们可以简单地写成这样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="35b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，我们应该能够分析这个例子，并识别出我们对初始数组数据进行了几次操作，以获得我们想要的结果。如果我们看到类似线条<code class="fe mu mv mw mx b">11 &amp; 12</code>的模式，这应该是一个即时的指示器，让我们知道如何利用链接。</p><blockquote class="nk nl nm"><p id="dccf" class="kz la nn lb b lc ld ju le lf lg jx lh no lj lk ll np ln lo lp nq lr ls lt lu im bi translated">注意:链接只作用于相同的数据数组，所以要确保你的方法是从相同的数据集中调用的，而不是从不同的数据集中调用的。</p></blockquote><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="3fbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分析上面的例子，你可以看到我们可以将<code class="fe mu mv mw mx b">filter</code>和<code class="fe mu mv mw mx b">reduce</code>方法链接在一起，因为它们作用于同一个数组，所以我们可以得到与之前相同的输出。这里使用链接的例子实际上比我们之前的实现要长，但是我们只声明了一个变量而不是3个。</p><p id="508d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在您已经知道了JavaScript中链接工作的基本概念，让我们看看如何在应用程序中有效地使用它。</p><h1 id="04a5" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">有效链接</h1><p id="6ea3" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">现在，我们可以在任何东西上使用链接，但是有些情况下使用链接是没有意义的，并且实际上会增加你的代码。让我告诉你我到底是什么意思。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="4d1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们研究上面的代码，我们可以看到我们试图在我们的<code class="fe mu mv mw mx b">universe</code>数组中找到一个人，他的名字包含字符串<code class="fe mu mv mw mx b">rick</code>，并且奖金高于500英镑。现在这看起来像是我们可以有效地使用链接的情况，但是实际上链接两个<code class="fe mu mv mw mx b">filter</code>方法增加了代码的冗余，我们应该将其减少到一个。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="a542" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意我们是如何消除第二个<code class="fe mu mv mw mx b">filter</code>方法并在初始过滤器中添加第二个检查的。我们仍然得到相同的输出，并且从上面的实现中删除了不必要的过滤器。在这个例子中，不需要使用链接。</p><p id="2832" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还记得我在本文开头讲的例子吗？现在我们对JavaScript中的链接有了更多的了解，让我们看看如何替换冗余并使其更简洁。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="32b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在前面的例子中，我们声明了四个变量，现在我们只声明一个变量就返回相同的结果。另外，请注意我们是如何将方法<code class="fe mu mv mw mx b">Object.entries()</code>包装在方法<code class="fe mu mv mw mx b">reduce()</code>周围的。这是因为我们需要引用reduced对象的输出，而当我们将所有这些方法链接在一起时，我们将无法做到这一点。</p><p id="a597" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们的代码看起来比以前更加结构化，更加整洁，可读性更好。理解在我们的代码中使用链接的有用性和有效性并不需要很长时间。</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h1 id="c01b" class="lx ly it bd lz ma ny mc md me nz mg mh jz oa ka mj kc ob kd ml kf oc kg mn mo bi translated">结论</h1><p id="6867" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">正确使用的话，链接会非常有用和有效。确保只在必要的时候使用它，否则你只会增加更多的冗余代码。当我第一次开始用JavaScript写作时，这是一个很难理解的概念，但是你越了解它是如何工作的，你就会越明白它为什么如此有益。</p><p id="0fda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读，下一期再见。</p></div></div>    
</body>
</html>