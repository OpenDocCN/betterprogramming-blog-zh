<html>
<head>
<title>Customizing Buttons in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中自定义按钮</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/customizing-buttons-in-swiftui-5fc2916d17a5?source=collection_archive---------5-----------------------#2022-01-07">https://betterprogramming.pub/customizing-buttons-in-swiftui-5fc2916d17a5?source=collection_archive---------5-----------------------#2022-01-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8b8b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为你的应用程序制作漂亮的界面</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e37da7cbd7338c97bf539766e15b2d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RvFncCEaG_zo6hwvnYDyQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">詹姆斯·萨顿在<a class="ae ky" href="https://unsplash.com/s/photos/button-icons?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="87d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">去年这个时候，我写了一篇关于使用Swift风格定制交换机的文章。我打算试着也涵盖一些其他的UI元素，但是不知何故从来没有时间这样做——我想在这篇文章中试着补上一点。</p><p id="eee5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编程中最大的挑战之一是管理复杂性和组织，以及开发结构化编程的存在理由。当前对此的思考背后的支柱之一是更高层次的抽象概念。万维网的开发者们认为，与当时的技术相比，级联样式表(CSS)可以更好地解决这个抽象问题。这是一个被开发人员热情采纳并被其他编程语言复制的提议，Swift也不例外。</p><p id="3938" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">整个概念是，使用样式协议可以显著减少需要编写和维护的代码量。本质上链接到不同UI元素的样式修饰符。</p><p id="b145" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想在这篇文章中谈谈按钮，你有什么选择来定制它们，包括一些技巧和窍门。</p><h1 id="468f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">序文</h1><p id="bbac" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">SwiftUI中button的基本语法如下所示—</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="fa8b" class="mx lw it mt b gy my mz l na nb">Button {<br/>  print("Launching!")<br/>} label: {<br/>  Text("Launch")<br/>}</span></pre><p id="1601" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管我必须承认，这样做也同样诱人——</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="8489" class="mx lw it mt b gy my mz l na nb">Text("Launch")<br/>  .onTapGesture {<br/>    print("Launching!")<br/>  }</span></pre><p id="2b8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">两者都不过是在屏幕上呈现一些你可以点击的文本，而不是一个按钮。</p><p id="d727" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以说，修饰这些按钮的正确方法是使用样式协议，对于SwiftUI按钮来说，样式协议有两种风格。当然，你也可以修饰你的可点击文本，但是为此，你需要使用一个viewModifier，一种不同的方式来做同样的事情。</p><h1 id="ad1c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><code class="fe nc nd ne mt b"><strong class="ak">ButtonStyle</strong></code>协议</h1><p id="376b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">基本的按钮样式协议只允许你改变一件事——按钮的外观——其他什么都不能改变，基本的模板是这样的。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="dd4a" class="mx lw it mt b gy my mz l na nb">struct EmptyStyle: ButtonStyle {<br/>  func makeBody(configuration: Configuration) -&gt; some View {<br/>    configuration.label<br/>  }<br/>}</span></pre><p id="959a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单地使用<code class="fe nc nd ne mt b">buttonStyle(EmptyStyle)</code>标签将它添加到您的按钮定义中——尽管在这种情况下，它不会添加任何内容来显示。一个更好的例子是这个，一个构建闪烁按钮的样式。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="e157" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在假设你想在游戏中使用它，限制是你需要打开或关闭动画。</p><p id="d7d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我通过使用带有Combine框架的发布者解决了这个问题。您可以在下面的代码中远程打开和关闭脉冲按钮的效果。注意我有两个标签，它们根据布尔值<code class="fe nc nd ne mt b">isPulsing</code>的值交替变化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/079e5a1299005c6f9722f0de18488425.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LQNIQor-RdB2mpxkLP06xw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">脉冲按钮</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="175f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">PrimitiveButtonStyle</h1><p id="0659" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当然，我们只是改变了按钮的外观——这很好——但也许你想做得更多。使用带有按钮的第二个协议选项，您可以做更多的事情。基本语法如下——这是我在与Swift 的<a class="ae ky" href="https://www.hackingwithswift.com/" rel="noopener ugc nofollow" target="_blank">黑客攻击中发现的一段优秀代码。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="aa02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意<code class="fe nc nd ne mt b">configuration.trigger()</code>，可以用它来管理按钮的动作。这是另一个例子——在这段代码中，我创建了一个你必须点击四次的按钮，每次它返回一个不同的标签，然后最终重置。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="ce45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是使用<code class="fe nc nd ne mt b">PrimitiveButtonStyle</code>的可取消按钮的最后一个例子。你有5秒钟的时间取消，如果你这样做，它会重置，如果你不这样做，星星会变成红色。再次点按它以重置并重试。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/870d605f80d4a20f223998e37dafbbef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9JFN2HBz6FavPTsrb7f0fA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">可取消按钮</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="fa47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有这些都让我想到这篇短文的结尾。我希望你喜欢读它，就像我喜欢写它一样。</p><p id="7b5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在这里找到所有代码的完整列表，在bitbucket上还有更多的<a class="ae ky" href="https://bitbucket.org/wizard1066/buttonstyles/commits/e6c433112b483e2c53628246ac60f32c4825b75d" rel="noopener ugc nofollow" target="_blank">在这里</a>。</p></div></div>    
</body>
</html>