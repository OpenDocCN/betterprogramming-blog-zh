<html>
<head>
<title>Set Up Scheduled Tests With TestCafe, Gitlab CI, and Alerts on Slack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TestCafe、Gitlab CI和Slack上的警报设置计划测试</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/set-up-scheduled-tests-with-testcafe-gitlab-ci-and-alerts-on-slack-9c55ca17c235?source=collection_archive---------11-----------------------#2020-05-11">https://betterprogramming.pub/set-up-scheduled-tests-with-testcafe-gitlab-ci-and-alerts-on-slack-9c55ca17c235?source=collection_archive---------11-----------------------#2020-05-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="89d9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">每小时测试您部署的React应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f1ffb9790320941d1cbe9030cf26d3ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2V3bDD52fZTAB9wtRK3LXA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">斯科特·韦伯在<a class="ae ky" href="https://unsplash.com/s/photos/slack?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ce19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在本教程中有很多内容要讲，所以让我们开门见山吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bfa2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">目标</h1><p id="ae39" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">有一个前端测试我们的网站，每小时运行，并提醒我们任何懈怠的失败。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9259" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建React应用程序</h1><p id="0820" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">用<code class="fe mz na nb nc b">npx create-react-app periodic-testing</code>创建一个新的React项目。</p><p id="a54c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我对<code class="fe mz na nb nc b">App.js</code>做了一个小调整——现在看起来是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4a95" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">编写测试</h1><p id="e518" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为了给我们的应用程序添加一个测试，让我们使用<code class="fe mz na nb nc b"><a class="ae ky" href="https://devexpress.github.io/testcafe/" rel="noopener ugc nofollow" target="_blank">TestCafe</a></code>，一个端到端的测试工具。因为我们只需要这个库进行测试，所以我们可以用<code class="fe mz na nb nc b">npm i -D testcafe</code>将它作为开发依赖项添加进来。</p><p id="7675" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是我们的基本测试:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">tests/smokeTest.js</p></figure><p id="8936" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了执行测试，我们需要告诉<code class="fe mz na nb nc b">TestCafe</code>在哪个浏览器上运行哪个测试。要获得该设置的快捷方式，让我们向<code class="fe mz na nb nc b">package.json</code>添加另一个脚本，如下所示:</p><pre class="kj kk kl km gt nf nc ng nh aw ni bi"><span id="441f" class="nj md it nc b gy nk nl l nm nn">"smoke-test": "testcafe 'chrome' tests/smokeTest.js"</span></pre><p id="6485" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果现在我们运行我们的应用程序<code class="fe mz na nb nc b">npm run start</code>，然后运行测试<code class="fe mz na nb nc b">npm run smoke-test</code>，我们可以看到<code class="fe mz na nb nc b">TestCafe</code>打开一个新的chrome窗口，并试图按下一个有文本“Learn React”的按钮。如果我们输入错误，将<code class="fe mz na nb nc b">smokeTest.js</code>中的<code class="fe mz na nb nc b">Selector</code>改为寻找<code class="fe mz na nb nc b">Learn Rxact</code>并重新运行<code class="fe mz na nb nc b">npm run smoke-test</code>，则测试失败。</p><p id="016e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将测试保持在失败状态，这样我们就可以知道如何处理失败场景，并开始向我们的测试添加更多的逻辑。此外，我想在两个浏览器上使用同一个文件进行测试，因此，为了让测试过程知道我们在哪个浏览器上，我将在我们的<code class="fe mz na nb nc b">package.json</code>中编辑<code class="fe mz na nb nc b">smoke-test</code>脚本和一个名为<code class="fe mz na nb nc b">BROWSER</code>的环境变量:</p><pre class="kj kk kl km gt nf nc ng nh aw ni bi"><span id="a3a9" class="nj md it nc b gy nk nl l nm nn">"smoke-test:chrome": "BROWSER=Chrome testcafe 'chrome' tests/smokeTest.js",<br/>"smoke-test:firefox": "BROWSER=Firefox testcafe 'firefox' tests/smokeTest.js"</span></pre><p id="b1c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们现在也编辑我们的测试文件，以使用这个环境变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">tests/smokeTest.js</p></figure><p id="93b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">测试的输出是:<code class="fe mz na nb nc b">Test failed on Firefox</code>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="db84" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建时差警报</h1><p id="eebb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">然而，我们希望测试在每次测试失败时提醒我们有懈怠。因此，让我们创建一个新的松弛工作空间和一个松弛通道，当测试失败时，我们在这里接收通知——我将我的命名为“生产测试”然后我们转到Slack上的“管理应用程序”设置:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/e128e84b13f9c5060763cbd8dec86b2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7jOWTcUscUnw9gZ9HjgeXQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们如何从Slack workspace主页到达那里</p></figure><p id="f5cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个新屏幕上，我们点击“浏览应用程序目录”，搜索“传入的WebHooks”，并将其添加到我们的Slack工作区。这就是我说的应用程序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/389abf77d33008cc5e243c65d2eb896d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uCTBHV66gWf6BLF24MjTFg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">传入WebHooks Slack应用程序</p></figure><p id="08df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将应用程序添加到Slack后，我们可以简单地选择我们将在这个实验中使用的频道:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/d42fde90d07f1b7aecba4d57f91a0adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*26I11F_7Wu0kTpRsLWQu2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">信道选择</p></figure><p id="d90a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在“设置说明”部分，该应用程序会给我们一个网络挂钩的地址。我们可以简单地点击这个URL，让它在Slack上通知我们。这是我的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/5505e6b565c38736917dcffcedcd7d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X1R4WauTH5Y0VaMRnvG3Uw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">WebHook设置说明</p></figure><p id="6fb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有了发送应用失败的URL，我们可以替换测试的catch块中的<code class="fe mz na nb nc b">console.log</code>,改为使用<code class="fe mz na nb nc b">axios</code>来触发WebHook。我们来补充一下<code class="fe mz na nb nc b">axios</code>:</p><pre class="kj kk kl km gt nf nc ng nh aw ni bi"><span id="f015" class="nj md it nc b gy nk nl l nm nn">npm i axios</span></pre><p id="24e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们调整我们的<code class="fe mz na nb nc b">smokeTest.js</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">tests/smokeTest.js</p></figure><p id="f582" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们重新运行测试，而不是简单地获得console.log，我们会在slack通道上获得如下所示的通知:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/df8d8eddd97d4a9014e771e562aef4e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t9-LlAb75HE3SAGgohZ9OA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">时差通知</p></figure><h1 id="5290" class="mc md it bd me mf ns mh mi mj nt ml mm jz nu ka mo kc nv kd mq kf nw kg ms mt bi translated">在互联网上部署我们的应用程序</h1><p id="eb0b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">好的，目前看起来不错。然而，我们的目标是在我们的网站上运行一个预定的测试。到目前为止，我们一直在使用<code class="fe mz na nb nc b"><a class="ae ky" href="http://localhost:3000," rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a></code> <a class="ae ky" href="http://localhost:3000," rel="noopener ugc nofollow" target="_blank">，</a>进行测试，但这在Gitlab runner上无法运行。此外，我们应该将我们的实际应用程序部署在网上的某个地方，这样当我们进行定期测试时，我们可以确保我们测试的设置和环境与用户看到的完全相同。</p><p id="394d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了方便使用并且不增加成本，我将使用亚马逊的S3在这个url上托管我的React应用程序:<a class="ae ky" href="http://unique-bucket-name-xysz1.s3-website.eu-central-1.amazonaws.com/" rel="noopener ugc nofollow" target="_blank">http://unique-bucket-name-xysz 1 . S3-website . eu-central-1 . Amazon AWS . com/</a>。</p><p id="8a5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用任何其他方法来部署或了解我如何部署我的React应用程序<a class="ae ky" href="https://medium.com/@angadsingh_40633/easiest-and-free-way-to-host-your-react-app-fb8fd2ba2f74" rel="noopener">在这里</a>。</p><p id="dc98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">部署后，我们还必须编辑我们的测试，以使用我们的应用程序的URL而不是<code class="fe mz na nb nc b">localhost</code>，就像这样:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">tests/smokeTest.js</p></figure><p id="77d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，我们还做了另一个添加，现在在捕获它后抛出一个错误。这是因为Slack消息“Chrome/Firefox上的冒烟测试失败”不够有用。如果我们抛出一个错误，那么我们将能够在稍后检查我们的管道，一旦我们设置GitLab CI并调试错误是什么。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4331" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为我们的测试建立一个时间表</h1><p id="f0db" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">有许多方法可以做到这一点—最简单的方法之一是使用GitLab CI。现在让我们创建一个GitLab项目，它将使我们能够创建一个计划来定期运行这个测试。您也可以选择将您的项目托管在另一个网站上，如GitHub，然后将GitLab CI集成到该存储库中，但是为了简单起见，在本教程中我们还是坚持使用GitLab。我将我的应用程序代码推送到这里:【https://gitlab.com/AngSin/periodic-testing<a class="ae ky" href="https://gitlab.com/AngSin/periodic-testing" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3735" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你完成了这些，你必须添加一个文件来告诉GitLab为我们创建一个GitLab runner并运行一些任务——在我们的例子中，我们将只在我们之前写的测试中使用它。为了让GitLab知道作业是在哪里定义的，我们必须将文件命名为<code class="fe mz na nb nc b">gitlab-ci.yml</code>。然后，我们可以将作业定义如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">gitlab-ci.yml</p></figure><p id="c9f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们推动它，并定义一个时间表。在您的GitLab存储库页面上，单击“CI/CD”部分中的“Schedules ”,然后单击“New Schedule”。在这里，您可以为您的计划命名，并定义管道的频率。我每小时都去，在Cron语法中被描述为<code class="fe mz na nb nc b">0 * * * *</code>。我的完整设置如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/912b03c2fd79922f81033dc491884850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KrlAZx4zGe8b-xNGlLCBJg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">计划定义</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4e4e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">测试我们的测试</h1><p id="3851" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">保存后，我们将每小时运行一次新的计划管道。但是，您可以点击日程表上的“播放”图标，开始新的渠道，而不是等待。您将收到以下成功消息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/b31c1e1f17c528483f4533ae44a08d1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mtG2pVxFjkcQINVzl1Dl_g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">管道计划</p></figure><p id="4e4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重新加载页面后，您将看到“最后一个管道”列中现在有一个活动管道。单击该活动管道链接，您将看到作业的详细描述:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/89b2d88591e86caa006cb99facffdd5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ok-yUMUCQmRFo0a2ZuNgHg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">成品管道</p></figure><p id="b56b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于我们有两个失败的测试，我们应该看到通知弹出我们的懈怠！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/cc86ab94591ee91109cdafa8d9841d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tLWA9sfGfv_5HrgZ1ei-UA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">时差通知</p></figure><p id="6885" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想了解这些冒烟测试失败原因的更多详细信息，您可以返回GitLab的管道并单击其中一个作业:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/b8a341f3ec14ce583f8ad4eabbdd6bd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d8a-v8m47f4uz0O7q4SsAA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">错误详细信息</p></figure><p id="540f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们可以看到详细的错误“指定的选择器与DOM树中的任何元素都不匹配。”哎呀！我们正在寻找一个按钮的文字“学习Rxact”而不是“学习反应”。为了解决这个问题，我们可以简单地改变我们的测试来搜索“Learn React”，特别是如果我们不想每小时都有slack通知的话！</p><p id="e080" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们网站上的这个冒烟测试相当基础。为了更好地利用GitLab CI，我们还可以拥有为React组件安装和运行单元测试的分支管道。要了解如何对React组件进行全面的单元测试，点击<a class="ae ky" href="https://medium.com/better-programming/fully-testing-a-react-component-e81eb5c4f9d" rel="noopener">这里</a>。</p><p id="3a7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您是否可以扩展或者更好地创建只在合并请求中运行的作业，这些请求在React组件上运行单元测试？提示:<code class="fe mz na nb nc b">gitlab-ci.yml</code>中的作业定义应该是这样的:</p><pre class="kj kk kl km gt nf nc ng nh aw ni bi"><span id="4cf9" class="nj md it nc b gy nk nl l nm nn">only:<br/>  - merge_requests</span></pre><p id="b2df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">祝你好运！如果你喜欢你读到的内容，请在推特上关注我<a class="ae ky" href="https://twitter.com/captainkong_eth" rel="noopener ugc nofollow" target="_blank">。</a></p></div></div>    
</body>
</html>