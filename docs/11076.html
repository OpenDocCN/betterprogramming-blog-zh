<html>
<head>
<title>A Guide to Hosting Websites on IPFS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">IPFS网站托管指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-guide-to-hosting-websites-on-ipfs-d2efad40ed3?source=collection_archive---------5-----------------------#2022-02-16">https://betterprogramming.pub/a-guide-to-hosting-websites-on-ipfs-d2efad40ed3?source=collection_archive---------5-----------------------#2022-02-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="24a8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何在行星间文件系统上托管站点</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/459dda40a312b4579f3d31d187152935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mNPVYyficJY6CbL0"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">戴维·梅尼德雷在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="9464" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将描述如何在行星间文件系统(<a class="ae ky" href="https://ipfs.io/" rel="noopener ugc nofollow" target="_blank"> IPFS </a>)上托管一个网站，这是一个通过计算机网络存储和访问文件、网页、数据等的对等网络。分散式存储协议，如IPFS，将在<a class="ae ky" href="https://web3.foundation/about/" rel="noopener ugc nofollow" target="_blank"> web3技术栈</a>中发挥不可或缺的作用，有助于使互联网变得分散和不可改变。我相信这个新生的协议将成为未来几年互联网的重要组成部分。</p><p id="be44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个协议有很多<a class="ae ky" href="https://docs.ipfs.io/concepts/usage-ideas-examples/" rel="noopener ugc nofollow" target="_blank">用途，但是在这篇文章中，我将只关注托管一个网站。请记住，IPFS协议目前还不是所有的浏览器都支持，这可能会限制您的内容的范围。对于那些不了解IPFS的浏览器，我们可以简单地通过一个“</a><a class="ae ky" href="https://docs.ipfs.io/concepts/ipfs-gateway/" rel="noopener ugc nofollow" target="_blank">网关</a>来路由我们的网页这就是我将在这篇文章中展示的。作为一个例子，这是我的网页托管在IPFS通过网关路由。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="67bb" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu">Table of contents</strong></span><span id="215b" class="ma mb it lw b gy mg md l me mf"><a class="ae ky" href="#b63c" rel="noopener ugc nofollow">0. A brief overview of IPFS</a><br/>  <a class="ae ky" href="#52b1" rel="noopener ugc nofollow">0.1 Content Identifiers (CID)</a><br/>  <a class="ae ky" href="#4164" rel="noopener ugc nofollow">0.2 Gateway Servers</a><br/>  <a class="ae ky" href="#8b69" rel="noopener ugc nofollow">0.3 Where to go from here</a><br/><a class="ae ky" href="#0ddc" rel="noopener ugc nofollow">1. Install IPFS CLI</a><br/>  <a class="ae ky" href="#c54b" rel="noopener ugc nofollow">1.1 Brief tutorial of IPFS</a><br/><a class="ae ky" href="#bd80" rel="noopener ugc nofollow">2. Upload your website to IPFS</a><br/><a class="ae ky" href="#01ea" rel="noopener ugc nofollow">3. Connecting IPFS to your own domain name</a><br/>  <a class="ae ky" href="#72dd" rel="noopener ugc nofollow">3.1 DNS link domain to IPFS</a><br/>  <a class="ae ky" href="#7882" rel="noopener ugc nofollow">3.2 What actually happens?</a><br/><a class="ae ky" href="#8d0a" rel="noopener ugc nofollow">4. Conclusions</a></span></pre></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h1 id="b63c" class="mo mb it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">0.IPFS概述</h1><p id="51ba" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">IPFS和无处不在的超文本传输协议(HTTP)的主要区别之一是引用数据的方式。HTTP通过<em class="nk">位置</em>引用，而IPFS通过<em class="nk">内容引用。</em>当您在浏览器中输入统一资源定位符(URL)时(例如<a class="ae ky" href="http://www.medium.com" rel="noopener">www.medium.com</a>),您正在指定您想要访问的内容的位置。</p><p id="9f4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，也许在咖啡店你旁边的人有一份你要的内容。那么为什么不从他们那里得到呢？这在IPFS中是可能的，在那里多个“对等点”可以托管相同的内容，允许你从它们中的任何一个而不是一个中央服务器检索它。IPFS上的文件可能不仅仅存储在一个地方，而是存储在世界各地的许多地方，有一天甚至可能存储在其他星球上(因此命名为inter-<em class="nk">planetary</em>file system)。</p><p id="6955" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当在IPFS上请求内容时，我们用一个<a class="ae ky" href="https://proto.school/anatomy-of-a-cid" rel="noopener ugc nofollow" target="_blank">内容标识符(CID) </a>来指定<em class="nk">我们想要什么</em>，而不管它在哪里。这个CID是内容的加密唯一散列。因此，如果内容改变，那么CID也将改变。这对于确保内容不被篡改非常重要。</p><p id="ef64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">IPFS让互联网变得不可改变且富有弹性。CID对于内容是唯一的，因此如果内容被改变，则生成新的CID。数据具有弹性，因为它托管在多台计算机上，很难从网络中完全删除。</p><h2 id="52b1" class="ma mb it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">0.1内容标识符(CID)</h2><p id="4885" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">CID类似于URL。URL描述的是服务器的位置，而CID描述的是内容本身，不管它位于何处。简单地说，IPFS问连接到你的计算机“<em class="nk">你知道与这个CID相关的内容在哪里吗？</em>“网络中的计算机将对此做出响应，”<em class="nk">是的，您可以在该服务器上找到内容。</em>”</p><p id="c68a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个例子，这里是IPFS维基镜像的CID:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f344" class="ma mb it lw b gy mc md l me mf">ipfs://<!-- -->QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco</span></pre><p id="9173" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像文件系统一样，我们可以导航到我们真正想要的内容。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7a45" class="ma mb it lw b gy mc md l me mf">ipfs://bafybeiemxf5abjwjbikoz4mc3a3dla6ual3jsgpdr4cjr3oz3evfyavhwq/wiki/Beatles.html</span></pre><p id="613d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个系统的挑战是大多数浏览器不知道如何解析IPFS地址。Brave和Opera是两款支持<a class="ae ky" href="https://github.com/ipfs/in-web-browsers#ipfs-and-igalia-collaborate-on-dweb-in-browsers" rel="noopener ugc nofollow" target="_blank">原生IPFS</a>的浏览器。对于不了解IPFS的浏览器，我们必须要么安装<a class="ae ky" href="https://github.com/ipfs/ipfs-companion" rel="noopener ugc nofollow" target="_blank"> IPFS伴侣</a>要么依靠一个“网关”。</p><h2 id="4164" class="ma mb it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">0.2网关服务器</h2><p id="6773" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">网关是你的浏览器和IPFS之间的中间人。您向中央网关服务器发出HTTP请求，然后该服务器获取IPFS内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/b0af777ba2b1672e98010df131d57bd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*nLadTLs0Ih4VjXu6CSazjw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">IPFS网关工作原理示意图。请求通过中央网关服务器路由，然后IPFS上的内容被检索并发送给用户。(图片来源:作者修改过的<a class="ae ky" href="https://undraw.co/" rel="noopener ugc nofollow" target="_blank"> UnDraw </a>图片)</p></figure><p id="539d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">网关允许任何人访问IPFS的内容(不管你的浏览器)，缺点是服务器是集中的，因此容易离线。这是网关服务器的一个问题。</p><p id="2b96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然网关是集中的，可能会永久离线，但内容本身仍然保留在IPFS上。网关可能消失了，但是内容本身仍然存在——假设它被<a class="ae ky" href="https://docs.ipfs.io/concepts/persistence/#persistence-versus-permanence" rel="noopener ugc nofollow" target="_blank">固定</a>到网络中的一个节点。</p><p id="ec83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个例子，下面是通过<code class="fe nx ny nz lw b">https://dweb.link</code>网关路由的同一个Beatles页面:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f249" class="ma mb it lw b gy mc md l me mf">https://dweb.link<!-- -->/ipfs/QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/wiki/Beatles.html</span></pre><h2 id="8b69" class="ma mb it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">0.3何去何从</h2><p id="6fe7" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">现在我们对IPFS及其工作原理有了一点了解，让我们安装IPFS并托管一些我们自己的内容吧！</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h1 id="0ddc" class="mo mb it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">1.安装IPFS CLI</h1><p id="6dfd" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在macOS上，您可以使用brew来安装IPFS</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2a64" class="ma mb it lw b gy mc md l me mf">brew install ipfs</span></pre><p id="6e0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将安装IPFS命令行界面(CLI)。</p><p id="8c4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也可以直接从<a class="ae ky" href="https://ipfs.io/" rel="noopener ugc nofollow" target="_blank"> ipfs.io </a>下载</p><div class="oa ob gp gr oc od"><a href="https://docs.ipfs.io/install/command-line/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">命令行| IPFS文档</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">如果您计划在IPFS上构建应用程序和服务，那么通过命令行安装IPFS非常方便…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">docs.ipfs.io</p></div></div><div class="om l"><div class="on l oo op oq om or ks od"/></div></div></a></div><p id="4104" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过检查版本，确保安装了CLI。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7854" class="ma mb it lw b gy mc md l me mf">ipfs --version</span></pre><h2 id="c54b" class="ma mb it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">1.1 Brief简介</h2><p id="8be8" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在我们开始使用IPFS之前，我们需要<a class="ae ky" href="https://docs.ipfs.io/how-to/command-line-quick-start/#initialize-the-repository" rel="noopener ugc nofollow" target="_blank">初始化存储库</a></p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0caf" class="ma mb it lw b gy mc md l me mf">ipfs init</span></pre><p id="e42f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将在<code class="fe nx ny nz lw b">~/.ipfs</code>中创建文件来存储设置和内部数据。</p><p id="4fca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以通过在新的会话中启动守护进程来连接到网络。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9319" class="ma mb it lw b gy mc md l me mf">ipfs daemon</span></pre><blockquote class="os ot ou"><p id="a92b" class="kz la nk lb b lc ld ju le lf lg jx lh ov lj lk ll ow ln lo lp ox lr ls lt lu im bi translated">daeman也可以在后台启动。<code class="fe nx ny nz lw b">ipfs daemon &amp;</code>，只是别忘了停下来。在macOS上，<code class="fe nx ny nz lw b">killall ipfs</code>会停止守护进程。</p></blockquote><p id="a201" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保持守护进程运行，以便您可以在浏览器中查看内容。</p><p id="6cc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们向网络添加一些内容，并将CID保存到一个变量中。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="b981" class="ma mb it lw b gy mc md l me mf">CID=`echo "I &lt;3 IPFS -$(whoami)" | ipfs add -q`</span></pre><blockquote class="os ot ou"><p id="fd4a" class="kz la nk lb b lc ld ju le lf lg jx lh ov lj lk ll ow ln lo lp ox lr ls lt lu im bi translated">这将始终生成相同的CID，即使我将<code class="fe nx ny nz lw b">$(whoami)</code>改为我实际的用户名。这是因为IPFS正在散列内容。因此，如果内容没有改变，那么散列(即CID)也不会改变。</p></blockquote><p id="3f4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用以下内容查看您刚刚添加的内容的CID</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="cd05" class="ma mb it lw b gy mc md l me mf">echo $CID</span></pre><blockquote class="os ot ou"><p id="0ebc" class="kz la nk lb b lc ld ju le lf lg jx lh ov lj lk ll ow ln lo lp ox lr ls lt lu im bi translated">在我的机器上，CID是:<code class="fe nx ny nz lw b">QmTUoo1hN87Vq8rjK9XbJgE6W2ZpHQLshTq31ZsrSLnGWT</code></p></blockquote><p id="b836" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过<code class="fe nx ny nz lw b">ipfs cat</code>查看刚刚添加的内容</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="cec3" class="ma mb it lw b gy mc md l me mf">ipfs cat QmTUoo1hN87Vq8rjK9XbJgE6W2ZpHQLshTq31ZsrSLnGWT</span></pre><p id="5fa9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尝试通过网关解析CID(例如<code class="fe nx ny nz lw b"><a class="ae ky" href="https://dweb.link/ipfs/CID." rel="noopener ugc nofollow" target="_blank">https://dweb.link/ipfs/CID</a></code>)。例如，下面是我如何解析我的CID。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9d3a" class="ma mb it lw b gy mc md l me mf">https://dweb.link/ipfs/QmTUoo1hN87Vq8rjK9XbJgE6W2ZpHQLshTq31ZsrSLnGWT</span></pre><p id="2033" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该会看到您的消息显示在浏览器中。</p><p id="b6fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这太棒了！我们可以成功地将内容上传到IPFS，并在浏览器中查看。现在让我们添加一个完整的网页。</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h1 id="bd80" class="mo mb it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">2.将您的网站上传到IPFS</h1><p id="5d71" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">你需要一个网站来托管。在这里，我不打算做任何花哨的东西，只使用以下结构的普通HTML、CSS和JavaScript。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8e8a" class="ma mb it lw b gy mc md l me mf">.<br/>├── index.html<br/>├── css<br/>│   └── styles.css<br/>├── img<br/>│   └── image.png<br/>└── javascript<br/>    └── scripts.js</span></pre><p id="e903" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像之前一样，我们可以用<code class="fe nx ny nz lw b">ipfs add -r &lt;site_dir&gt;</code>添加目录</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3b4e" class="ma mb it lw b gy mc md l me mf">ipfs add -r .</span></pre><blockquote class="os ot ou"><p id="1817" class="kz la nk lb b lc ld ju le lf lg jx lh ov lj lk ll ow ln lo lp ox lr ls lt lu im bi translated"><code class="fe nx ny nz lw b">-r</code>标志递归相加，而“.”表示我们正在从网页目录运行命令。</p></blockquote><p id="aba3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您会注意到目录树中的每个项目都有一个CID。我们只关心指向整个网站的顶级CID。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/cbbfd8502d50f8a6edcb23a7afdcb41d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mnCUsyEn7V8CpRjgfS1jKg.png"/></div></div></figure><p id="af38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像以前一样，我们可以通过网关查看网页</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2aac" class="ma mb it lw b gy mc md l me mf"><a class="ae ky" href="https://ipfs.io/ipfs/QmdJcNS1M42rjBT6mnfEuE1oTqP5nGWt3msgFA9KH36a9e/" rel="noopener ugc nofollow" target="_blank">ipfs.io/ipfs/QmdJcNS1M42rjBT6mnfEuE1oTqP5nGWt3msgFA9KH36a9e/</a></span></pre><p id="3858" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是你可能不想告诉别人你在<code class="fe nx ny nz lw b"><a class="ae ky" href="https://ipfs.io/ipfs/QmdJcNS1M42rjBT6mnfEuE1oTqP5nGWt3msgFA9KH36a9e/" rel="noopener ugc nofollow" target="_blank">ipfs.io/ipfs/QmdJcNS1M42rjBT6mnfEuE1oTqP5nGWt3msgFA9KH36a9e/</a></code>有一个很酷的网页</p><p id="46b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个解决办法是购买一个域名，链接到IPFS的内容。</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h1 id="01ea" class="mo mb it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">3.将IPFS连接到您自己的域名</h1><blockquote class="os ot ou"><p id="b0a0" class="kz la nk lb b lc ld ju le lf lg jx lh ov lj lk ll ow ln lo lp ox lr ls lt lu im bi translated">此步骤需要您拥有的域名。我通过<a class="ae ky" href="https://www.cloudflare.com/" rel="noopener ugc nofollow" target="_blank"> Cloudflare </a>购买了我的域名，但是任何提供商都应该工作。</p></blockquote><p id="fb64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用<a class="ae ky" href="https://docs.ipfs.io/concepts/dnslink/" rel="noopener ugc nofollow" target="_blank"> DNSLink </a>将IPFS CID映射到我们的域地址。</p><h2 id="72dd" class="ma mb it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">3.1 IPFS的DNS链接域</h2><p id="01b1" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">你需要一个DNS提供商。我使用的是Cloudflare，但基本说明应该适用于任何DNS提供商。</p><ol class=""><li id="0d29" class="oz pa it lb b lc ld lf lg li pb lm pc lq pd lu pe pf pg ph bi translated">登录Cloudflare</li><li id="615f" class="oz pa it lb b lc pi lf pj li pk lm pl lq pm lu pe pf pg ph bi translated">单击您的活动网站，然后单击左侧栏中的DNS。</li><li id="4e90" class="oz pa it lb b lc pi lf pj li pk lm pl lq pm lu pe pf pg ph bi translated">DNS管理部分，增加一条<code class="fe nx ny nz lw b">TXT</code>和<code class="fe nx ny nz lw b">CNAME</code>记录。</li><li id="0361" class="oz pa it lb b lc pi lf pj li pk lm pl lq pm lu pe pf pg ph bi translated">将<code class="fe nx ny nz lw b">TXT</code>记录<em class="nk">名称</em>设置为<code class="fe nx ny nz lw b">_dnslink.yourwebsite.com</code>(确保用您自己的域名替换yourwebsite.com)</li><li id="6d49" class="oz pa it lb b lc pi lf pj li pk lm pl lq pm lu pe pf pg ph bi translated">将<code class="fe nx ny nz lw b">TXT</code>记录<em class="nk">内容</em>设置为<code class="fe nx ny nz lw b">dnslink=/ipfs/CID</code>(确保用自己的CID替换)</li><li id="3e88" class="oz pa it lb b lc pi lf pj li pk lm pl lq pm lu pe pf pg ph bi translated">将<code class="fe nx ny nz lw b">CNAME</code>记录设置到任何IPFS网关(例如<code class="fe nx ny nz lw b">gateway.ipfs.io</code>)</li></ol><p id="1777" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">举个例子，下面是我的<code class="fe nx ny nz lw b">TXT</code>和<code class="fe nx ny nz lw b">CNAME</code>记录的截图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/23ff2e5cd547ccb493c41c3de13f4175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BqOX5XyJwF-c6fjKrGB6TA@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><blockquote class="os ot ou"><p id="6ca9" class="kz la nk lb b lc ld ju le lf lg jx lh ov lj lk ll ow ln lo lp ox lr ls lt lu im bi translated">复制CID时，确保没有前导空格或尾随空格</p></blockquote><p id="ec24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你输入了所有的信息，点击<strong class="lb iu">保存</strong>，你就成功地在IPFS托管了你的网站。</p><h2 id="7882" class="ma mb it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">3.2实际发生了什么？</h2><p id="2873" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">您的浏览器执行DNS查找来获取网关服务器的IP地址。网关注意到请求来自你的网页，它将寻找内容的IPFS地址的DNS条目。网关将从IPFS检索内容，并将其返回到您的浏览器。</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h1 id="8d0a" class="mo mb it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">4.结论</h1><p id="7c70" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在这篇文章中，我提供了一个在IPFS上托管网页的解决方案，让任何人都可以看到它。在IPFS上托管一个网站很容易，但要有一个人类可读的域名确实需要一点努力(和金钱)。</p><p id="29b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个解决方案是可行的，但是每次更新网页时都要在<code class="fe nx ny nz lw b">TXT</code>记录中更改IPFS地址，这很麻烦。作为一个解决方案，我鼓励你去看看<a class="ae ky" href="https://docs.ipfs.io/concepts/ipns/" rel="noopener ugc nofollow" target="_blank">行星间名称系统</a> (IPNS)。我还建议查看一下<a class="ae ky" href="https://github.com/marketplace/actions/upload-to-ipfs" rel="noopener ugc nofollow" target="_blank"> IPFS GitHub Action </a>和<a class="ae ky" href="https://unstoppabledomains.com/" rel="noopener ugc nofollow" target="_blank">unstopped Domains</a>，如果你想要一个完全去中心化的网站，有一个人可读的域名(在撰写本文时，这种方法对浏览器的支持是有限的。)</p><p id="d5cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解决方案的另一个问题是可访问性。为了确保您的内容始终可用，最好将您的内容“固定”到多个节点。我鼓励你去看看不同的<a class="ae ky" href="https://docs.ipfs.io/how-to/work-with-pinning-services/" rel="noopener ugc nofollow" target="_blank">钉住服务</a>让这变得简单。piata就是这样一种服务，你可以用一个免费账户来锁定一个轻量级网站。</p><p id="5896" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">托管网站是这项新兴技术的众多用例之一。一个明显的应用是分散式<a class="ae ky" href="https://web3.storage/" rel="noopener ugc nofollow" target="_blank">存储解决方案</a>。</p><p id="44c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就我个人而言，我对这项新兴技术感到非常兴奋，并期待着看到未来会发生什么。如果你想了解更多，我鼓励你查阅<a class="ae ky" href="https://docs.ipfs.io/" rel="noopener ugc nofollow" target="_blank"> IPFS文档</a>并浏览这本<a class="ae ky" href="https://flyingzumwalt.gitbooks.io/decentralized-web-primer/content/" rel="noopener ugc nofollow" target="_blank"> gitbook </a>中的教程。</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h2 id="37af" class="ma mb it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">想要连接吗？</h2><div class="oa ob gp gr oc od"><a href="https://lukegloege.com/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">长度格洛格</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">我是纽约市美国宇航局戈达德太空研究所的气候科学家。我的研究集中在…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">lukegloege.com</p></div></div><div class="om l"><div class="po l oo op oq om or ks od"/></div></div></a></div></div></div>    
</body>
</html>