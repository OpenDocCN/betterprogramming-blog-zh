<html>
<head>
<title>Managed Kubernetes Services Compared: GKE vs. EKS vs. AKS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">托管Kubernetes服务比较:GKE与EKS与AKS</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/managed-kubernetes-services-compared-gke-vs-eks-vs-aks-df1ecb22bba0?source=collection_archive---------4-----------------------#2020-09-14">https://betterprogramming.pub/managed-kubernetes-services-compared-gke-vs-eks-vs-aks-df1ecb22bba0?source=collection_archive---------4-----------------------#2020-09-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bd4e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">比较三个最受欢迎的托管Kubernetes平台的功能和整体体验</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e79651bac4158ca2f60f5779e17186b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V_MEslc56tk9BQOW"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">伊恩·巴塔格利亚在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0d33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着Kubernetes成为容器编排的事实上的解决方案，托管的Kubernetes服务已经随处可见，云提供商在他们的产品上投入了大量的精力。然而，选择服务通常意味着要考虑大量的因素，如果没有广泛的研究，这些因素很难进行比较。</p><p id="36a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看亚马逊弹性Kubernetes服务(EKS)，谷歌Kubernetes引擎(GKE)，和Azure Kubernetes服务(AKS)，并比较他们的功能，以及他们的整体体验。</p><p id="76a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">注意:这些服务往往发展得非常快，所以当你读到它们的时候，其中的一些细节可能已经过时了。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="9ad7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated"><strong class="ak">简介</strong></h1><p id="ca4b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">虽然大多数托管的Kubernetes服务已经存在不到三年，但有一项服务远远领先于潮流。鉴于Kubernetes最初是由谷歌开发的，谷歌Kubernetes引擎早于其竞争对手三年于2015年发布也就不足为奇了。其最大的竞争对手AKS和EKS都在2018年推出，让GKE在平台的成熟度和功能支持方面取得了巨大的领先优势。</p><p id="47a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Azure Kubernetes服务和亚马逊弹性Kubernetes服务都是在2018年发布的，与大多数其他云提供商的发布时间相似，这意味着它们都有相同的时间来成熟和获得功能。尽管这些平台相对年轻，但自推出以来发展迅速。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="03bd" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">特征比较</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/95b87ebe922a89735474c7a8c085ca7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qjsjz08mBZnfq0BgHEP-Gg.png"/></div></div></figure><h2 id="1b52" class="nb me it bd mf nc nd dn mj ne nf dp mn li ng nh mp lm ni nj mr lq nk nl mt nm bi translated">管理负担</h2><p id="217e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">正如上面的功能表所示，GKE在为您提供更多服务方面处于领先地位。自动化控制面板和工作节点升级，以及节点自动修复，无需手动输入即可保持集群健康。AKS支持节点自动修复，但不支持自动升级(根据微软的说法，这是开发中的<a class="ae ky" href="https://azure.microsoft.com/en-us/updates/aks-cluster-auto-upgrade/" rel="noopener ugc nofollow" target="_blank"/>)。EKS不支持任何自动升级或节点修复。</p><h2 id="8e38" class="nb me it bd mf nc nd dn mj ne nf dp mn li ng nh mp lm ni nj mr lq nk nl mt nm bi translated">监视</h2><p id="c9ba" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">GKE和AKS都直接集成了各自平台的监控工具。两者都有设计良好的现代界面，使得查看日志、查看资源使用情况和设置警报变得非常简单。总体而言，GCP在拥有设计最精良的网络界面方面超过了Azure，但Azure的界面也足够好。</p><p id="d758" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">EKS支持将日志记录和监控作为一个单独安装的特性，称为CloudWatch Container Insights。虽然集成工作良好，并提供了全面的指标，但AWS的CloudWatch界面使用起来往往令人沮丧，界面过时，布局混乱。您可能更喜欢设置第三方监控和日志记录解决方案。</p><h2 id="3a33" class="nb me it bd mf nc nd dn mj ne nf dp mn li ng nh mp lm ni nj mr lq nk nl mt nm bi translated"><strong class="ak">无服务器计算</strong></h2><p id="d7f7" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">GKE为Anthos提供了一个无服务器的计算功能，称为云运行。这为您提供了托管云运行无服务器容器平台的所有常见优势，包括部署高度可扩展的工作负载，这些工作负载可以根据请求扩展到零，同时利用您自己的集群资源，而不是使用Google的托管云运行基础架构。然而，这并没有改变您通常的Kubernetes工作负载和部署的运行方式。它为受益于无服务器模式的工作负载提供了不同的部署选项。</p><p id="a439" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AKS的无服务器功能被称为虚拟节点，允许您运行由Azure容器实例支持的Kubernetes pods，而不是完整的虚拟机，从而实现更快、更细粒度的扩展。与Cloud Run for Anthos不同，该计算选项运行您现有的Kubernetes工作负载，而不是一个完全独立的部署选项。这意味着您可以通过针对特定工作负载在虚拟节点上运行来无缝采用虚拟节点。</p><p id="452e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">EKS提供与亚马逊的无服务器容器平台Fargate的集成。类似于AKS的虚拟节点特性，该选项允许您将pods作为容器实例运行，而不是在完整的虚拟机上运行。然而，Fargate需要使用亚马逊的应用负载平衡器(ALB)，而Azure的虚拟节点实现不需要您使用任何特定的负载平衡器。</p><h2 id="6abe" class="nb me it bd mf nc nd dn mj ne nf dp mn li ng nh mp lm ni nj mr lq nk nl mt nm bi translated">开发工具</h2><p id="1369" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Google提供了一个名为Cloud Code的特性，它是一个VS代码或IntelliJ扩展，允许您直接从IDE/代码编辑器中部署、调试和管理您的集群。这也包括与Cloud Run和Cloud Run for Anthos的直接集成。</p><p id="87b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">微软提供了类似的功能，在VS代码中有一个Kubernetes扩展。然而，除此之外，AKS还有一个独特的功能，即通往Kubernetes的桥梁。这允许您运行本地代码，就像它是集群中的一个服务一样，允许您运行和调试本地代码，而不必在本地复制依赖项。</p><p id="b3e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谷歌和微软的Kubernetes扩展都支持任何Kubernetes集群的通用功能，这些功能可以通过<code class="fe nn no np nq b">kubectl</code>或Kubernetes API获得，这意味着你也可以将它们用于EKS集群。然而，除了这种通用的功能之外，还没有集成EKS的专用开发工具。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="598c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">摘要</h1><h2 id="8271" class="nb me it bd mf nc nd dn mj ne nf dp mn li ng nh mp lm ni nj mr lq nk nl mt nm bi translated"><strong class="ak">谷歌Kubernetes引擎(GKE) </strong></h2><p id="46df" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">迄今为止最易用、功能最丰富的托管Kubernetes解决方案。如果你对任何云平台都没有特别的忠诚，只是想要最好的Kubernetes体验，那就别再找了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/ff7a6c1583d05475ac1040aa7387ed79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eYjLuwLjfpZMmz-bgUNUTw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">谷歌云控制台中的GKE工作负载视图。</p></figure><p id="c5e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑到Kubernetes是由谷歌设计的，GKE为托管的Kubernetes设立标杆的事实并不令人惊讶。GKE也比它的竞争对手领先了近三年——有充足的时间来成熟和获得特性。</p><p id="58b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GKE提供了丰富的开箱即用体验，通过谷歌出色的Stackdriver ops工具以及从GCP web控制台全面了解您的工作负载和资源使用情况，为您提供集成的日志记录和监控。GKE的CLI体验还让您能够完全控制您的集群配置，使集群的创建和管理变得非常简单。简而言之，GKE集群是生产就绪的开箱即用型产品，拥有您立即开始部署工作负载所需的一切。</p><p id="abbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了Google为您管理的这么多东西，如果您希望完全定制您的集群，您会失去一点控制权。然而，除此之外，GKE很难被指责。这是最好的Kubernetes管理经验，无与伦比。</p><h2 id="5d48" class="nb me it bd mf nc nd dn mj ne nf dp mn li ng nh mp lm ni nj mr lq nk nl mt nm bi translated"><strong class="ak"> Azure Kubernetes服务(AKS) </strong></h2><p id="3fe8" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">强大的开发工具和快速的Kubernetes更新带来了出色的开箱即用体验。对于那些已经在微软/Azure生态系统中的人来说，这是显而易见的选择，对于其他人来说，这是GKE的有力替代。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/c694a33607689440d626a17ecd61460d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BkyegfCUyGv3eS3oWt-cLw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Azure门户中的AKS集群洞察视图。</p></figure><p id="a4f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然它没有达到GKE的高度，但AKS有很好的开箱即用体验，具有日志记录、监控和指标等功能。尽管GKE仍然提供更全面的指标和功能，但一个新的Azure门户功能现在让您可以全面了解您的集群工作负载。经过一系列的重新设计，Azure的门户网站已经从一个杂乱和令人困惑的烂摊子变成了一个真正令人愉快的体验。除了经过大幅改进的门户之外，AKS还拥有强大的CLI体验，让您能够全面控制您的集群。集群易于创建和管理，并且可用于生产。</p><p id="320f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Azure作为平台的一个缺点是，它是三个主要云提供商中最不可靠的。就正常运行时间百分比和停机次数而言，Azure落后于AWS和GCP。这并不意味着它不可用——许多大公司继续依赖Azure——但这是需要记住的事情。</p><p id="3c2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了一些潜在的缺点，AKS仍然是一个出色的管理Kubernetes服务。尽管GKE对大多数人来说是更好的选择，但是Azure有几个主要的好处。如果你已经在Azure上存在或者使用现有的微软工具，如365或Active Directory，AKS是一个自然的选择。对于其他人来说，免费控制平面的更便宜的价格，快速的Kubernetes更新，有用的VS代码开发工具和无缝的无服务器计算选项都意味着AKS是一个值得考虑的强大产品。</p><h2 id="40f0" class="nb me it bd mf nc nd dn mj ne nf dp mn li ng nh mp lm ni nj mr lq nk nl mt nm bi translated"><strong class="ak">亚马逊弹性库伯内特服务(EKS) </strong></h2><p id="af4f" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在功能支持、易用性和开箱即用体验方面最弱的Kubernetes产品。如果您必须使用AWS，或者如果您希望能够完全控制您的Kubernetes集群，请选择它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/97e4f4b71e09116aba88f83b1fee17bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x8GPW6q6KVPbZYVXL8oKlw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS管理控制台中的EKS集群视图。</p></figure><p id="a138" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与GKE和AKS采用的易于使用、非常受管理的方法相比，亚马逊弹性库本内特服务(EKS)让你自己管理大量配置。您将花费大量时间手动配置IAM角色和策略，以及自己安装各种功能。默认情况下，您无法了解您的集群或工作负载。EKS web界面和CLI非常稀少，而且仅限于少数操作。</p><p id="57d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像<code class="fe nn no np nq b">terraform-aws-eks</code> Terraform模块和<code class="fe nn no np nq b">eksctl</code>命令行工具这样的第三方工具填补了EKS管理经验中的许多令人沮丧的空白。自动化和抽象化了相当多的集群创建和管理复杂性。<code class="fe nn no np nq b">eksctl</code>提供了AWS无法提供的全功能CLI体验。然而，即使这些工具也只能到此为止。因为这个功能不是EKS固有的，即使这些工具抽象了一些复杂性，您仍然最终负责维护它。</p><p id="6c6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想要对您的集群有更多的控制，EKS确实非常有效。通过在管理方面相对放手，如果你愿意，你也可以从头开始完全定制你需要的任何东西。EKS也是这里唯一支持裸机节点和自带机器镜像的服务。</p><p id="cb77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最终，EKS最大的优势在于它是一项AWS服务。它生活在最强大和最成熟的云平台之一，具有坚如磐石的可靠性、广泛的非常受欢迎的服务和庞大的开发人员社区。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="f7f0" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated"><strong class="ak">结论</strong></h1><p id="67d0" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如果你在寻找最好的库伯内特体验，GKE是最好的选择。您拥有最佳的开箱即用体验、广泛的功能支持、轻松的维护以及出色的web和CLI界面。</p><p id="ab09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AKS凭借出色的开箱即用体验、强大的无服务器计算功能和有用的VS代码开发功能占据了第二位，所有这些都是通过免费的控制平面提供的。</p><p id="325b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，EKS的方法是非常不干涉的，如果这是你想要的，那就太好了。不过，对大多数人来说，如果你选择EKS，你是为了AWS的实力，而不是EKS本身。</p></div></div>    
</body>
</html>