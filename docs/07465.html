<html>
<head>
<title>Data Visualization With SwiftUI: Radar Charts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI数据可视化:雷达图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/data-visualization-with-swiftui-radar-charts-64124aa2ac0b?source=collection_archive---------5-----------------------#2021-01-18">https://betterprogramming.pub/data-visualization-with-swiftui-radar-charts-64124aa2ac0b?source=collection_archive---------5-----------------------#2021-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2fde" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在SwiftUI应用中构建漂亮的图表</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cf77a2a09de30ee538ab9d5d0fce79b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FpZ8LoGERJUnkge3"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卢克·切瑟在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="d4a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">苹果在2019年推出了SwiftUI，作为一种轻量级和易于使用的方式来创建用户界面。本系列文章将从雷达图开始，探索SwiftUI框架如何帮助我们构建干净、简单和令人惊叹的数据可视化工具。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fdae" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">什么是雷达图？</h1><p id="2708" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">雷达图(也称为网状图、蜘蛛图或Kiviat图)是一种在同一绘图中用轴表示多个变量的方法，这些轴从同一点开始，但向不同方向延伸。下图显示了一个雷达图的例子，恰好是我们在本文中构建的。真巧！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/7107a45620a9872113d6aaca627dfd79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AcpQcGbIjQyiSZMmDIgy6Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">本文中我们正在构建的雷达图的一个示例。</p></figure><p id="6ae4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种类型的可视化可能适用于以下情况:</p><ul class=""><li id="423d" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">你正在汇总有多少学生被一所大学的不同项目录取的概况。</li><li id="77b3" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">你试图想象某项技能的相对优势和劣势，以确定你需要练习哪些技能。</li><li id="c430" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">你展示了进入公司各个部门的资金，以了解你是如何花钱的。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e214" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我们需要什么？</h1><p id="fb60" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要创建这样的东西，我们需要了解SwiftUI如何使用<code class="fe no np nq nr b">Shape</code>和<code class="fe no np nq nr b">Path</code>类型在显示器上呈现图形。</p><p id="565d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq nr b">Path</code>的工作方式类似于UIKit的<code class="fe no np nq nr b">UIBezierPath</code>和Core Graphics的<code class="fe no np nq nr b">CGPath</code>。开发人员用它来描述一条二维曲线，渲染系统可以在绘制过程中描绘出这条曲线。符合<code class="fe no np nq nr b">Shape</code>协议的类型可以封装一个<code class="fe no np nq nr b">Path</code>,并确保渲染描述与绘制区域完全匹配。</p><p id="6634" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq nr b">Shapes</code>和<code class="fe no np nq nr b">Paths</code>在本文中扮演主角。现在我们对它们有了更多的了解，是时候开始编码了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1de1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我们怎么给这东西编码？</h1><p id="76f6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">让我们从创建图标化的、类似网络的背景开始——这是<code class="fe no np nq nr b">Shape</code>类型的完美用例。这样做时，我们需要考虑两件事:</p><ol class=""><li id="6ef5" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu ns ng nh ni bi translated">我们可能希望重用这些代码来为各种应用程序创建图表，并且我们的图表需要为每个数据集添加正确的轴数。</li><li id="281a" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu ns ng nh ni bi translated">我们可能想要改变网络的粒度。如果我们知道数据只能取<code class="fe no np nq nr b">1</code>和<code class="fe no np nq nr b">5</code>之间的整数值，那么添加一公吨的网格线没有任何好处。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="2e3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的<code class="fe no np nq nr b">RadarChartGrid</code>类型的代码做了一些事情:</p><ol class=""><li id="2b0b" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu ns ng nh ni bi translated">它实现了<code class="fe no np nq nr b">Shape</code>协议，该协议允许它调整<code class="fe no np nq nr b">Path</code>的描述，以适合它所绘制的矩形。</li><li id="d6e3" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu ns ng nh ni bi translated">它使开发人员能够控制数据中类别的数量以及在对轴进行分区时要进行的划分的数量。</li><li id="1e61" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu ns ng nh ni bi translated">它根据可用的维度构造一个<code class="fe no np nq nr b">Path</code>对象。</li></ol><p id="99ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">把轴想象成轮子的辐条。它们从中心的共同原点开始，并且长度都相同。这些性质允许我们把它们当作一个假想圆的半径，并用三角函数画出来。您可以通过查看<code class="fe no np nq nr b">path(in:)</code>方法中的第一个<code class="fe no np nq nr b">for</code>循环来研究细节。</p><p id="dd29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也用三角函数在两个轴之间画线。这些计算发生在嵌套的<code class="fe no np nq nr b">for</code>循环中，接近<code class="fe no np nq nr b">path(in:)</code>方法的末尾。</p><p id="3418" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后需要注意的是，我们将三角函数偏移了<em class="nv"> -π/2 </em>。偏移会旋转图表，使其看起来更平衡，视觉效果更好。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ec7f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">绘制数据</h1><p id="a022" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们绘制数据的方式与绘制背景网页的方式非常相似:使用三角学。看看下面的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="b2ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的<code class="fe no np nq nr b">RadarChartPath</code>在绘制任何东西之前会检查一些先决条件。如果检查失败，我们返回一个空的<code class="fe no np nq nr b">Path</code>对象，它在屏幕上是不可见的。如果它们通过，我们将数据归一化到<code class="fe no np nq nr b">[0, 1]</code>的范围内，并使用归一化的值以与之前相同的方式绘制<code class="fe no np nq nr b">Path</code>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fbbf" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">把所有的放在一起</h1><p id="aa41" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在我们已经有了基础，是时候把所有东西放在一起，制作一个实际的图表视图了:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="763c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">把所有东西放在一起的代码足够简单。我们将背景web和我们的数据形状放入我们的<code class="fe no np nq nr b">body</code>属性内的<code class="fe no np nq nr b">ZStack</code>中。SwiftUI还很年轻，没有提供一种便捷的方式来勾勒和填充单个<code class="fe no np nq nr b">Shape</code>类型，所以我们添加了两次<code class="fe no np nq nr b">RadarChartPath</code>(一次创建填充颜色，另一次创建轮廓)。</p><p id="373e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这段相对简单的代码，我们就可以开始可视化我们的数据了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/c7923c92bf7f5b5a7a67cf61c8a463d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Q9V7z6fEBPbqbrEGmXYHEA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一个示例应用程序显示了我们的雷达图和随机采样的数据集。</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="6c05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有兴趣学习更多关于软件开发的知识吗？<br/> <strong class="lb iu">关注我，在我发布新文章时获得通知。</strong></p><p id="b427" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一次之前，您可以阅读更多关于如何处理复杂编程任务的内容。</p><div class="nx ny gp gr nz oa"><a href="https://medium.com/swlh/how-to-code-when-you-dont-have-a-clue-daa842cfd6ea" rel="noopener follow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">在没有头绪的情况下如何编码</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">分解复杂任务并使其正确的指南。</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">medium.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ks oa"/></div></div></a></div><p id="c1d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以阅读如何在家工作时保持理智。</p><div class="nx ny gp gr nz oa"><a href="https://medium.com/swlh/how-to-stay-sane-as-a-remote-developer-48377bae99d3" rel="noopener follow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">如何作为远程开发者保持理智</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">作为远程开发人员的第一年，我学到了5个最重要的经验。</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">medium.com</p></div></div><div class="oj l"><div class="op l ol om on oj oo ks oa"/></div></div></a></div></div></div>    
</body>
</html>