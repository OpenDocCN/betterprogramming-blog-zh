<html>
<head>
<title>How to Build a Crowdfunding Web3 Dapp</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何建立一个众筹Web3 Dapp</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-a-crowdfunding-web3-dapp-76eb534eddf4?source=collection_archive---------5-----------------------#2022-07-18">https://betterprogramming.pub/how-to-build-a-crowdfunding-web3-dapp-76eb534eddf4?source=collection_archive---------5-----------------------#2022-07-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5e15" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我们买推特吧！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b0071d425eb0e75f1d74cbe9cb429ca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DM0wW3A-fR_F2A9H"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">众筹web 3 dapp——让我们买下Twitter吧！—作者图片</p></figure><p id="412d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在过去的几个月里，科技界一直在热议埃隆·马斯克收购Twitter的消息。收购是否真的会发生还有待观察，但许多Twitter员工和Twitter用户担心这对公司文化和应用本身意味着什么。</p><p id="2853" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我开玩笑地对自己说，“如果我们团结起来，买下Twitter会怎么样？”我没有440亿美元，但也许我们可以众筹？我当然可以创建一个GoFundMe或Kickstarter项目。</p><p id="c917" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我最近也在钻研Web3的世界，它完全是关于去中心化的。因此，我的下一个思路变成了，“使用Web3技术构建一个众筹应用程序需要什么？”</p><p id="cc9d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这篇文章将探讨这一点。我们将考虑众筹应用程序通常如何工作，它们在Web3世界中如何工作，以及我们如何构建自己的众筹Web3去中心化应用程序(“d app”)。我们甚至会包括一些代码样本，以帮助您构建自己的分散式众筹平台。</p><p id="327a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">准备好迎战埃隆了吗？</p><h1 id="0a86" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">众筹应用如何工作</h1><p id="37f3" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">像<a class="ae mr" href="https://www.gofundme.com/" rel="noopener ugc nofollow" target="_blank"> GoFundMe </a>或<a class="ae mr" href="https://www.kickstarter.com/" rel="noopener ugc nofollow" target="_blank"> Kickstarter </a>这样的众筹应用程序允许用户创建新的筹款人，任何人都可以为其捐款。集资者创建者接受捐款，通常是在一定条件下，然后众筹平台拿一小部分钱作为他们的份额。每个人都赢了。</p><p id="faca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于Kickstarter这样的平台来说，必须在截止日期前达到筹资目标才能释放资金。如果目标及时实现，那么募捐者创建者将收到他们项目的资金，并且所有捐助者的信用卡将根据他们的捐助金额收费。如果截止日期过去了，而目标没有实现，那么每个贡献的人都可以拿回他们的钱(或者更确切地说，他们的信用卡没有被扣款)。</p><p id="4574" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这种模式非常有效，很多成功的项目都是由Kickstarter这样的平台资助的。但是如果我们能省去中间人呢？</p><h1 id="d809" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">Web3众筹Dapp如何运作</h1><p id="3046" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">Web3自带交易层，允许用户转移其加密钱包中的资金。热门钱包包括<a class="ae mr" href="https://www.coinbase.com/wallet" rel="noopener ugc nofollow" target="_blank">比特币基地钱包</a>或<a class="ae mr" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank"> MetaMask </a>。</p><p id="72da" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于区块链的分散性，Web3应用通常被称为“dapps”。dapp构建有一个前端UI，它与部署到区块链的智能合约进行交互，这个智能合约充当后端代码和数据库，你可以在典型的Web2应用中看到。</p><p id="07e4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于一个web3众筹dapp，我们可以利用一个智能合同，允许人们从钱包中为某项事业认捐资金，就像Kickstarter活动一样。智能合同可以内置逻辑，只允许众筹项目创始人在目标实现后撤回资金。在此之前，资金将由智能合同托管。</p><p id="10d1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这意味着捐赠者在捐赠时会从他们的钱包中转移资金，但只要目标尚未实现，他们可以随时要求退款。</p><p id="e28a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦目标达到，资金被撤回，接受捐赠的人可以随心所欲地使用这笔钱，所以从技术上来说，他们可以拿钱走人。</p><p id="8cda" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想将这个想法更进一步，我们可以探索<a class="ae mr" href="https://ethereum.org/en/dao/" rel="noopener ugc nofollow" target="_blank">分散自治组织(DAOs) </a>以及它们如何不仅处理众筹，还处理集体所有权和集体决策。然而，现在，我们将只坚持一个简单、聪明的契约。</p><p id="f0c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，考虑到这个高级架构，让我们来看看我们构建的一个实际的Web3众筹dapp！你可以在GitHub 上找到演示应用的所有<a class="ae mr" href="https://github.com/thawkin3/coinbase-crowdfunding-app" rel="noopener ugc nofollow" target="_blank">代码。</a></p><h1 id="8080" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">我们的Web3众筹Dapp</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/738712b47c7edc12803643bc96a4b8b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fO2AMOwJlxgwde_x"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">众筹web 3 dapp——让我们买下Twitter吧！</p></figure><p id="4690" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从用户的角度来看，我们的dapp相当简单。用户访问页面并点击按钮连接他们的钱包。同样，这可以是用户选择的任何加密钱包。</p><p id="8144" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果用户没有加密钱包浏览器扩展，点击该按钮将提示比特币基地钱包的登录用户界面弹出，使新用户可以在几分钟内连接现有的移动钱包或创建一个新的钱包。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/a91a5d22f3535026422f5474182e7112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zyd6vxpCzeIXsxeF"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">比特币基地钱包的入职界面</p></figure><p id="7b76" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">连接钱包后，用户可以通过修改输入字段中的值，然后单击“捐赠”按钮来提交捐赠。(我们在智能合约中设定了0.01以太的最低捐赠金额和10以太的资金目标，但这些值是任意的。)</p><p id="bb72" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">他们还可以点击另外两个按钮来查看为该目标贡献的总金额，或者要求退还他们之前承诺的款项。在用户界面的底部有一个按钮，如果需要，可以重置钱包连接重新开始。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bfdd5bc2d8082e9642cfa8cb6cd6d0c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BQuAtWx8uF4ukLqD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">众筹网站3 dapp——捐款</p></figure><p id="a829" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这就是它的全部功能。</p><p id="be49" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么，我们是如何建造的呢？我们使用了多种技术来创建dapp:</p><ul class=""><li id="7a22" class="mt mu it la b lb lc le lf lh mv ll mw lp mx lt my mz na nb bi translated"><a class="ae mr" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">反应</a>为前端UI</li><li id="eba7" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><a class="ae mr" href="https://soliditylang.org/" rel="noopener ugc nofollow" target="_blank">智能合同的可靠性</a></li><li id="a451" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><a class="ae mr" href="https://remix-project.org/" rel="noopener ugc nofollow" target="_blank">重新混合</a>用于编译和部署智能合同</li><li id="c9f7" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><a class="ae mr" href="https://docs.cloud.coinbase.com/wallet-sdk/docs" rel="noopener ugc nofollow" target="_blank">比特币基地钱包SDK </a>用于连接用户的钱包</li><li id="302a" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><a class="ae mr" href="https://www.coinbase.com/wallet" rel="noopener ugc nofollow" target="_blank">比特币基地钱包</a>和<a class="ae mr" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">元掩码</a>用于发送和接收资金的加密钱包</li><li id="954c" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated">用于备份RPC端点的Infura </li></ul><p id="15d2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们已经在<a class="ae mr" href="https://github.com/thawkin3/coinbase-crowdfunding-app#readme" rel="noopener ugc nofollow" target="_blank">自述文件</a>中概述了所有的设置步骤，所以我们不会一步一步地详细介绍我们是如何构建这个应用的。如果你想跟随或者建立你自己的众筹dapp，我们强烈建议你遵循上面自述文件中的步骤！</p><p id="1814" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里我们强调了提供应用程序主要功能的两个关键文件:用于智能合约的<code class="fe nh ni nj nk b">Crowdfunding.sol</code>文件和用于React前端UI的<code class="fe nh ni nj nk b">App.js</code>文件。</p><p id="c58b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nh ni nj nk b">Crowdfunding.sol</code>档案全文转载如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="dffa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个文件是我们在Remix online IDE中编译和部署的，所以它实际上并不包含在项目repo中。相反，我们引用合同部署的地址，并使用合同的应用程序二进制接口(ABI)中定义的方法。</p><p id="2c22" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">浏览这个文件，你可以看到我们已经为<code class="fe nh ni nj nk b">donate</code>、<code class="fe nh ni nj nk b">getBalance</code>、<code class="fe nh ni nj nk b">withdraw</code>和<code class="fe nh ni nj nk b">returnFunds</code>定义了方法。每个方法都顾名思义。</p><ul class=""><li id="a9c4" class="mt mu it la b lb lc le lf lh mv ll mw lp mx lt my mz na nb bi translated"><code class="fe nh ni nj nk b">donate</code>方法允许用户承诺捐款。</li><li id="9be2" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><code class="fe nh ni nj nk b">getBalance</code>方法显示当前捐赠的总额。</li><li id="1744" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><code class="fe nh ni nj nk b">withdraw</code>方法允许在达到筹款目标的情况下提取资金。</li><li id="9d8c" class="mt mu it la b lb nc le nd lh ne ll nf lp ng lt my mz na nb bi translated"><code class="fe nh ni nj nk b">returnFunds</code>方法允许用户在捐款后如果改变主意，可以要求退还他们承诺的金额。</li></ul><p id="a2a2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们用我们的<code class="fe nh ni nj nk b">App.js</code>文件来看看前端代码，下面也完整地复制了它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="237b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个文件中有很多代码，但是让我们讨论几个亮点。如您所见，我们使用比特币基地钱包SDK来连接用户的钱包。我们使用合同的ABI和部署地址加载众筹合同。我们通过使用<code class="fe nh ni nj nk b">.call()</code>和<code class="fe nh ni nj nk b">.send()</code>与智能合约的方法进行交互，并且我们将点击处理程序绑定到我们的按钮，使应用程序具有交互性。</p><p id="d51e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从高层次来看，这就是所有这些工作方式背后的神奇之处。要了解更多详细的设置说明，我们会再次向您推荐在GitHub 上的<a class="ae mr" href="https://github.com/thawkin3/coinbase-crowdfunding-app#readme" rel="noopener ugc nofollow" target="_blank">自述文件中找到的分步指南。</a></p><h1 id="2118" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">结论</h1><p id="e49f" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">那么，我们今天学到了什么？</p><p id="6fb4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们了解到，Web3技术允许在没有中介机构的情况下进行金融交易。我们了解到，除了将钱从一个人转移到另一个人，我们还可以使用Web3技术来支持众筹。</p><p id="b96d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们探索了如何构建一个简单的众筹dapp，它背后的技术，以及如何将这些技术结合使用，使您能够在几个小时内建立并运行一个应用程序。</p></div></div>    
</body>
</html>