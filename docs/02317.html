<html>
<head>
<title>Deploying a Vue.js App to Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Vue.js应用程序部署到Heroku</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/deploying-a-vue-js-app-to-heroku-d16f95c07a04?source=collection_archive---------0-----------------------#2019-11-22">https://betterprogramming.pub/deploying-a-vue-js-app-to-heroku-d16f95c07a04?source=collection_archive---------0-----------------------#2019-11-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c4aa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在不到五分钟的时间内，从零开始创建Vue.js应用程序并将其部署到Heroku</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/89fff399ee4f547444511e660d867e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XR1dygTOpYGJj0kmxtXHPA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者:Marouen Helali</p></figure><p id="9872" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">先决条件:</p><ul class=""><li id="17e4" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><a class="ae md" href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" rel="noopener ugc nofollow" target="_blank"> Git </a></li><li id="7ac4" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated"><a class="ae md" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">节点</a></li><li id="8969" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated">Vue CLI </li><li id="d33a" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated">Heroku CLI </li><li id="e990" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated"><a class="ae md" href="https://signup.heroku.com/login" rel="noopener ugc nofollow" target="_blank">免费Heroku账号</a></li></ul><p id="fd51" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，使用Vue CLI生成一个新的Vue应用程序:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="4f9d" class="mo mp it mk b gy mq mr l ms mt">vue create &lt;app-name&gt;</span></pre><p id="8d65" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果CLI提示预设，请选择默认。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/414357f9d097bece54556d51052582ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v-558Lj2Lzb7hNwXN64Scg.png"/></div></div></figure><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="7b75" class="mo mp it mk b gy mq mr l ms mt">cd &lt;app-name&gt;</span></pre><p id="79c8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，您已经进入了新的项目目录，让我们试着运行这个应用程序，以确保一切都按预期运行。但首先，我喜欢用<code class="fe mv mw mx mk b">npm start</code>统一运行我的网络应用，Heroku也是。可悲的是，在初始化一个Vue app时，启动命令是不同的(<code class="fe mv mw mx mk b">npm run serve</code>)。让我们迅速改变这一点。在你的项目文件夹中，打开<code class="fe mv mw mx mk b">package.json</code>文件。</p><p id="729a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">包含在<code class="fe mv mw mx mk b">scripts</code>中的花括号表示右边命令的别名。简单地将<em class="my">服务</em>替换为<em class="my">启动</em>。您应该会得到这样的结果:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="b740" class="mo mp it mk b gy mq mr l ms mt">{</span><span id="b9db" class="mo mp it mk b gy mz mr l ms mt">  "name": "vue-heroku",</span><span id="1bb1" class="mo mp it mk b gy mz mr l ms mt">  "version": "0.1.0",</span><span id="c8bf" class="mo mp it mk b gy mz mr l ms mt">  "private": true,</span><span id="bf79" class="mo mp it mk b gy mz mr l ms mt">  "scripts": {</span><span id="e028" class="mo mp it mk b gy mz mr l ms mt">    "<strong class="mk iu">start</strong>": "vue-cli-service serve",</span><span id="f284" class="mo mp it mk b gy mz mr l ms mt">    "build": "vue-cli-service build",</span><span id="9c2b" class="mo mp it mk b gy mz mr l ms mt">    "lint": "vue-cli-service lint"</span><span id="eb87" class="mo mp it mk b gy mz mr l ms mt">  },</span><span id="84c9" class="mo mp it mk b gy mz mr l ms mt">.<br/>.<br/>.</span><span id="4c04" class="mo mp it mk b gy mz mr l ms mt">}</span></pre><p id="0239" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们试一试，回到终端并运行:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="84e3" class="mo mp it mk b gy mq mr l ms mt">npm start</span></pre><p id="24e5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">导航到<a class="ae md" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>，您应该会看到Vue生成的应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/e113584d5e754de875468f2867bf31a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7e4AnpSQwafP0ej4FqsS1g.png"/></div></div></figure><p id="1849" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们的Vue应用是一个简单的前端专用应用。我们可以通过服务器提供服务，也可以静态地提供构建文件。让我们采用第二种选择，它要简单得多。</p><p id="00e6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所需要做的就是向我们的项目添加一个文件，向Heroku添加一个buildpack。在项目repo的根目录下创建一个名为<code class="fe mv mw mx mk b">static.json</code>的文件。补充一下这个内容(<a class="ae md" href="https://cli.vuejs.org/guide/deployment.html#heroku" rel="noopener ugc nofollow" target="_blank">官方来源</a>):</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="fad2" class="mo mp it mk b gy mq mr l ms mt">{<br/>  "root": "dist",<br/>  "clean_urls": true,<br/>  "routes": {<br/>    "/**": "index.html"<br/>  }<br/>}</span></pre><p id="3447" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">至此，我们完成了对项目的编辑。我们可以通过执行以下操作将我们的更改提交给Git:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="4a3f" class="mo mp it mk b gy mq mr l ms mt">git add . &amp;&amp; git commit -m "Heroku config"</span></pre><p id="3c1a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们创建一个生产版本:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="b4e0" class="mo mp it mk b gy mq mr l ms mt">npm run build</span></pre><p id="7580" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，赫罗库来了。假设您有Heroku CLI，运行:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="4fa7" class="mo mp it mk b gy mq mr l ms mt">heroku login</span></pre><p id="c961" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">按任意键，将弹出一个浏览器窗口供您登录:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/ad052b9dd9a5f87959787b40ecb0a94e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HBscj_6m0N5dAhNIt_ZiOA.png"/></div></div></figure><p id="f8c8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们准备使用CLI创建一个新的Heroku应用程序。运行:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="e84a" class="mo mp it mk b gy mq mr l ms mt">heroku create</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/1c52d0dd248c69475d15b4877385d7fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CtsReD5Pzzj0OSvki-cX9Q.png"/></div></div></figure><p id="1f4c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个非常重要的步骤是运行这两个命令:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="16bb" class="mo mp it mk b gy mq mr l ms mt">heroku buildpacks:add heroku/nodejs<br/>heroku buildpacks:add <a class="ae md" href="https://github.com/heroku/heroku-buildpack-static" rel="noopener ugc nofollow" target="_blank">https://github.com/heroku/heroku-buildpack-static</a></span></pre><p id="39c1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将允许Heroku将我们的应用程序作为一个静态应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/15907c48b25488c7427f67f7790c5601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K3mqE09mUqnanMRIWRSOLA.png"/></div></div></figure><p id="d99c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们终于可以执行部署命令了:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="49ea" class="mo mp it mk b gy mq mr l ms mt">git push heroku master</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/abee30e3e26a4947680342b0c45df5cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0KnpAsIxXwbfOaXZDM4daA.png"/></div></div></figure><p id="165e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">导航到远程网址，你应该会看到你的Vue应用。</p><p id="3d9e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里是我的。您还可以在Heroku仪表板中找到您部署的应用程序，如果您想了解更多信息，其中包含许多有用的信息。以下是我的仪表板的外观，以供参考:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/59b1ec2388b9ad5796596b2239becee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FRIYdFa1eycwBLZv2nLzmw.png"/></div></div></figure><p id="f4a7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里有一个到<a class="ae md" href="https://github.com/Marwan01/vue-heroku" rel="noopener ugc nofollow" target="_blank"> Github repo </a>的链接，它包含了用于本文的Vue应用程序，以及所有的修改。</p><p id="b012" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢您的访问，请继续阅读！</p></div></div>    
</body>
</html>