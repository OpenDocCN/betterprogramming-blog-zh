<html>
<head>
<title>How to Add Custom Spacing between Arranged Subviews of UIStackViews?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在UIStackViews的排列好的子视图之间添加自定义间距？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/best-way-to-handle-dynamic-spacing-in-uistackviews-e5c14bcf083e?source=collection_archive---------9-----------------------#2020-04-29">https://betterprogramming.pub/best-way-to-handle-dynamic-spacing-in-uistackviews-e5c14bcf083e?source=collection_archive---------9-----------------------#2020-04-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5932" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">您正在使用间隔视图吗？那么这是必读的</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2dda2c1429b314eba3d22306f5f3172c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UQ1i3N3VY6gV28NF"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@fwaheed17?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Faisal Waheed </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="cf6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">UIStackView 是UIKit提供的一个优秀的组件，它可以自动处理AutoLayout约束。如果你还没用过，你应该开始用了。我可以保证的一件事是，它将为您节省大量时间，尤其是如果您正在以编程方式进行布局。让我们来谈谈如何在一个堆栈视图的排列好的子视图之间增加空间。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="a64a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">权力和限制</h1><p id="74db" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">UIStackViews的一个明显优势是<code class="fe mw mx my mz b">Spacing</code>属性的工作方式。您将其设置为16磅，堆栈视图的每个排列的子视图之间将有一个固定的16磅空间。这本身就已经很神奇了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/3d71d2d88735d7793f31b4953bb07303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*javVsn9TH0FW3kjlH2B8AQ.png"/></div></div></figure><p id="9db4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是这也可以被认为是一种限制。不是所有的布局都需要视图之间这种对称的间距。在那种情况下你该怎么办？</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0df2" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">解决方案1:使用特殊的间隔视图</h1><p id="09a7" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果我们希望第二个和第三个标签之间的间距为32pt，那么我们可以将stack视图的<code class="fe mw mx my mz b">Spacing</code>设置为0pt，并使用具有32pt高度约束的spacer视图。间隔视图只是简单的ui视图，但是因为它们的目的只是保持空间，所以它们被称为间隔视图。请记住，我们还需要添加间隔视图的高度约束。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/e773484e1382e21c84ef977fbf3b2547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J8d1yfgMvqvPBsEC9YKAww.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/01232da03606a456254cb3f3cb115939.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TDduwL7J2unvEArC0-HCAw.png"/></div></div></figure><h2 id="5da8" class="nd ma iq bd mb ne nf dn mf ng nh dp mj lf ni nj ml lj nk nl mn ln nm nn mp no bi translated">我们在这里做了什么？</h2><ol class=""><li id="4c4e" class="np nq iq ky b kz mr lc ms lf nr lj ns ln nt lr nu nv nw nx bi translated">我们将堆栈视图的<code class="fe mw mx my mz b">Spacing</code>设置为0pt。之前是16分。</li><li id="fbcf" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated">我们在第二个和第三个标签之间添加了一个简单的UIView。</li><li id="17cb" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated">我们为刚刚添加的间隔UIView添加了一个常数为32的高度约束。</li></ol><p id="bb87" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以在故事板中看到，标签按照我们想要的方式排列。这是iOS 9和10中的唯一方式。但是从iOS 11开始，苹果推出了一个叫做自定义间距的特殊功能。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0b9d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">解决方案2:自定义间距(iOS 11+)</h1><p id="a6fb" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我知道，添加间隔视图感觉很粗糙。苹果肯定也有这种感觉。也许这就是他们引入自定义间距的原因。不过，这个特性只能在代码中使用。</p><h2 id="69af" class="nd ma iq bd mb ne nf dn mf ng nh dp mj lf ni nj ml lj nk nl mn ln nm nn mp no bi translated">步伐</h2><ol class=""><li id="38d7" class="np nq iq ky b kz mr lc ms lf nr lj ns ln nt lr nu nv nw nx bi translated">创建一个栈视图的<code class="fe mw mx my mz b">IBOutlet</code>和代码中的第二个标签。这样，我们将能够在Swift文件中访问它们。</li><li id="b5d3" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated">删除我们之前添加的间隔视图。所以在故事板中，你的堆栈视图看起来像是标签之间的0磅间距。</li><li id="c419" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated">在<code class="fe mw mx my mz b">viewDidLoad</code>中添加下面的代码并运行项目:</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><h2 id="3ab0" class="nd ma iq bd mb ne nf dn mf ng nh dp mj lf ni nj ml lj nk nl mn ln nm nn mp no bi translated">输出</h2><p id="ec29" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如下图所示，第一个和第二个标签之间没有任何间距，而第二个和第三个标签之间的间距正好是32磅。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/a1702241f550eaa266d44e9d4893bb08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0IFdT57az_Bxwy91F45ibg.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4365" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">下载代码</h1><div class="og oh gp gr oi oj"><a href="https://github.com/akshitzaveri/StackViewCustomSpacing" rel="noopener  ugc nofollow" target="_blank"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">akshitzaveri/StackViewCustomSpacing</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">通过在GitHub上创建一个帐户，为akshitzaveri/StackViewCustomSpacing开发做出贡献。</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">github.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox kp oj"/></div></div></a></div><p id="aeff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读。如果你有任何问题，请让我知道。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="c59c" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">资源</h1><div class="og oh gp gr oi oj"><a href="https://developer.apple.com/documentation/uikit/uistackview/2866023-setcustomspacing" rel="noopener  ugc nofollow" target="_blank"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">setCustomSpacing(_:后:)</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">在指定视图后应用自定义间距</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">developer.apple.com</p></div></div></div></a></div></div></div>    
</body>
</html>