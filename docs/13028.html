<html>
<head>
<title>How to Implement Star Rating Widget With React.js and Optimize It</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React.js实现星级Widget并优化</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-implement-star-rating-widget-with-react-js-and-optimize-it-e3625f3104f?source=collection_archive---------3-----------------------#2022-07-20">https://betterprogramming.pub/how-to-implement-star-rating-widget-with-react-js-and-optimize-it-e3625f3104f?source=collection_archive---------3-----------------------#2022-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="14d6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从头到尾设计它</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e1a24abde01eb2121c591f31872c108b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aQISnNuoThfg6azDeB6ZBw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="c480" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这篇文章中，我想讨论你在前端职位面试中可能遇到的问题——实现星级评定小部件。</p><p id="16ec" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在过去的五个月里，我参加了15次现场面试，收到了来自谷歌、Roku、微软和其他公司的邀请。</p><p id="90e3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您应该阐明需求，并在大约45-50分钟内实现该小部件。</p><h1 id="c423" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">要求</h1><p id="ad37" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">让我们从小部件的需求开始。</p><ul class=""><li id="a34e" class="mo mp iq kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">用动态计数显示星星</li><li id="2e86" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">用户可以选择评级</li><li id="5e21" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">允许以只读模式显示其他用户的评级而不进行编辑</li><li id="fa18" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">更改小部件的标签</li><li id="afce" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">改变空和满状态的开始颜色</li><li id="fd2c" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">扩展设置和悬停事件</li><li id="4166" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">设置星星的大小</li></ul><h2 id="df0d" class="nc ls iq bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">实体模型</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/ab702bb6c2e311aaf25fe36671f54039.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CDvo2thuqM-GL1wBSTJdoA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">星级模型</p></figure><h2 id="84d9" class="nc ls iq bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">组件架构</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/7935f07c95be8fa7da58457908a3c8db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vu-HeEhXVWKTfJ3MFnMGmw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">star widget的组件架构</p></figure><h2 id="27b1" class="nc ls iq bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">组件实现</h2><p id="4bad" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">让我们从开始评级组件的道具开始。有了这些道具，我们就可以配置滑块了。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="ffd5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在<code class="fe ns nt nu nv b">Star Rating</code>组件中，我们需要实现以下内容:</p><ul class=""><li id="237e" class="mo mp iq kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">根据客户需求扩展设置和悬停功能</li><li id="6789" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">在<code class="fe ns nt nu nv b">Context</code>中提供小工具的所有配置</li><li id="d0c2" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">渲染<code class="fe ns nt nu nv b">Label</code>和<code class="fe ns nt nu nv b">StarsList</code></li></ul><p id="41b0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将在组件的本地状态中保存当前评级和悬停值。为了避免道具和钻孔的计数，我建议使用<code class="fe ns nt nu nv b">Context</code>来提供配置和当前的小部件状态。</p><p id="ccd0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe ns nt nu nv b">setRatingFn</code>和<code class="fe ns nt nu nv b">setHoverFn</code>用自定义函数扩展事件并提供当前值。在只读模式下，这些方法被禁用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">星级组件</p></figure><p id="f562" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于标签，我们有一个带有自定义文本的默认函数。如果用户想要使用自定义文本，我们允许他们这样做，并在呈现的<code class="fe ns nt nu nv b">StarRatingLabel</code>组件中使用该方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">星级标签组件</p></figure><p id="e6fe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe ns nt nu nv b">StarsList</code>配置中<code class="fe ns nt nu nv b">Star</code>组件的组件渲染计数。默认值是五。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">星星列表组件</p></figure><p id="d8d4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">每个<code class="fe ns nt nu nv b">Star</code>组件都知道自己的值，我们可以使用该值来设置等级或显示悬停时的变化。使用SVG可以控制图标的颜色、大小和形状。如果你想提供使用其他图标的可能性，用户可以在配置中设置自定义SVG。此外，SVG允许在不损失图像质量的情况下改变尺寸。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">星形组件</p></figure><p id="36d0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">另一种方法是使用自定义字体，为小部件提供不同的图标。</p><h2 id="8310" class="nc ls iq bd lt nd ne dn lx nf ng dp mb le nh ni md li nj nk mf lm nl nm mh nn bi translated">最佳化</h2><p id="3040" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">正如您在<code class="fe ns nt nu nv b">Star</code>组件中看到的，每次创建内联函数时，我们都可以避免这种情况。</p><p id="2dc9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们改变我们的<code class="fe ns nt nu nv b">Star</code>组件代码。需要为星号添加带有值的数据属性，并调用没有内联函数的<code class="fe ns nt nu nv b">onClick</code>、<code class="fe ns nt nu nv b">onMouseEnter</code>和<code class="fe ns nt nu nv b">onMouseLeave</code>方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">星形组件优化</p></figure><p id="7771" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在<code class="fe ns nt nu nv b">Star Rating</code>组件中改变了两种方法:<code class="fe ns nt nu nv b">setRatingFn</code>和<code class="fe ns nt nu nv b">setHoverFn</code>。在这里，我们可以从数据属性中获取值并使用它。</p><p id="d270" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于<code class="fe ns nt nu nv b">OnmouseLeave</code>事件，我们需要将悬停状态设置为空。我们可以通过键入或创建一个单独的方法并调用它来处理这个问题。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">星级组件优化</p></figure><p id="1b36" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">另一种方法是使用单选按钮并从中获取值。</p><h1 id="e0e2" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">结论</h1><p id="7f48" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">现在你知道了如何创建一个自定义的星级小工具，以及你可以向面试官澄清哪些要求。</p><p id="ea2c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你能在<a class="ae nw" href="https://github.com/yantsishko/star-widget-from-scratch-reactjs" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上看到的所有代码。</p><p id="9df7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以阅读的其他文章:</p><ul class=""><li id="9125" class="mo mp iq kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated"><a class="ae nw" rel="noopener ugc nofollow" target="_blank" href="/implementing-image-and-text-slider-with-react-js-and-optimizations-7a16af998548">使用React.js和优化实现图像和文本滑块</a></li></ul><pre class="kg kh ki kj gt nx nv ny nz aw oa bi"><span id="fdc0" class="nc ls iq nv b gy ob oc l od oe"><strong class="nv ir">Want to Read More About Front-End Interviews??</strong></span><span id="f934" class="nc ls iq nv b gy of oc l od oe">Here's <a class="ae nw" href="https://t.me/front_end_interview" rel="noopener ugc nofollow" target="_blank">my blog</a></span></pre><p id="9fb4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">祝你面试好运！</p></div></div>    
</body>
</html>