<html>
<head>
<title>Where Does the SceneDelegate Come From?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SceneDelegate来自哪里？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/where-does-this-scenedelegate-come-from-fb93ed5cb49d?source=collection_archive---------20-----------------------#2019-11-18">https://betterprogramming.pub/where-does-this-scenedelegate-come-from-fb93ed5cb49d?source=collection_archive---------20-----------------------#2019-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7c36" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">首先是AppDelegate，现在是SceneDelegate</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/13817bf72e5fe7908340fd4c78b637ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GT5V-qlxRMuRN28Q8nuBZg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AppDelegate的角色(图片由鹤山Yodagama提供)</p></figure><p id="818f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">先说一下iOS 12及之前版本中<code class="fe lu lv lw lx b">AppDelegate</code>的一些角色和职责。<code class="fe lu lv lw lx b">AppDelegate</code>有两个主要角色:</p><ul class=""><li id="eaa3" class="ly lz it la b lb lc le lf lh ma ll mb lp mc lt md me mf mg bi translated">向应用程序通知进程级事件。当您的进程启动或即将终止时，系统会通知您的应用程序代表。</li><li id="9892" class="ly lz it la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">通知应用程序其用户界面的状态。通过<code class="fe lu lv lw lx b">EnterForeground</code>和<code class="fe lu lv lw lx b">willResignActive</code>等方法，系统会让你知道你的UI状态。</li></ul><p id="f684" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这在iOS 12和之前的版本中完全没问题，因为应用程序只有一个进程，也只有一个用户界面实例与之匹配。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/5eda1eb08139566ac96dec648f6a71d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JjEHCydyr9NvFxUQjtWqcA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe lu lv lw lx b">AppDelegate</code>在iOS 12及之前</p></figure><p id="80e7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe lu lv lw lx b">AppDelegate</code>在iOS 12中大概看起来是这样的(除了可能没这么短)。</p><p id="f020" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当您完成启动选项时，您需要做几件事情。</p><ul class=""><li id="5729" class="ly lz it la b lb lc le lf lh ma ll mb lp mc lt md me mf mg bi translated">您做一些一次性的、非UI的全局设置，比如连接到数据库或初始化您的数据结构。</li><li id="7233" class="ly lz it la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">你设置你的用户界面。</li></ul><p id="7273" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这在12及之前完全有效，但iOS 13的模式无效。为什么？</p><p id="1ae3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为iOS 13及以上版本的应用只是共享一个进程(如iOS 12中)但可能有多个用户界面实例或场景会话(在iPad上，而不是在iPhones上)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/62b2dbb13ebfb3bf048de99c9d80f62c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pxH8psIM8QRo4i3W3ke0kw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">苹果平板电脑</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/11c368aab2c394cab1d59ee1bdb1b193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wEiYp2ClzTUU-UQMjMULkA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">苹果平板电脑</p></figure><p id="7e81" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这意味着<code class="fe lu lv lw lx b">AppDelegate</code>的职责需要改变一点。它仍然负责流程事件和生命周期，但不再负责与UI生命周期相关的任何事情。相反，这些都将由你的<code class="fe lu lv lw lx b">UISceneDelegate</code>来处理。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/e15a96cfd081019d5887363688a9eecb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4cfUNEdg5bGi6eDKWIrFhg.png"/></div></div></figure><p id="f1d0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那对你来说意味着什么？您过去在<code class="fe lu lv lw lx b">AppDelegate</code>中进行的任何UI设置或拆卸工作现在都需要迁移到<code class="fe lu lv lw lx b">SceneDelegate</code>中相应的方法。(IOs 12 I<em class="mq">↠</em>OS 13)——(设置你的应用的第一个视图控制器，称为<em class="mq">根视图控制器，</em>配置启动组件，比如日志和云服务。)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/d6a3e9ac4989be714a548992b951a99c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8DZwz1zsJU3nhKMEOIoSBg.png"/></div></div></figure><p id="7fdf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来:“<a class="ae ms" href="https://medium.com/@yodagamaheshan/using-the-scenedelegate-21631ccaa137" rel="noopener">使用场景委托</a>”</p></div></div>    
</body>
</html>