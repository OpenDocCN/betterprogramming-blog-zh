<html>
<head>
<title>Upgrade From Angular 7 to Angular 8 in 10 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10分钟内从Angular 7升级到Angular 8</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/upgrade-to-angular-8-beta-within-10-minutes-cd831fb8dd0e?source=collection_archive---------0-----------------------#2019-01-29">https://betterprogramming.pub/upgrade-to-angular-8-beta-within-10-minutes-cd831fb8dd0e?source=collection_archive---------0-----------------------#2019-01-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="191a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">升级到Angular的最新版本比你想象的要容易</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1a0fbcef469764b1ee4e670fce666cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M_XOnlAT7CEkkhedW7kZEg.jpeg"/></div></div></figure><p id="a583" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">跟随这篇短文，你可以将你的Angular 7项目升级到新的Angular 8。您需要安装所有带有<code class="fe lq lr ls lt b">@8.0.0</code>标签的角度依赖项。我只是给你必要的信息，没有废话，所以你会很快升级！</p><div class="lu lv gp gr lw lx"><a href="https://medium.com/@jeroenouw/upgrade-to-angular-9-within-10-minutes-671c6fd6174b" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd iu gy z fp mc fr fs md fu fw is bi translated">10分钟内升级到Angular 9</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">现在轻松地将您的项目更新到Angular的新版本</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml ks lx"/></div></div></a></div></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="7ce1" class="mt mu it bd mv mw mx my mz na nb nc nd jz ne ka nf kc ng kd nh kf ni kg nj nk bi translated">您需要安装以下依赖项</h1><h2 id="0c74" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">角度依赖性</h2><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="037a" class="nl mu it lt b gy ob oc l od oe">npm install @angular/animations@8.0.0 @angular/common@8.0.0 @angular/compiler@8.0.0 @angular/core@8.0.0 @angular/forms@8.0.0 @angular/platform-browser@8.0.0 @angular/platform-browser-dynamic@8.0.0 @angular/platform-server@8.0.0 @angular/router@8.0.0</span></pre><p id="af56" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">可选:</p><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="39ae" class="nl mu it lt b gy ob oc l od oe">npm install @angular/cdk@8.0.0 @angular/material@8.0.0</span></pre><h2 id="4cd7" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">角度偏差依赖性</h2><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="a450" class="nl mu it lt b gy ob oc l od oe">npm install @angular-devkit/build-angular@0.800.0 @angular/compiler-cli@8.0.0 @angular/cli@8.0.0 @angular/language-service@8.0.0 --save-dev</span></pre><h2 id="7e0c" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">所有其他相关依赖项</h2><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="8998" class="nl mu it lt b gy ob oc l od oe">npm install core-js@3.1.3 zone.js@0.9.1 rxjs@6.5.0</span></pre><h2 id="29dd" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">相关开发依赖项</h2><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="b330" class="nl mu it lt b gy ob oc l od oe">npm install @types/jasmine@latest @types/node@latest codelyzer@latest karma@latest karma-chrome-launcher@latest karma-cli@latest karma-jasmine@latest karma-jasmine-html-reporter@latest jasmine-core@latest jasmine-spec-reporter@latest protractor@latest tslint@latest webpack@latest rxjs-tslint@latest --save-dev</span></pre><h2 id="4cf0" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">以打字打的文件</h2><p id="f451" class="pw-post-body-paragraph ku kv it kw b kx of ju kz la og jx lc ld oh lf lg lh oi lj lk ll oj ln lo lp im bi translated">您应该已经安装了3.3+版本，TypeScript 3.1和3.2不再受支持。通过将以下内容添加到您的<code class="fe lq lr ls lt b">package.json</code>的底部，将TypeScript添加为对等依赖项。</p><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="3e11" class="nl mu it lt b gy ob oc l od oe">"peerDependencies": {<br/>  "typescript": "3.4.5" <br/>}</span></pre><p id="525b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果这里出现错误，请移除<code class="fe lq lr ls lt b">package-lock.json</code>和<code class="fe lq lr ls lt b">node_modules</code>并运行<code class="fe lq lr ls lt b">npm install</code>。</p></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="4709" class="mt mu it bd mv mw mx my mz na nb nc nd jz ne ka nf kc ng kd nh kf ni kg nj nk bi translated">重要注意事项</h1><h2 id="4539" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">惰性装载</h2><p id="d55f" class="pw-post-body-paragraph ku kv it kw b kx of ju kz la og jx lc ld oh lf lg lh oi lj lk ll oj ln lo lp im bi translated">有一种新的惰性加载方式:</p><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="5ea9" class="nl mu it lt b gy ob oc l od oe">// Before<br/>loadChildren: './path/lazy.module#LazyModule'</span><span id="0fb0" class="nl mu it lt b gy ok oc l od oe">// Now<br/>loadChildren: () =&gt; import('./path/lazy.module').then(m =&gt; m.LazyModule)</span></pre><h2 id="f2d9" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">Tsconfig和tslint</h2><p id="ae9e" class="pw-post-body-paragraph ku kv it kw b kx of ju kz la og jx lc ld oh lf lg lh oi lj lk ll oj ln lo lp im bi translated">在您的<code class="fe lq lr ls lt b">tsconfig.json</code>中，您应该更改以下<code class="fe lq lr ls lt b">compilerOptions</code>:</p><ul class=""><li id="86b4" class="ol om it kw b kx ky la lb ld on lh oo ll op lp oq or os ot bi translated">将<code class="fe lq lr ls lt b">module</code>值设为<code class="fe lq lr ls lt b">esnext</code></li><li id="ad86" class="ol om it kw b kx ou la ov ld ow lh ox ll oy lp oq or os ot bi translated">将<code class="fe lq lr ls lt b">target</code>值设为<code class="fe lq lr ls lt b">es2015</code></li></ul><p id="b06d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">各种<code class="fe lq lr ls lt b">tslint</code>选项已更新名称——参见<a class="ae oz" href="https://github.com/jeroenouw/AngularMaterialFirebase/commit/94cf25ae7711e5074d1fad4ec6065ef16788f8bc" rel="noopener ugc nofollow" target="_blank">此提交</a>了解必要的更改。</p><h2 id="d0ba" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">多填充物</h2><p id="cfbc" class="pw-post-body-paragraph ku kv it kw b kx of ju kz la og jx lc ld oh lf lg lh oi lj lk ll oj ln lo lp im bi translated">在您的<code class="fe lq lr ls lt b">polyfills.ts</code>中，您需要打开的唯一必要线路是:</p><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="162e" class="nl mu it lt b gy ob oc l od oe">import 'zone.js/dist/zone';</span></pre><h2 id="5a6c" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">静态查询迁移</h2><blockquote class="pa pb pc"><p id="f4d8" class="ku kv pd kw b kx ky ju kz la lb jx lc pe le lf lg pf li lj lk pg lm ln lo lp im bi translated">要求所有@ViewChild和@ContentChild查询都有一个“static”标志，指定查询是“静态”还是“动态”。编译器以前会自动对查询进行排序，但在8.0版本中，开发人员需要明确指定需要哪种行为。这是迁移过程中的一项临时要求”</p></blockquote><p id="ffbe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae oz" href="https://angular.io/guide/static-query-migration" rel="noopener ugc nofollow" target="_blank">更多详情在此</a>。示例:</p><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="12a9" class="nl mu it lt b gy ob oc l od oe">// Before<br/>@ViewChild(MatSort) sort: MatSort;</span><span id="16a9" class="nl mu it lt b gy ok oc l od oe">// Now<br/>@ViewChild(MatSort, {static: true}) sort: MatSort;</span></pre></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="ffe1" class="mt mu it bd mv mw mx my mz na nb nc nd jz ne ka nf kc ng kd nh kf ni kg nj nk bi translated">可选注释</h1><h2 id="5e13" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">材料设计</h2><blockquote class="pa pb pc"><p id="55e7" class="ku kv pd kw b kx ky ju kz la lb jx lc pe le lf lg pf li lj lk pg lm ln lo lp im bi translated">“与其从<code class="fe lq lr ls lt b">@angular/material</code>导入，不如从具体组件深度导入。如<code class="fe lq lr ls lt b">@angular/material/button</code>”</p></blockquote><h2 id="75cc" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">常春藤</h2><p id="941a" class="pw-post-body-paragraph ku kv it kw b kx of ju kz la og jx lc ld oh lf lg lh oi lj lk ll oj ln lo lp im bi translated">为了试验<code class="fe lq lr ls lt b">ivy</code>编译器，在<code class="fe lq lr ls lt b">tsconfig.json</code>中添加以下内容:</p><pre class="kj kk kl km gt nx lt ny nz aw oa bi"><span id="e3da" class="nl mu it lt b gy ob oc l od oe">"angularCompilerOptions": {<br/>   "enableIvy": true<br/>}</span></pre><h2 id="74ae" class="nl mu it bd mv nm nn dn mz no np dp nd ld nq nr nf lh ns nt nh ll nu nv nj nw bi translated">角度变化记录</h2><p id="183e" class="pw-post-body-paragraph ku kv it kw b kx of ju kz la og jx lc ld oh lf lg lh oi lj lk ll oj ln lo lp im bi translated">在这里可以找到<a class="ae oz" href="https://github.com/angular/angular/blob/master/CHANGELOG.md#800-2019-05-28" rel="noopener ugc nofollow" target="_blank">的变化和弃用。</a></p></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><p id="0d20" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读！</p></div></div>    
</body>
</html>