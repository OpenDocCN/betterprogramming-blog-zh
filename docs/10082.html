<html>
<head>
<title>3 Coding Mistakes Everybody Makes at Least Once</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3编码错误每个人至少都会犯一次</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/3-coding-mistakes-everybody-makes-at-least-once-d29863031ad4?source=collection_archive---------6-----------------------#2021-11-24">https://betterprogramming.pub/3-coding-mistakes-everybody-makes-at-least-once-d29863031ad4?source=collection_archive---------6-----------------------#2021-11-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="60d6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从别人的错误中吸取教训</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/68a0d61855e7f102c17efccfcec1a126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yDTXgA8nWKZQrN_KYqbftg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">丽塔·莫莱斯在<a class="ae ky" href="https://unsplash.com/s/photos/crash?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="8df9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">说到软件，我们都可以看到它运行得相当流畅。在过去十年中，应用程序的质量显著提高。强大且设计良好的框架给了工程师很大的帮助。它们还警告和阻止开发人员将要执行的危险操作。有了这样的工具，最终产品出现问题的可能性就降到了最低。</p><p id="17a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前的现状是有原因的。开发人员经常犯某些错误，所以他们想出了充当安全网的工具。尽管有工具来防止，其中一些错误仍然有可能犯。很可能，你最近也至少有过一次。</p><h1 id="21fe" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在UI线程上运行</h1><p id="c131" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我个人在作为专业开发人员的第一年经常陷入这种陷阱。我在为桌面和移动平台开发应用程序。作为一名应届毕业生，我不认为这是一个问题。我的应用程序启动并从文件中读取数据。没什么大不了的，谁在乎两秒钟的开始时间？</p><p id="54fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后事情就有了滚雪球效应。随着时间的推移，我们会在应用程序启动时添加越来越多的初始化操作。这正是我参与的一个项目的情况。仅在两个月内，初始化文件就变得更大，并具有复杂的数据结构。我们开始做更多的手术。我们需要填充数据库，加载可视资产，进行计算。</p><p id="0747" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，该应用程序在一台高端计算机上启动大约需要15秒钟。我很抱歉我们的客户使用功率较小的机器。最糟糕的是，在此期间，应用程序没有响应。这都是由于在UI线程上运行操作。用户界面只是忙着做繁重的任务，而不是处理用户动作。一旦应用程序启动，我们必须等待，直到它完成加载。</p><p id="8eae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对我来说，这是一个学习如何使用后台线程以及UI线程的目的是什么的艰难途径。</p><h1 id="5be0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">回调地狱</h1><p id="91fc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">函数式编程范式给了工程师一种新的编写代码的方式。它更小、更简单、更易读。广泛的可识别功能对此很有帮助。看看下面的例子就知道了。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="3af8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，如果使用得当，所有这些看起来都很漂亮。当有10个或更多嵌套层次的函数时，大灾难就来了。阅读和调试代码变得很困难。</p><p id="6460" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是Javascript中最常见的问题之一，但在任何编程语言中都可能发生。甚至有一个专门的<a class="ae ky" href="http://callbackhell.com/" rel="noopener ugc nofollow" target="_blank">网站</a>来解决这个问题，提供如何避免和解决它的建议。</p><p id="c7dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最好的建议是将代码放在小函数中。各种模块中有组织的功能将使可以在其他地方重用的组件解耦。</p><p id="370c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个开发人员都有一个诱惑，那就是让所有的部分彼此更加接近。一旦他们意识到这是不可持续的，他们的思维就会进入一个新的层次。</p><h1 id="78f0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">低效的SQL查询</h1><p id="1647" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">许多解决方案都使用数据库。几乎每个web应用程序都会收集用户数据，并需要将它们存储在某个地方。移动应用程序也组织数据库中的结构化数据。开发人员很乐意应用它们。SQL查询易于阅读。此外，对象关系映射(ORM)允许将查询编写成代码。</p><p id="a525" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，工程师们不断陷入低效查询的陷阱。在只有几项记录的规模上，我们看不到任何问题。然而，当结果是几百万条记录的数据库中的几百条记录时，情况就完全不同了。性能会急剧下降。</p><p id="4d8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我经常犯的一个错误是“N+1查询”。当在与其他表有关系的表上运行查询时，可能会出现这种情况。惰性加载在这里有负面影响。因为对于结果中的每条记录，都将执行另一个额外的查询。</p><p id="5030" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了更好地理解问题，我们假设我们的数据库有两个表:<code class="fe mu mv mw mx b">Employee</code>和<code class="fe mu mv mw mx b">Company</code>。他们是一对多的关系，因为一个员工只能为一个公司工作，而公司可以有很多员工。以下SQL查询可能会在数据加载缓慢的框架中导致此问题。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="ab3b" class="nc lw it mx b gy nd ne l nf ng">SELECT * FROM Company WHERE Employee.name = "James"</span></pre><p id="6cd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果查询返回200家公司，其雇员姓名为James，那么总共将运行200个额外的查询。它们中的每一个都加载了每个雇员的信息。因此，我们总共收到201个查询。</p><p id="0b21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不同的框架和库提供了解决这个问题的多种方法。但是有经验的开发人员可以马上发现这些问题。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="c753" class="lv lw it bd lx ly no ma mb mc np me mf jz nq ka mh kc nr kd mj kf ns kg ml mm bi translated">外卖食品</h1><blockquote class="nt"><p id="b908" class="nu nv it bd nw nx ny nz oa ob oc lu dk translated">智慧不是学校教育的产物，而是终生努力获得的产物。</p><p id="1a85" class="nu nv it bd nw nx ny nz oa ob oc lu dk translated">——阿尔伯特·爱因斯坦</p></blockquote><p id="c7ab" class="pw-post-body-paragraph kz la it lb b lc od ju le lf oe jx lh li of lk ll lm og lo lp lq oh ls lt lu im bi translated">有时候我们需要自己犯错来接受新知识。这是我们向前迈进并防止它们在未来发生的唯一途径。做的时候不要难过。历史上没有人一生中没有犯过任何错误。</p></div></div>    
</body>
</html>