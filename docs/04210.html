<html>
<head>
<title>How to Create a Timer in RxSwift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在RxSwift中创建定时器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-a-timer-in-rxswift-578bf8712678?source=collection_archive---------11-----------------------#2020-03-30">https://betterprogramming.pub/how-to-create-a-timer-in-rxswift-578bf8712678?source=collection_archive---------11-----------------------#2020-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fdef" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">并将其绑定到用户界面元素</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cbf9f84a78aac9453a95874208e7d843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UQrqIA9zpWdzh8NOxMdPRg.png"/></div></div></figure><p id="2992" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">今天，我们将学习如何在<a class="ae lq" href="https://github.com/ReactiveX/RxSwift" rel="noopener ugc nofollow" target="_blank"> RxSwift </a>中轻松创建一个定时器，并将其绑定到屏幕上的一个<code class="fe lr ls lt lu b">UILabel</code>。</p><p id="c197" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该项目的源代码可以在文章的底部找到。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1557" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我们开始吧</h1><p id="0866" class="pw-post-body-paragraph ku kv it kw b kx mu ju kz la mv jx lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">在RxSwift中创建计时器非常简单。在我们的<code class="fe lr ls lt lu b">ViewController</code>中有以下初始结构:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="e76a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将使用<code class="fe lr ls lt lu b">sourceObservable</code>属性来创建我们的计时器。让我们将下面的内容添加到<code class="fe lr ls lt lu b">viewDidLoad()</code>方法中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="1cd4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们使用<code class="fe lr ls lt lu b">.interval</code>操作符创建一个可观察的序列，在每个周期后产生一个值。在我们的例子中，周期是一秒。</p><p id="5991" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，如果我们订阅此<code class="fe lr ls lt lu b">Observable</code>，我们将看到控制台中从零开始打印的值。假设我们想从一开始计数。我们添加了<code class="fe lr ls lt lu b">.map</code>操作符来实现我们想要的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="63ab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们的目标是开始在我们之前创建的<code class="fe lr ls lt lu b">label</code>属性上显示计时器的值。让我们再次使用一个<code class="fe lr ls lt lu b">.map</code>操作符将每个接收到的<code class="fe lr ls lt lu b">Int</code>值转换成一个<code class="fe lr ls lt lu b">String</code>，并将结果字符串绑定到<code class="fe lr ls lt lu b">label</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="2e99" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">结果，我们在屏幕上显示了计时器的值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/8b40de631392504badb6163888a47212.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/1*3Lf2gv2GUoTdwpSVAiVAjw.gif"/></div></figure><p id="18f8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们不要忘记在<code class="fe lr ls lt lu b">viewWillDisappear()</code>方法中处理可观察值并停止我们的计时器:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="a6d5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">太好了！我们已经成功地在RxSwift中实现了一个定时器，并将其绑定到一个用户界面元素。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3e2c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">资源</h1><p id="cec1" class="pw-post-body-paragraph ku kv it kw b kx mu ju kz la mv jx lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">该项目的源代码可以在GitHub上找到:</p><div class="nc nd gp gr ne nf"><a href="https://github.com/zafarivaev/RxSwiftTimer" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">zafarivaev/RxSwiftTimer</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">使用RxSwift实现的简单定时器应用程序。为一篇中等文章而写。- zafarivaev/RxSwiftTimer</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">github.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt ks nf"/></div></div></a></div><p id="f829" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读！</p></div></div>    
</body>
</html>