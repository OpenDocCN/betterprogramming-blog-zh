<html>
<head>
<title>Build a Reusable Stepper as an Angular Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建一个可重复使用的步进器作为角度库</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/angular-library-dynamic-stepper-2ba05ab40228?source=collection_archive---------5-----------------------#2021-02-05">https://betterprogramming.pub/angular-library-dynamic-stepper-2ba05ab40228?source=collection_archive---------5-----------------------#2021-02-05</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><h2 id="999c" class="is it iu bd b dl iv iw ix iy iz ja dk jb translated" aria-label="kicker paragraph"><a class="ae ep" href="https://rakiabensassi.medium.com/list/software-engineering-7a179a23ebfd" rel="noopener">软件工程</a></h2><div class=""/><div class=""><h2 id="cf0c" class="pw-subtitle-paragraph ka jd iu bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">用动态步进器传达您的流程进度</h2></div><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ks"><img src="../Images/c55d33c7c62cd0ec4a7d69b539dafd97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PTYu0099R74RQsrr"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">照片由<a class="ae li" href="https://unsplash.com/@flub?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Maxime Lebrun </a>在<a class="ae li" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="7553" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">机票预订、在SAP中管理发票、创建采购订单——所有这些流程的共同点是它们都涉及许多步骤来完成。例如，采购订单由几个合规性检查点、批准和输入任务组成，以确保及时处理。</p><p id="061c" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">如果您有机会构建一个处理类似流程的企业应用程序，这意味着您的应用程序中的多个模块应该包含相同的用户界面逻辑，并且您必须在许多地方解决相同的问题。</p><p id="ac79" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">你猜对了！您需要实现一个可定制的可重用组件来传达流程的进度，并允许一步一步地提交数据，这就是我们下面要做的。</p></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="84a0" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">我们会做什么</h1><p id="5e2d" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated"><a class="ae li" href="https://medium.com/better-programming/angular-10-new-features-dbc779061dc8" rel="noopener"> Angular </a>材料已经提供了步进器组件，但我们今天的步进器具有增强的UX和:</p><ul class=""><li id="1ae2" class="nj nk iu ll b lm ln lp lq ls nl lw nm ma nn me no np nq nr bi translated">它通过一系列逻辑和编号的步骤来显示进度。</li><li id="d5c8" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">它也可以用于导航。</li><li id="a949" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">它有一个<code class="fe nx ny nz oa b">goBack</code>按钮(在其标题的左侧),可以使用或移除。</li><li id="aefd" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">除了编号的步骤，它的标题支持显示额外的元素，如保存按钮或通知消息。</li><li id="3343" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">我们将创建并发布它作为Angular库，然后我们将在两个不同的模块中使用它:演示应用程序中的产品和订单。</li><li id="d1da" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">我们将利用<code class="fe nx ny nz oa b">ngTemplateOutlet</code>来实现它。</li></ul><p id="70d8" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><strong class="ll je">注意:</strong>你可以在<a class="ae li" href="https://medium.com/better-programming/angular-dynamic-layout-with-ngtemplate-8b6faa995a8f" rel="noopener">上一篇文章</a>中找到关于<code class="fe nx ny nz oa b">ngTemplateOutlet</code>的更多细节，我已经解释了如何使用角度内容投影和动态模板构建一个具有三种布局风格的应用。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ob"><img src="../Images/cd340cd89f82fd0cb0e833ffa0b28566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dr8SgARHduawDYJQTBbd2g.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">在订单模块中使用动态步进器</p></figure><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj oc"><img src="../Images/f9e46d69ffa239ffa888ef999cd8ab3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q1Vcs5uPmsDEkKXy8C2How.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">在产品模块中使用动态步进器</p></figure><p id="e206" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">在您自己的应用程序中，根据您的业务需求，您可以使用不同的数据验证和条件在流程步骤之间导航。</p><p id="79b6" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">介绍到此为止，下面是代码演练。</p></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="7fcb" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">开始</h1><p id="d46f" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated">通过<a class="ae li" href="https://cli.angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular CLI </a>设置您的Angular应用程序。</p><p id="4d2c" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">使用最新版本的Angular创建新的Angular项目:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="0fe1" class="oh mn iu oa b gz oi oj l ok ol">ng new ng-dynamic-stepper-app<br/>cd ng-dynamic-stepper-app</span></pre><p id="92fd" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">此命令还创建以下工作空间和起始项目文件:</p><ul class=""><li id="d9ac" class="nj nk iu ll b lm ln lp lq ls nl lw nm ma nn me no np nq nr bi translated">一个新的工作区，有一个名为<code class="fe nx ny nz oa b">ng-dynamic-stepper-app</code>的根文件夹。</li><li id="0e95" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">一个初始的框架应用程序项目，也叫做<code class="fe nx ny nz oa b">ng-dynamic-stepper-app</code>(在<code class="fe nx ny nz oa b">src</code>子文件夹中)。</li><li id="2473" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">一个端到端的测试项目(在<code class="fe nx ny nz oa b">e2e</code>子文件夹中)。</li><li id="788c" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">相关配置文件。</li></ul><p id="64ec" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">初始应用程序包含一个简单的欢迎应用程序，准备运行。使用Angular CLI通过以下命令生成新的库骨架:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="747d" class="oh mn iu oa b gz oi oj l ok ol">ng generate library dynamic-stepper</span></pre></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="49d7" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">生成库的组件</h1><p id="565e" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated">在为我们的库生成组件时，我们指定了<code class="fe nx ny nz oa b">--project</code>标志来告诉Angular CLI在我们库的文件夹中生成它:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="76e3" class="oh mn iu oa b gz oi oj l ok ol">ng generate component components/dynamic-stepper <strong class="oa je">--project</strong>=dynamic-stepper <strong class="oa je">--export</strong></span><span id="fc2d" class="oh mn iu oa b gz om oj l ok ol">ng generate component components/steps-header <strong class="oa je">--project</strong>=dynamic-stepper <strong class="oa je">--export</strong></span></pre><p id="48c9" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><code class="fe nx ny nz oa b">DynamicStepperComponent</code>是我们的切入点。下面是它的模板和类型脚本代码:</p><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="on oo l"/></div><p class="le lf gk gi gj lg lh bd b be z dk translated">dynamic-stepper.component.html</p></figure><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="on oo l"/></div><p class="le lf gk gi gj lg lh bd b be z dk translated">动态步进器组件</p></figure><p id="d8dc" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><code class="fe nx ny nz oa b">dynamic-stepper</code>组件的动态内容有两个占位符:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="ebaa" class="oh mn iu oa b gz oi oj l ok ol">&lt;ng-container <em class="op">*ngTemplateOutlet</em>="<strong class="oa je">stepsHeader</strong>"&gt;&lt;/ng-container&gt;<br/>&lt;ng-container <em class="op">*ngTemplateOutlet</em>="<strong class="oa je">stepsContent</strong>"&gt;&lt;/ng-container&gt;</span></pre><ol class=""><li id="0c3c" class="nj nk iu ll b lm ln lp lq ls nl lw nm ma nn me oq np nq nr bi translated"><code class="fe nx ny nz oa b">stepsContent</code>是我们将呈现步骤模板的占位符。</li><li id="f2b3" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me oq np nq nr bi translated"><code class="fe nx ny nz oa b">stepsHeader</code>是我们将在子组件<code class="fe nx ny nz oa b">StepsHeaderComponent</code>中呈现步进器标题的地方。最后一个简单地显示了:</li></ol><ul class=""><li id="e624" class="nj nk iu ll b lm ln lp lq ls nl lw nm ma nn me no np nq nr bi translated">可以显示或移除的<code class="fe nx ny nz oa b">goBack</code>按钮</li><li id="651d" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">步骤的名称、顺序和编号。当用户点击一个步骤的名称时，我们会将他们重定向到该步骤。</li><li id="201e" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">该组件支持将与角度内容投影一起注入的额外元素。这些元素应该带有模板id <code class="fe nx ny nz oa b">stepsHeader</code>:</li></ul><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="6fa2" class="oh mn iu oa b gz oi oj l ok ol">&lt;ng-container <em class="op">*ngTemplateOutlet</em>="<strong class="oa je">stepsHeader</strong>"&gt;&lt;/ng-container&gt;</span></pre><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="on oo l"/></div><p class="le lf gk gi gj lg lh bd b be z dk translated">steps-header.component.ts</p></figure></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="a2f6" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">将组件添加到库的入口文件中</h1><p id="d916" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated">我们的库项目有一个入口文件，它定义了它的公共API: <br/> <code class="fe nx ny nz oa b">projects\dynamic-stepper\src\<strong class="ll je">public_api.ts</strong></code></p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj or"><img src="../Images/72d2f460cf009e5622db7079aa8b8c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TNfG7LXDCJgOXiElL3EXyw.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated"><code class="fe nx ny nz oa b">Angular Library, entry file: public_api.ts</code></p></figure><p id="910d" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">我们需要将下面几行添加到条目文件中，告诉<code class="fe nx ny nz oa b">ng-packagr</code>这个组件类应该向我们库的用户公开。</p><p id="7e62" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><strong class="ll je">注:</strong> <code class="fe nx ny nz oa b"><a class="ae li" href="https://github.com/ng-packagr" rel="noopener ugc nofollow" target="_blank">ng-packagr</a></code>是封装Angular库的解决方案，是Angular CLI的一部分。</p><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="on oo l"/></div></figure></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="e4f0" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">对等依赖</h1><p id="ecce" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated">然后安装以下依赖项:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="514a" class="oh mn iu oa b gz oi oj l ok ol">npm add @angular/material<br/>npm add @angular/cdk<br/>npm add @angular/flex-layout</span></pre><p id="670d" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">下一次更新<code class="fe nx ny nz oa b">projects/dynamic-stepper/package.json</code>中的<code class="fe nx ny nz oa b">peerDependencies</code>:</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj os"><img src="../Images/db665910c74bc6ae45a2ba76d3e2fba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GDX7oDPtr781kaUtVkat3Q.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">角度库中的对等依赖</p></figure><p id="76f7" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">当我们创建一个角度库时，我们的工作空间中至少有三个<code class="fe nx ny nz oa b">package.json</code>文件:</p><ul class=""><li id="a832" class="nj nk iu ll b lm ln lp lq ls nl lw nm ma nn me no np nq nr bi translated"><strong class="ll je">工作区根目录</strong> <code class="fe nx ny nz oa b">package.json</code>是我们工作区根目录下的主<code class="fe nx ny nz oa b">package.json</code>文件。</li><li id="cbd3" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated"><strong class="ll je">库项目</strong> <code class="fe nx ny nz oa b">package.json</code>是<code class="fe nx ny nz oa b">projects/dynamic-stepper</code> <strong class="ll je"> </strong>目录，它告诉<code class="fe nx ny nz oa b">ng-packagr</code>哪些信息将进入我们库附带的发行版<code class="fe nx ny nz oa b">package.json </code>。</li><li id="db6d" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated"><strong class="ll je">库分布</strong> <code class="fe nx ny nz oa b">package.json</code>是在我们构建库的时候由<code class="fe nx ny nz oa b">dist/dynamic-stepper </code>目录中的<code class="fe nx ny nz oa b">ng-packagr</code>生成的。我们图书馆出版的是<code class="fe nx ny nz oa b">package.json</code>。</li></ul></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="8263" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">样式表</h1><p id="11e9" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated">我们现在必须通过向<code class="fe nx ny nz oa b">projects/dynamic-stepper/src/lib/components/dynamic-stepper/dynamic-stepper.component.scss</code>和<code class="fe nx ny nz oa b">src/styles.scss</code>添加下面一行来导入Angular主题:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="74cf" class="oh mn iu oa b gz oi oj l ok ol">@import “~@angular/material/prebuilt-themes/indigo-pink.css”;</span></pre><p id="7978" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">通过向<code class="fe nx ny nz oa b">head</code>块中的<code class="fe nx ny nz oa b">src/index.html</code>添加以下行，从Google API导入字体:</p><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="on oo l"/></div><p class="le lf gk gi gj lg lh bd b be z dk translated">index.html</p></figure></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="ac53" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">出版</h1><p id="5676" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated">现在，我们可以使用Angular CLI命令来构建、测试和lint项目:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="7d0c" class="oh mn iu oa b gz oi oj l ok ol">ng build dynamic-stepper<br/>ng test dynamic-stepper<br/>ng lint dynamic-stepper</span></pre><p id="85e2" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">为了能够发布一个包，我们需要注册一个npm帐户。如果您已经有一个npm企业配置文件，您可以为不同的注册表创建第二个配置文件，例如公共的<strong class="ll je"> <em class="op"> </em> </strong> npm注册表。要为开源概要文件设置<a class="ae li" href="https://docs.npmjs.com/configuring-your-registry-settings-as-an-npm-enterprise-user" rel="noopener ugc nofollow" target="_blank">公共注册表</a>，您需要运行以下命令:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="5085" class="oh mn iu oa b gz oi oj l ok ol">npm config set registry <a class="ae li" href="https://registry.npmjs.com" rel="noopener ugc nofollow" target="_blank">https://registry.npmjs.com</a></span></pre><p id="2c1b" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">然后，您可以登录npm:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="27b4" class="oh mn iu oa b gz oi oj l ok ol">npm login</span></pre><p id="c2b4" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">这将提示您输入npm凭据和电子邮件。最后，您可以通过运行<code class="fe nx ny nz oa b">package</code> <strong class="ll je"> <em class="op"> </em> </strong>和<code class="fe nx ny nz oa b">publish</code> <strong class="ll je"> <em class="op"> </em> </strong>任务来发布库(打包在<code class="fe nx ny nz oa b">.tgz</code>文件中):</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="5798" class="oh mn iu oa b gz oi oj l ok ol">npm run <strong class="oa je">package</strong><br/>npm <strong class="oa je">publish</strong> ./dist/dynamic-stepper/dynamic-stepper-0.0.1.tgz</span></pre><p id="ab5f" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">package <strong class="ll je"> <em class="op"> </em> </strong> npm任务是一个定制任务，我们需要将它添加到我们工作区根目录下的主<code class="fe nx ny nz oa b">package.json</code>文件中:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="7527" class="oh mn iu oa b gz oi oj l ok ol">"scripts": {<br/>    ...</span><span id="3d09" class="oh mn iu oa b gz om oj l ok ol">    "<strong class="oa je">package</strong>": "npm run build_lib &amp;&amp; npm run copy-readme &amp;&amp; npm run npm_pack",</span><span id="fd94" class="oh mn iu oa b gz om oj l ok ol">    "npm_publish": "<strong class="oa je">npm publish</strong> ./dist/dynamic-stepper/dynamic-stepper-0.0.1.tgz",<br/>    ....<br/>},</span></pre><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ot"><img src="../Images/e467390538e535b194554e84d2e4bb83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U1qe0pT2j0-6KG5D0sbdyA.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">package.json中的“包”任务</p></figure><p id="b813" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">Npm允许我们发布一次特定的名称和版本组合。因此，每次想要在npm上发布库的更新时，都需要更改版本。</p></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="651a" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">使用图书馆</h1><p id="8426" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated">要在项目中使用动态步进角度库，您只需运行以下命令，该命令将像安装任何其他npm依赖项一样安装它:</p><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="24ac" class="oh mn iu oa b gz oi oj l ok ol">npm install <strong class="oa je">dynamic-stepper</strong></span></pre><p id="3c28" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">在我们上面的应用程序<code class="fe nx ny nz oa b">ng-dynamic-stepper-app</code>中，我生成了两个模块来展示如何使用stepper库:</p><ul class=""><li id="3134" class="nj nk iu ll b lm ln lp lq ls nl lw nm ma nn me no np nq nr bi translated">在<code class="fe nx ny nz oa b">orders</code>模块中，<code class="fe nx ny nz oa b">order-creation.component.html</code>使用了动态步进器，其中包含两个步骤:订单类型和订单详细信息。</li><li id="e875" class="nj nk iu ll b lm ns lp nt ls nu lw nv ma nw me no np nq nr bi translated">在<code class="fe nx ny nz oa b">products</code>模块中，在<code class="fe nx ny nz oa b">product-detail.component.html</code>中使用了动态步进器，并在步进器标题上显示了一个额外的保存按钮和四个步骤:基本信息、定价、库存和发货。</li></ul><pre class="kt ku kv kw gu od oa oe of aw og bi"><span id="e220" class="oh mn iu oa b gz oi oj l ok ol">ng generate module products<br/>ng generate module orders</span></pre><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ou"><img src="../Images/84ac6f89323027c7df2452fa0522bb98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQQ5zbbGhJTZZOMtCyFKFQ.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">测试应用程序和app-routing.ts</p></figure><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="on oo l"/></div><p class="le lf gk gi gj lg lh bd b be z dk translated">order-creation.component.html</p></figure><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="on oo l"/></div><p class="le lf gk gi gj lg lh bd b be z dk translated">product-detail.component.html</p></figure></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="8ec5" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">最后的想法</h1><p id="df40" class="pw-post-body-paragraph lj lk iu ll b lm ne ke lo lp nf kh lr ls ng lu lv lw nh ly lz ma ni mc md me in bi translated">在这篇文章中，我们已经学习了如何建立一个步进器作为一个角度库。这对于大型应用程序和跨多个项目共享特别有帮助。我们还看到了如何在两种不同的常见场景中使用步进器。</p><p id="e2b8" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">你可以在<a class="ae li" href="https://github.com/rakia/ng-dynamic-stepper" rel="noopener ugc nofollow" target="_blank">这个GitHub库</a>里找到源代码。此应用的第二部分可从以下网址获得:</p><div class="ov ow gq gs ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/angular-custom-autocomplete-7ffb479477e7"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd je gz z fq pd fs ft pe fv fx jd bi translated">用动态表格构建一个自定义的自动完成搜索角应用程序</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">玩CSS覆盖和有角度的材料组件</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">better编程. pub</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm lc oy"/></div></div></a></div><p id="f685" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">第三部分:</p><div class="ov ow gq gs ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/build-a-hand-pose-detector-web-app-powered-by-machine-learning-62131ec43db5"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd je gz z fq pd fs ft pe fv fx jd bi translated">构建由机器学习驱动的手部姿势检测器Web应用程序</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">结合机器学习和网络开发</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">better编程. pub</p></div></div><div class="ph l"><div class="pn l pj pk pl ph pm lc oy"/></div></div></a></div></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><p id="e68d" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">🧠💡感谢阅读！我为一群聪明、好奇的人写关于工程、技术和领导力的文章。<a class="ae li" href="https://rakiabensassi.substack.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll je">加入我的免费电子邮件简讯，独家获取</strong> </a> <strong class="ll je"> </strong>或在此注册Medium<a class="ae li" href="https://rakiabensassi.medium.com/membership" rel="noopener"/>。</p></div></div>    
</body>
</html>