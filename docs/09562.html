<html>
<head>
<title>Working With SwiftUI Lists Features for iOS 15</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI列出了iOS 15的功能</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftui-lists-after-wwdc21-a8e5184e23b3?source=collection_archive---------5-----------------------#2021-09-09">https://betterprogramming.pub/swiftui-lists-after-wwdc21-a8e5184e23b3?source=collection_archive---------5-----------------------#2021-09-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e229" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">WWDC 21版后SwiftUI列表入门</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/258417cf90213c868bd5f2aa8859303b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Qj9eyt5UfS1ZSUbD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@paicooficial?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Paico official</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="7cc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列表是现代应用程序中使用最广泛的组件之一。它们使应用程序能够在一列中显示多行数据。在UIKit中，可以使用<code class="fe lv lw lx ly b">UITableView</code>开发列表，开发人员要编写大量代码来实现列表。然而，在SwiftUI中，可以使用<code class="fe lv lw lx ly b">List</code>视图轻松实现列表。感谢<code class="fe lv lw lx ly b">List</code>，现在开发者可以:</p><ul class=""><li id="eab2" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">用更短更简洁的代码实现列表。</li><li id="0c76" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">用更少的努力给他们的列表更好的外观和感觉。</li><li id="168d" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">配置每一行包含各种视图，如<code class="fe lv lw lx ly b">Image</code>、<code class="fe lv lw lx ly b">Text</code>、<code class="fe lv lw lx ly b">Button</code>等。</li><li id="6a1e" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">使用相同的代码将应用程序扩展到其他苹果平台，如iPadOS和macOS。</li></ul><p id="e5c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最激动人心的部分是<a class="ae ky" href="https://developer.apple.com/wwdc21/" rel="noopener ugc nofollow" target="_blank"> WWDC21 </a>宣布了大量集成到<code class="fe lv lw lx ly b">List</code>中的特性，使得它不仅更加用户友好，也更加开发者友好。随着本教程的深入，您将逐渐熟悉以下功能:</p><ul class=""><li id="cb64" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated"><code class="fe lv lw lx ly b">Text</code>视图中的降价支持。</li><li id="fa9a" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><code class="fe lv lw lx ly b">.formatted</code>修饰符，简洁简单的日期和时间格式。</li><li id="6172" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">的。<code class="fe lv lw lx ly b">refreshable</code>修改刷新列表。</li><li id="5a02" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">整合搜索的<code class="fe lv lw lx ly b">.searchable</code>修改器。</li><li id="a9e0" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><code class="fe lv lw lx ly b">.swipeActions</code>在<code class="fe lv lw lx ly b">List</code>中。</li><li id="57c0" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">使用<code class="fe lv lw lx ly b">.headerProminence</code>使<code class="fe lv lw lx ly b">List</code>部分标题更加清晰可见。</li><li id="b3c9" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">使用<code class="fe lv lw lx ly b">.listRowSeparator</code>和<code class="fe lv lw lx ly b">.listRowSeparatorTint</code>分别改变<code class="fe lv lw lx ly b">List</code>行分隔符的可见性和颜色。</li></ul><blockquote class="mn mo mp"><p id="2bc5" class="kz la mq lb b lc ld ju le lf lg jx lh mr lj lk ll ms ln lo lp mt lr ls lt lu im bi translated">注意:你需要Xcode 13。本教程是使用beta 5编写的。要在iOS设备上运行这个项目，必须运行iOS 15 beta。</p></blockquote><h1 id="64b4" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">入门指南</h1><p id="4062" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">从GitHub库下载starter项目。</p><p id="aca9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行起始项目。你会看到<code class="fe lv lw lx ly b">FavMovies</code>应用程序的屏幕显示我最喜欢的电影，如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/4c5089c8992e2369e4c481038e470550.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*7Htq53whxNLrcQJtrz2BzA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e739" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">失望？不要担心，许多变化正在发生。</p><p id="1d2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，看看文件夹结构。除了样板文件和文件夹，您还会看到五个文件夹:<code class="fe lv lw lx ly b">Extensions</code>、<code class="fe lv lw lx ly b">Helpers</code>、<code class="fe lv lw lx ly b">JSON Files</code>、<code class="fe lv lw lx ly b">Models</code>和<code class="fe lv lw lx ly b">Views</code>。</p><p id="2ebc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">Extensions</code>包含一个处理JSON解码的扩展<code class="fe lv lw lx ly b">Bundle</code>。您将使用它来解码<code class="fe lv lw lx ly b">JSON Files</code>的JSON文件。</p><p id="ceea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">Helpers</code>包含一个用于生成预览数据的文件。</p><p id="29e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，<code class="fe lv lw lx ly b">Models</code>包含<code class="fe lv lw lx ly b">Movie.swift</code>和<code class="fe lv lw lx ly b">Genre.swift</code>，它们将被用作将被列入FavMovies的电影的模型。</p><p id="de06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，<code class="fe lv lw lx ly b">Views</code>包含了app的视图。目前，它只包含<code class="fe lv lw lx ly b">ContentView.swift</code>。</p><h1 id="4e77" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">建立你的清单</h1><p id="8956" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">是时候建立一个电影列表并在FavMovies中展示了。打开<code class="fe lv lw lx ly b">Models</code>中的<code class="fe lv lw lx ly b">Movie.swift</code>找到型号<code class="fe lv lw lx ly b">Movie</code>。它符合<code class="fe lv lw lx ly b">Identifiable</code>，因为您将使用它来构建一个列表，其中每个<code class="fe lv lw lx ly b">Movie</code>值使用其<code class="fe lv lw lx ly b">id</code>获得一个惟一的标识。它也符合<code class="fe lv lw lx ly b">Codable</code>，因为您将使用这个模型来解码JSON。</p><p id="da50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了<code class="fe lv lw lx ly b">id</code>，你还会在<code class="fe lv lw lx ly b">Movie</code>中看到<code class="fe lv lw lx ly b">name</code>、<code class="fe lv lw lx ly b">desc</code>、<code class="fe lv lw lx ly b">releaseDate</code>和<code class="fe lv lw lx ly b">genre</code>等其他属性。</p><p id="95ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">genre</code>为<code class="fe lv lw lx ly b">Genre</code>型，是符合<code class="fe lv lw lx ly b">String</code>、<code class="fe lv lw lx ly b">CaseIterable</code>、<code class="fe lv lw lx ly b">Codable</code>的<code class="fe lv lw lx ly b">enum</code>，有多种情况。</p><h2 id="50e8" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">为列表设置数据源</h2><p id="8f82" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">如果必须生成电影数据的想法困扰着你，starter已经解决了这个问题。在<code class="fe lv lw lx ly b">JSON Files</code>中，您将看到<code class="fe lv lw lx ly b">movies.json</code>，您将使用它来生成电影数据。</p><p id="b43f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开<code class="fe lv lw lx ly b">Views</code>中的<code class="fe lv lw lx ly b">ContentView.swift</code>。使用下面给出的代码行在<code class="fe lv lw lx ly b">ContentView</code>中创建一个名为<code class="fe lv lw lx ly b">movies</code>的状态:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="d347" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面给出的代码创建了一个状态变量<code class="fe lv lw lx ly b">movies</code>，并使用<code class="fe lv lw lx ly b">Bundle</code>的<code class="fe lv lw lx ly b">decode(_:from:)</code>将解码JSON数据生成的电影数据存储在<code class="fe lv lw lx ly b">movies.json</code>中。至此，您已经完成了列表数据源的设置。</p><h2 id="cb9a" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">显示列表中的数据</h2><p id="5de3" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">是时候使用刚刚设置的数据源在列表中显示电影的详细信息了。</p><p id="e474" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开<code class="fe lv lw lx ly b">ContentView.swift</code> <strong class="lb iu"> </strong>，将<code class="fe lv lw lx ly b">ContentView</code>的<code class="fe lv lw lx ly b">body</code>中的<code class="fe lv lw lx ly b">Text(“My Favorite Movies”)</code>一行替换为:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="5626" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面给出的代码通过迭代<code class="fe lv lw lx ly b">movies</code>中的项目创建了一个<code class="fe lv lw lx ly b">List</code>。<code class="fe lv lw lx ly b">movie</code>参数捕获每次迭代的值，并且<code class="fe lv lw lx ly b">List</code>闭包中的<code class="fe lv lw lx ly b">Text</code>视图访问<code class="fe lv lw lx ly b">movie</code>的<code class="fe lv lw lx ly b">name</code>以显示电影的名称。</p><p id="de5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行以查看类似于下面给出的屏幕截图的屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/f90261e7c279b0c471424d4ce40d66a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0i0yEnaogex5ZG7aoHOAmg.png"/></div></div></figure><p id="1f42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">FavMovies</code>现在显示包含一些电影名称的列表。</p><blockquote class="mn mo mp"><p id="d799" class="kz la mq lb b lc ld ju le lf lg jx lh mr lj lk ll ms ln lo lp mt lr ls lt lu im bi translated">注意:在WWDC21之前，<code class="fe lv lw lx ly b">List</code>需要一个<code class="fe lv lw lx ly b">id</code>参数来遍历数组的元素。</p><p id="f837" class="kz la mq lb b lc ld ju le lf lg jx lh mr lj lk ll ms ln lo lp mt lr ls lt lu im bi translated">但是，在上面给出的代码中，您使用了WWDC21之后引入的语法，消除了必须将参数传递给<code class="fe lv lw lx ly b">id</code>的麻烦。</p></blockquote><h1 id="8724" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">额外的电影信息，请。</h1><p id="ca40" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">您已成功在收藏电影中显示电影名称。你为什么不通过显示电影的描述和上映日期来使列表更有信息量呢？</p><h2 id="5079" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">在每个列表项中显示额外信息</h2><p id="16ca" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">由于您将需要更多的视图来显示行中的额外信息，一个好的办法是创建一个单独的视图，这样所有的代码就不会只在<code class="fe lv lw lx ly b">ContentView</code>中变得混乱。</p><p id="c96a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，在<code class="fe lv lw lx ly b">Views</code>中创建一个新的SwiftUI视图<code class="fe lv lw lx ly b">MovieListView.swift</code>。该视图将显示包含每部电影的名称、描述和上映日期的列表。它需要数据，您将设置<code class="fe lv lw lx ly b">MovieListView</code>从<code class="fe lv lw lx ly b">ContentView</code>获取数据。</p><p id="33d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">MovieListView</code>中，使用以下代码添加一个绑定变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="4312" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦添加了上面给出的行，<code class="fe lv lw lx ly b">MovieListView_Previews</code>就会显示一条错误消息:</p><blockquote class="mn mo mp"><p id="3a99" class="kz la mq lb b lc ld ju le lf lg jx lh mr lj lk ll ms ln lo lp mt lr ls lt lu im bi translated">调用中缺少参数“movies”的参数。</p></blockquote><p id="bcd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用下面一行代码替换<code class="fe lv lw lx ly b">MovieListView()</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="4291" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于<code class="fe lv lw lx ly b">MovieListView</code>有一个绑定，您通过调用<code class="fe lv lw lx ly b">PreviewMovieGenerator.getPreviewMovie()</code>给了它一个常量<code class="fe lv lw lx ly b">[Movie]</code>值，并将其存储在一个数组中。现在错误应该消失了。</p><p id="181a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">必要的设置已经基本完成。用以下代码替换<code class="fe lv lw lx ly b">MovieListView</code>中的<code class="fe lv lw lx ly b">Text(“Hello, World!”)</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="0b30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">给定的代码创建一个<code class="fe lv lw lx ly b">List</code>,它的每次迭代都包含一个<code class="fe lv lw lx ly b">VStack</code>,保存显示每部电影的名称、描述和上映日期的<code class="fe lv lw lx ly b">Text</code>视图。另外，几个<code class="fe lv lw lx ly b">Spacer</code>视图用于增加<code class="fe lv lw lx ly b">Text</code>视图之间的间距。</p><p id="1d51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，用以下内容替换<code class="fe lv lw lx ly b">List</code>视图及其在<code class="fe lv lw lx ly b">ContentView</code>中的内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="bf39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码调用<code class="fe lv lw lx ly b">MovieListView</code>的初始化器，并将<code class="fe lv lw lx ly b">$movies</code>绑定传递给它，这样<code class="fe lv lw lx ly b">ContentView</code>就成为了<code class="fe lv lw lx ly b">MovieListView</code>的唯一真实来源。因此，如果<code class="fe lv lw lx ly b">MovieListView</code>的<code class="fe lv lw lx ly b">movies</code>绑定变量的数据发生变化，它也会反映到<code class="fe lv lw lx ly b">ContentView</code>的<code class="fe lv lw lx ly b">movies</code>状态变量中。</p><p id="87b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，<code class="fe lv lw lx ly b">ContentView</code>的身体应该看起来如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="e274" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行。您将看到一个屏幕，上面有一个列表，显示不同电影的名称、描述和上映日期，如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/7da29fb06f0d3049b91ab31c46ae0aad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MgnXfqhIkXxL2hAYNlc8Yg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示电影名称、描述和发行日期的列表</p></figure><h2 id="26f0" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">使用降价和日期格式美化列表项</h2><p id="2375" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">虽然FavMovies现在显示电影名称、描述和上映日期，但由于缺乏适当的文本格式，该列表看起来并不美观。此外，由于没有适当的日期格式，您可以在发布日期中看到不必要的细节。现在，这就是<code class="fe lv lw lx ly b">Text</code>视图中的降价支持和<code class="fe lv lw lx ly b">.formatted</code>修改器的作用。</p><p id="7b75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">WWDC21宣布SwiftUI内置支持渲染Markdown。它支持粗体、斜体、链接、删除线和等宽格式，并且易于使用。您可以简单地在视图中包含Markdown语法，并相应地设置文本格式。</p><p id="af6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="f2b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面给出的代码创建了一个带有<code class="fe lv lw lx ly b">Text</code>视图的<code class="fe lv lw lx ly b">VStack</code>，其中包含带有Markdown语法的文本。它产生的结果显示在下面的屏幕截图中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/3b1c56fad464171b0b04620f389b57f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d2QTqsdR6WXTzHMop3ezig.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">包含带标记的文本视图的VStack</p></figure><p id="9cde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于链接的一个有趣的事情是，当它们被点击时，它们会把你带到它们所链接到的网页。</p><p id="2c9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，开始编码。打开<code class="fe lv lw lx ly b">MovieListView.swift</code>，用以下代码替换<code class="fe lv lw lx ly b">VStack</code>及其内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="de3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面给出的代码创建了一个包含带有Markdown语法的<code class="fe lv lw lx ly b">Text</code>视图的<code class="fe lv lw lx ly b">VStack</code>。第一个<code class="fe lv lw lx ly b">Text</code>视图显示粗体电影名称，而第二个视图显示斜体电影描述。</p><p id="cb07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行以查看变化。您的列表应该类似于下面给出的屏幕截图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/0e873956631605845b5c2a91ba4d7a3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KPnBvqqTOB9uOQvF6zYTQg.png"/></div></div></figure><p id="a93b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">视图中的Markdown支持使得文本格式化变得简单快捷。然而，仍然有一个问题——发布日期。当涉及到发布日期时，只显示月、日和年就足够了。所以，你应该使用<code class="fe lv lw lx ly b">.formatted</code>去掉不必要的东西(而不是<code class="fe lv lw lx ly b">DateFormatter</code>，这是一个更长的过程)。</p><p id="d994" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">.formatted</code>很简单。只需考虑下面给出的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="737b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面给出的行中，<code class="fe lv lw lx ly b">Text</code>视图通过使用<code class="fe lv lw lx ly b">Date</code>的<code class="fe lv lw lx ly b">.formatted</code>修饰符格式化来显示当前日期。<code class="fe lv lw lx ly b">.formatted</code>接受一个<code class="fe lv lw lx ly b">FormatStyle</code>作为参数，在上面给出的代码中，<code class="fe lv lw lx ly b">FormatStyle</code>是<code class="fe lv lw lx ly b">dateTime</code>。然后，访问<code class="fe lv lw lx ly b">dateTime</code>的<code class="fe lv lw lx ly b">year()</code>、<code class="fe lv lw lx ly b">day()</code>和<code class="fe lv lw lx ly b">month()</code>，得到如下结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/3174709509cd361b73ad8ac264b8cf07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vN9PnB7Koq2_n2xOOnBG8A.png"/></div></div></figure><p id="aee9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太棒了，你只用一行代码就格式化了日期。我们使用<code class="fe lv lw lx ly b">DateFormatter</code>并编写多行代码来获得想要的日期格式的日子已经一去不复返了。</p><p id="9f93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前，月份名称是缩写形式，但是如果您想显示它的完整形式呢？</p><p id="c9a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只需在<code class="fe lv lw lx ly b">month()</code>中传递<code class="fe lv lw lx ly b">.wide</code>参数。<code class="fe lv lw lx ly b">month()</code>有一个<code class="fe lv lw lx ly b">Date.FormatStyle.Symbol.Month</code>类型的参数<code class="fe lv lw lx ly b">format</code>，该参数的默认值为<code class="fe lv lw lx ly b">.abbreviated</code>。通过传递<code class="fe lv lw lx ly b">.wide</code>，你明确地说你想要这个月的宽版本。尝试下面给出的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="7e31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在给定的代码中，<code class="fe lv lw lx ly b">.wide</code>参数在<code class="fe lv lw lx ly b">month()</code>中传递。因此，结果将类似于下面给出的屏幕截图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/043125b099ec658295cb22136c1a97ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1fNzuhRSfISSawyBo6VlWg.png"/></div></div></figure><p id="5d1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，你就可以显示月份的全称了。</p><p id="a393" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要在<code class="fe lv lw lx ly b">FavMovies</code>中实现这一点，打开<code class="fe lv lw lx ly b">MovieListView.swift</code>并用以下代码替换显示发布日期的<code class="fe lv lw lx ly b">Text</code>视图:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="72c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">给定代码使用<code class="fe lv lw lx ly b">.formatted</code>格式化日期，并且只显示年、日和月(完整形式)。</p><p id="07f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行。您将看到类似于下面给出的屏幕截图的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/1b3494389fa19d6acd71533cda52c6cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DJx41dqsV2z0NaPvf4KJtQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带格式化日期的电影列表</p></figure><p id="768b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，<code class="fe lv lw lx ly b">FavMovies</code>用美化的文本和日期显示电影列表。</p><h1 id="205a" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">添加“酷”的拉动式更新</h1><p id="2ce6" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">如果您喜欢拉至刷新功能，那么您也会喜欢这一部分，因为您将了解如何实现它。另外，实现它的容易程度可能会让你惊叹不已，因为你只需要在你的<code class="fe lv lw lx ly b">List</code>中使用<code class="fe lv lw lx ly b">.refreshable(action:)</code>修饰符。</p><p id="b1ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">action</code>参数是一个异步动作，当用户在其iOS或iPadOS应用程序中下拉列表时，SwiftUI会执行该动作。您使用该参数加载新数据，当新数据加载时，SwiftUI在列表顶部显示一个刷新指示器。很简单，对吧？</p><p id="5127" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先要建立的是加载新数据的机制。如果您打开<code class="fe lv lw lx ly b">JSON Files</code>，您将看到另一个名为<code class="fe lv lw lx ly b">more_movies.json</code>的JSON文件，其中包含一组新的电影数据。您将解码该文件以生成新的附加数据。</p><p id="1430" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转到<code class="fe lv lw lx ly b">ContentView.swift</code>并使用以下代码创建<code class="fe lv lw lx ly b">refreshMovieList()</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="7814" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">给定的代码创建<code class="fe lv lw lx ly b">refreshMovieList()</code>，附加解码<code class="fe lv lw lx ly b">more_movies.json</code>和<code class="fe lv lw lx ly b">movies.json</code>生成的两个数组，并将结果存储在<code class="fe lv lw lx ly b">movies</code>中。</p><p id="9c14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，在<code class="fe lv lw lx ly b">ContentView</code>，下面。<code class="fe lv lw lx ly b">navigationTitle(“My Favorite Movies”)</code>，添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="9d12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你对<code class="fe lv lw lx ly b">MovieListView</code>应用了<code class="fe lv lw lx ly b">.refreshable(action:)</code>修改器，因为它的<code class="fe lv lw lx ly b">body</code>返回你想要刷新的<code class="fe lv lw lx ly b">List</code>。因此，当执行拉至刷新时，从<code class="fe lv lw lx ly b">.refreshable(action:)</code>的<code class="fe lv lw lx ly b">action</code>闭合调用<code class="fe lv lw lx ly b">refreshMovieList()</code>。</p><p id="aba3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行，了解拉动式更新的实际应用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/e1afc74dda524f14c96ec34e950f18e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/1*9XBBJxmCLiP9T6gMNaqfOQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">拉动式更新正在发挥作用</p></figure><p id="8d2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好样的。您已经在<code class="fe lv lw lx ly b">FavMovies</code>中实现了拉至刷新。</p><h1 id="b2c9" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">实施搜索的时间</h1><p id="7a47" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">搜索是显示大量信息的应用程序中最重要的功能之一，SwiftUI在很大程度上简化了它的实现。</p><p id="6447" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">.searchable(text:placement:prompt:suggestions:)</code>可以让您轻松显示和实现搜索。<code class="fe lv lw lx ly b">.searchable(text:placement:prompt:suggestions:)</code>有一个<code class="fe lv lw lx ly b">text</code>参数，它是一个接收用户输入的搜索查询的<code class="fe lv lw lx ly b">String</code>绑定。</p><p id="3b1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，您可以使用参数<code class="fe lv lw lx ly b">placement</code>，它的默认值是<code class="fe lv lw lx ly b">.automatic</code>，来明确定义您想要在哪里显示搜索字段。您可以分别使用<code class="fe lv lw lx ly b">.navigationBarDrawer</code>、<code class="fe lv lw lx ly b">.sidebar</code>和<code class="fe lv lw lx ly b">.toolbar</code>显式地将其显示在导航栏的抽屉、侧边栏或工具栏中。通过在不同的平台上运行代码，并在你的应用程序的不同视图中添加<code class="fe lv lw lx ly b">.searchable</code>修改器，你可以自由地进行实验。</p><p id="5b7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，将它设置为<code class="fe lv lw lx ly b">.automatic</code>足以满足大多数情况，因为应用程序运行的平台会自动决定它的位置。默认情况下，在iOS、iPadOS和macOS上，搜索栏放置在工具栏中，而在tvOS和watchOS上，搜索栏放置在其内容内联。</p><p id="cadf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">.searchable(text:placement:prompt:suggestions:)</code>中还有另一个名为<code class="fe lv lw lx ly b">prompt</code>的参数，它向用户显示一个提示文本。它接受一个<code class="fe lv lw lx ly b">String</code>值，并且是可选的。</p><p id="e32f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您可以选择使用<code class="fe lv lw lx ly b">suggestions</code>参数在用户开始搜索时显示搜索建议。</p><h2 id="0e4f" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">显示搜索栏</h2><p id="01ce" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">显示搜索栏很简单。将<code class="fe lv lw lx ly b">.searchable</code>修改器添加到任何想要显示的视图中。</p><p id="a48b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你需要强制传递一个绑定到<code class="fe lv lw lx ly b">.searchable</code>的<code class="fe lv lw lx ly b">text</code>参数。因此，打开<code class="fe lv lw lx ly b">ContentView.swift</code>，使用下面给出的代码创建一个状态变量<code class="fe lv lw lx ly b">searchText</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="1d23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面给出的代码用空的<code class="fe lv lw lx ly b">String</code>初始化<code class="fe lv lw lx ly b">searchText</code>。接下来，通过在<code class="fe lv lw lx ly b">NavigationView</code>的右括号后添加以下代码行，将<code class="fe lv lw lx ly b">.searchable</code>放置到<code class="fe lv lw lx ly b">ContentView</code>的<code class="fe lv lw lx ly b">NavigationView</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="4243" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像这样，您在<code class="fe lv lw lx ly b">ContentView</code>中添加了一个绑定到<code class="fe lv lw lx ly b">searchText</code>的搜索字段。当用户开始在搜索字段中输入时，输入的文本被存储在<code class="fe lv lw lx ly b">searchText</code>中。</p><p id="8412" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行以查找添加到收藏电影的搜索栏。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/68d7b4ed921168777373807e97e746c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/1*Ch4YfcCrfJLMrlo2f1ARiQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">收藏电影中的搜索栏</p></figure><p id="e577" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在显示的屏幕记录中，你可以看到一个交互式搜索栏被添加到应用程序中，只需放置<code class="fe lv lw lx ly b">.searchable</code>修改器。</p><h2 id="9077" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">让搜索发挥作用</h2><p id="62a6" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">到目前为止，你已经在FavMovies中添加了一个搜索栏，但它还没有工作。是时候让它发挥作用了。</p><p id="7f33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开<code class="fe lv lw lx ly b">MovieListView.swift</code>并添加一个绑定<code class="fe lv lw lx ly b">searchText</code>，使用下面给出的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="3746" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将使用上面创建的<code class="fe lv lw lx ly b">searchText</code>绑定来绑定<code class="fe lv lw lx ly b">ContentView</code>的<code class="fe lv lw lx ly b">searchText</code>。因此，用户在搜索过程中输入的文本也会被传递给这个<code class="fe lv lw lx ly b">searchText</code>。</p><p id="578f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你添加了绑定，<code class="fe lv lw lx ly b">MovieListView_Previews</code>会要求你插入<code class="fe lv lw lx ly b">searchText</code>参数的实参。用以下零件替换<code class="fe lv lw lx ly b">MovieListView(movies: .constant([PreviewMovieGenerator.getPreviewMovie()]))</code>将其固定:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="a70d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在代码中，您向预览中的<code class="fe lv lw lx ly b">MovieListView</code>初始化器的<code class="fe lv lw lx ly b">searchText</code>参数传递了一个常量空值<code class="fe lv lw lx ly b">String</code>。</p><p id="fdc1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是您仍然会看到一个错误。如果看不到，就构建项目。在<code class="fe lv lw lx ly b">ContentView</code>中，<code class="fe lv lw lx ly b">MovieListView</code>初始化需要<code class="fe lv lw lx ly b">searchText</code>参数中的一个自变量。用以下内容替换<code class="fe lv lw lx ly b">MovieListView(movies: $movies)</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="d145" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面显示的代码中，您从<code class="fe lv lw lx ly b">ContentView</code>传递了<code class="fe lv lw lx ly b">searchText</code>到<code class="fe lv lw lx ly b">MovieListView</code>的绑定。因此，<code class="fe lv lw lx ly b">MovieListView</code>的<code class="fe lv lw lx ly b">searchText</code>现在能够接收用户在搜索栏中输入的搜索查询。</p><p id="4703" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应用程序应该知道什么时候应该开始显示搜索结果，而不是普通的电影列表——显然，这是用户点击搜索栏并开始输入的时候。幸运的是，SwiftUI使用<code class="fe lv lw lx ly b">isSearching</code>环境变量让您知道什么时候会发生这种情况。在<code class="fe lv lw lx ly b">MovieListView</code>中的<code class="fe lv lw lx ly b">searchText</code>声明下增加以下一行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="5518" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你写的代码创造了一种知道用户是否在搜索的方法。如果用户正在搜索，您将显示一个带有搜索结果列表的视图，否则，显示一个带有所有电影列表的视图。因此，你会有两种不同的观点。</p><p id="3452" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">MovieListView</code>中，使用下面给出的代码创建<code class="fe lv lw lx ly b">movieRow(movie:)</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="aea1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">movieRow(movie:)</code>返回与<code class="fe lv lw lx ly b">MovieListView</code>的<code class="fe lv lw lx ly b">body</code>的<code class="fe lv lw lx ly b">List</code>视图相同的<code class="fe lv lw lx ly b">VStack</code>。</p><p id="8609" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，在<code class="fe lv lw lx ly b">MovieListView</code>中，使用以下代码创建<code class="fe lv lw lx ly b">searchResults</code>变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="e956" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">searchResults</code>是一个计算属性，过滤并返回名称中包含<code class="fe lv lw lx ly b">searchText</code>值的所有电影。</p><p id="4aa6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，要显示由<code class="fe lv lw lx ly b">searchResults</code>返回的结果，您需要设置<code class="fe lv lw lx ly b">MovieListView</code>,用下面的代码替换它的<code class="fe lv lw lx ly b">body</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="555d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们一步一步来。</p><ol class=""><li id="ca48" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu oo mf mg mh bi translated">您创建了一个包含一个<code class="fe lv lw lx ly b">if-else</code>块的<code class="fe lv lw lx ly b">List</code>。</li><li id="c654" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu oo mf mg mh bi translated">如果用户点击了搜索栏(<code class="fe lv lw lx ly b">isSearching</code>为<code class="fe lv lw lx ly b">true</code>)，并且用户在那里输入了一些内容(<code class="fe lv lw lx ly b">searchText</code>不为空)，代码使用<code class="fe lv lw lx ly b">ForEach</code>遍历<code class="fe lv lw lx ly b">searchResults</code>并显示由<code class="fe lv lw lx ly b">movieRow(movie:)</code>返回的视图来显示搜索结果。</li><li id="b89a" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu oo mf mg mh bi translated">然而，如果用户不是通过键入一些输入来执行搜索操作，代码会通过运行<code class="fe lv lw lx ly b">ForEach</code>到<code class="fe lv lw lx ly b">movies</code>来显示由<code class="fe lv lw lx ly b">movieRow(movie:)</code>返回的视图。</li></ol><blockquote class="mn mo mp"><p id="4089" class="kz la mq lb b lc ld ju le lf lg jx lh mr lj lk ll ms ln lo lp mt lr ls lt lu im bi translated">注意:您在<code class="fe lv lw lx ly b">List</code>中使用了<code class="fe lv lw lx ly b">ForEach</code>块，因为您使用了相同的<code class="fe lv lw lx ly b">List</code>视图来显示搜索结果以及所有电影。因此，您需要<code class="fe lv lw lx ly b">ForEach</code>来遍历数据。</p><p id="f672" class="kz la mq lb b lc ld ju le lf lg jx lh mr lj lk ll ms ln lo lp mt lr ls lt lu im bi translated">此外，如果不使用<code class="fe lv lw lx ly b">List</code>中的<code class="fe lv lw lx ly b">ForEach</code>，滑动动作功能将不起作用。在本文的后面，您将学习实现它。</p></blockquote><p id="942e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行以查看搜索工作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/a21454b2469cd8edaaa59a6eb8457e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/1*AKuMClmDIwuXDhbboqL0HQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">行动搜索</p></figure><p id="1c30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">干杯，你已经实现了FavMovies中的搜索。</p><h1 id="b70e" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">删除？只是向左一扫。</h1><p id="d206" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">如果你在iOS或iPadOS上使用过苹果的Notes应用，你一定会注意到它提供了某些选项，如pin、delete等。当您左扫或右扫列表中的备忘录时。</p><p id="734f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，如果你能在FavMovies中实现这个功能，难道不令人兴奋吗？</p><p id="1f1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了实现滑动动作，SwiftUI提供了<code class="fe lv lw lx ly b">.swipeActions</code>修改器。它有三个参数:<code class="fe lv lw lx ly b">edge</code>、<code class="fe lv lw lx ly b">allowsFullSwipe</code>和<code class="fe lv lw lx ly b">content</code>。</p><p id="d0df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">edge</code>参数，其默认值为<code class="fe lv lw lx ly b">HorizontalEdge.trailing</code>，您可以定义想要关联滑动动作的视图边缘。</p><p id="1e88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将<code class="fe lv lw lx ly b">allowsFullSwipe</code>参数设置为<code class="fe lv lw lx ly b">true</code>可使该功能以全扫的方式执行第一个动作。</p><p id="9269" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">而<code class="fe lv lw lx ly b">content</code>参数是你写滑动动作外观的地方。</p><h2 id="8869" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">实现滑动删除</h2><p id="414d" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">现在，您将在收藏电影中构建滑动删除功能。使用以下代码打开<code class="fe lv lw lx ly b">MovieListView.swift</code>并在<code class="fe lv lw lx ly b">movieRow(movie:)</code>的<code class="fe lv lw lx ly b">VStack</code>右拉条后添加<code class="fe lv lw lx ly b">.swipeActions</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="896a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们一步一步来。</p><ol class=""><li id="b99e" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu oo mf mg mh bi translated">您添加了参数设置为<code class="fe lv lw lx ly b">true</code>的<code class="fe lv lw lx ly b">.swipeActions</code>修改器。</li><li id="3649" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu oo mf mg mh bi translated">对于<code class="fe lv lw lx ly b">content</code>参数，您传递了一个<code class="fe lv lw lx ly b">Button</code>，它的<code class="fe lv lw lx ly b">role</code>设置为<code class="fe lv lw lx ly b">.destructive</code>(给它一个红色)，它的<code class="fe lv lw lx ly b">action</code>设置为从<code class="fe lv lw lx ly b">movies</code>中删除其<code class="fe lv lw lx ly b">id</code>与当前<code class="fe lv lw lx ly b">movie</code>的<code class="fe lv lw lx ly b">id</code>匹配的电影，它的<code class="fe lv lw lx ly b">label</code>显示一个带有文本<code class="fe lv lw lx ly b">Delete</code>的垃圾桶图标。</li></ol><p id="a19a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行以查看滑动删除的实现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/e99bfefabcd0d58894672cf233f2bfab.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/1*vLyCJ7YLP5D4VpAK7GnSgw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在操作中滑动以删除</p></figure><p id="c060" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜您，您已经在<code class="fe lv lw lx ly b">FavMovies</code>中实现了滑动删除。因为您没有将参数传递给<code class="fe lv lw lx ly b">edge</code>参数，所以滑动动作在尾端实现。</p><h1 id="9c5f" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">突出部分标题</h1><p id="7156" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">SwiftUI允许您创建包含部分及其标题的列表，以便您的列表看起来分类清晰。在WWDC21引入可以接受<code class="fe lv lw lx ly b">.increased</code>参数的<code class="fe lv lw lx ly b">.headerProminence</code>修饰符之前，这些节头是不可修改的。它也可以使用<code class="fe lv lw lx ly b">.standard</code>参数，但是<code class="fe lv lw lx ly b">.increased</code>增加了标题的字体大小和粗细，使它们更加突出。</p><h2 id="9857" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">显示节标题</h2><p id="a3c6" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">打开<code class="fe lv lw lx ly b">MovieListView.swift</code>并使用以下代码创建<code class="fe lv lw lx ly b">movieListWithGenres</code>变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="c7bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们逐步理解代码。</p><ul class=""><li id="574a" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">您创建了<code class="fe lv lw lx ly b">movieListWithGenres</code>变量。</li><li id="3594" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">一个<code class="fe lv lw lx ly b">ForEach</code>贯穿了<code class="fe lv lw lx ly b">Genre</code>T22的所有案例，因其符合<code class="fe lv lw lx ly b">CaseIterable</code>而成为可能。</li><li id="ea00" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">在<code class="fe lv lw lx ly b">Genre</code>案例的每次迭代中，都会创建一个节，其标题被设置为流派的<code class="fe lv lw lx ly b">String</code> <code class="fe lv lw lx ly b">rawValue</code>。因此，行<code class="fe lv lw lx ly b">Text(genre.rawValue)</code>设置节标题。</li><li id="4c48" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">创建另一个贯穿<code class="fe lv lw lx ly b">movies</code>的<code class="fe lv lw lx ly b">ForEach</code>块。每次迭代都存储在<code class="fe lv lw lx ly b">movie</code>中。</li><li id="5fb0" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">如果<code class="fe lv lw lx ly b">movie</code>的<code class="fe lv lw lx ly b">genre</code>与当前的<code class="fe lv lw lx ly b">genre</code>相匹配，则该电影被放在该类型的部分下。</li></ul><p id="b769" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，用<code class="fe lv lw lx ly b">movieListWithGenres</code>替换<code class="fe lv lw lx ly b">MovieListView</code>的<code class="fe lv lw lx ly b">body</code>的<code class="fe lv lw lx ly b">else</code>块中的<code class="fe lv lw lx ly b">ForEach</code>块及其内容，使<code class="fe lv lw lx ly b">body</code>看起来像下面给出的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="0f62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行。该应用程序将如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/39d97cf52367710e683bd3199d34b44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/1*LawcDXXAkWQCne16cMkXPA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有节和节标题的列表</p></figure><p id="3ed9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">FavMovies现在显示一个根据类型分组的电影列表。</p><h2 id="2ff3" class="ns mv it bd mw nt nu dn na nv nw dp ne li nx ny ng lm nz oa ni lq ob oc nk od bi translated">更改页眉突出度</h2><p id="d511" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">目前，标题并不明显。所以，有必要改变这一点。打开<code class="fe lv lw lx ly b">MovieListView.swift</code>。在其<code class="fe lv lw lx ly b">body</code>中，在<code class="fe lv lw lx ly b">else</code>块中的<code class="fe lv lw lx ly b">movieListWithGenres</code>变量之后，添加以下行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="0f71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您向<code class="fe lv lw lx ly b">movieListWithGenres</code>添加了带有<code class="fe lv lw lx ly b">.increased</code>参数的<code class="fe lv lw lx ly b">.headerProminence</code>修饰符。</p><p id="8178" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建并运行以查看类似于以下屏幕记录的屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/b4de9c6365e9364a4b181cf5f33b448a.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/1*Ec7yjDaFoLASRqmtvrSHRw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">包含突出程度增加的标题的列表</p></figure><p id="1550" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">FavMovies显示一个列表，其中包含突出程度增加的标题。有了这个，你就让你的标题脱颖而出了。</p><h1 id="1665" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">玩弄行分隔符</h1><p id="5983" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在FavMovies中，您一定注意到了电影列表中各部分行之间的水平线。它们被称为行分隔符，WWDC21引入了<code class="fe lv lw lx ly b">.listRowSeparator()</code>和<code class="fe lv lw lx ly b">.listRowSeparatorTint()</code>来允许开发者显示或隐藏它们，并分别改变它们的颜色。</p><p id="f4b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢玩颜色，现在是时候了。您将使用<code class="fe lv lw lx ly b">.listRowSeparatorTint()</code>来改变行分隔符的颜色。打开<code class="fe lv lw lx ly b">MovieListView.swift</code>，在<code class="fe lv lw lx ly b">movieRow(movie:)</code>中<code class="fe lv lw lx ly b">.swipeActions</code>的右括号后，添加下面一行，使行分隔符为红色:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="3d1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你把行分隔符涂成红色。构建并运行以查看结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/a0842258cd65294d15b7eb3d9a4ffe15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5j5w2cIFCfhevFWlgt78_A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用红色列出行分隔符</p></figure><p id="5334" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以使用<code class="fe lv lw lx ly b">.listRowSeparatorTint()</code>中的其他<code class="fe lv lw lx ly b">Color</code>值。</p><p id="5c7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果你不是那些行分隔符的忠实粉丝，你可以使用<code class="fe lv lw lx ly b">.listRowSeparator(.hidden)</code>隐藏它们，其中<code class="fe lv lw lx ly b">.hidden</code>是<code class="fe lv lw lx ly b">Visibility</code> <code class="fe lv lw lx ly b">enum</code>的一种情况。其他情况包括<code class="fe lv lw lx ly b">.visible</code>和<code class="fe lv lw lx ly b">.automatic</code>。</p><p id="8f0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要隐藏收藏电影中的行分隔符，打开<code class="fe lv lw lx ly b">MovieListView.swift</code>，在<code class="fe lv lw lx ly b">movieRow(movie:)</code>中<code class="fe lv lw lx ly b">.swipeActions</code>的右括号后，添加以下行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="fa6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您刚刚隐藏了行分隔符。构建并运行以查看行分隔符的消失。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/5928f206f4e19c80bb9219540207feb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qBt-256pGcnjOGUlHPgKSw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有隐藏行分隔符的收藏电影</p></figure><p id="f412" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，您就在<code class="fe lv lw lx ly b">FavMovies</code>中试验了列表行分隔符的可见性和颜色。</p><h1 id="4aec" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">综上</h1><p id="aec1" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在本教程中，您已经学习了SwiftUI列表的基础知识。一路走来，您实现了:</p><ul class=""><li id="31e5" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">在<code class="fe lv lw lx ly b">Text</code>视图中增加降价支持。</li><li id="6798" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">使用<code class="fe lv lw lx ly b">.formatted</code>简洁轻松地格式化日期和时间。</li><li id="208e" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">使用<code class="fe lv lw lx ly b">.refreshable</code>刷新列表。</li><li id="5205" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">使用<code class="fe lv lw lx ly b">.searchable</code>实现搜索。</li><li id="29f4" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">在<code class="fe lv lw lx ly b">List</code>中增加<code class="fe lv lw lx ly b">.swipeActions</code>。</li><li id="ce00" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">使用<code class="fe lv lw lx ly b">.headerProminence</code>使<code class="fe lv lw lx ly b">List</code>部分标题醒目。</li><li id="88e4" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">玩<code class="fe lv lw lx ly b">.listRowSeparator</code>和<code class="fe lv lw lx ly b">.listRowSeparatorTint</code>分别改变<code class="fe lv lw lx ly b">List</code>行分隔符的可见性和颜色。</li></ul><p id="24dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想下载完成的项目文件，请通过<a class="ae ky" href="https://github.com/sagunraj/SwiftUILists_Materials" rel="noopener ugc nofollow" target="_blank">这个资源库</a>。</p><p id="5b8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐！</p></div><div class="ab cl or os hx ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="im in io ip iq"><p id="8d31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你觉得这篇文章有用，并且愿意支持我，请"<a class="ae ky" href="https://www.buymeacoffee.com/sagunraj" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡</a>"</p><div class="oy oz gp gr pa pb"><a href="https://www.buymeacoffee.com/sagunraj" rel="noopener  ugc nofollow" target="_blank"><div class="pc ab fo"><div class="pd ab pe cl cj pf"><h2 class="bd iu gy z fp pg fr fs ph fu fw is bi translated">Sagun Raj Lage正在撰写博客和书籍，并免费教授编程。</h2><div class="pi l"><h3 class="bd b gy z fp pg fr fs ph fu fw dk translated">我是一名iOS开发人员，有从事各种领域相关项目的经验，如交通和…</h3></div><div class="pj l"><p class="bd b dl z fp pg fr fs ph fu fw dk translated">www.buymeacoffee.com</p></div></div><div class="pk l"><div class="pl l pm pn po pk pp ks pb"/></div></div></a></div></div></div>    
</body>
</html>