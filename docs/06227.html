<html>
<head>
<title>What’s New in Laravel 8?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel 8有什么新功能？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/whats-new-in-laravel-8-847c73d16d7a?source=collection_archive---------1-----------------------#2020-09-11">https://betterprogramming.pub/whats-new-in-laravel-8-847c73d16d7a?source=collection_archive---------1-----------------------#2020-09-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0e9c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak"> #2某型号目录！</strong></h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2948bef492430324698b81e4bb0302d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cb-Czze5dH7tpoZf8eeEiQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@d3cima?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">亨利·l·T3在</a><a class="ae kv" href="https://unsplash.com/s/photos/php?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="cac2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">已经六个月了吗？！确实如此。你知道这意味着什么:一个新的Laravel版本在这里——Laravel 8！</p><p id="691a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Laravel 8于两天前发布，带来了一系列有用的更新，我很高兴听到这些更新。在这篇文章中，我将回顾发生了哪些变化。欲知详情，请点击查看发布说明<a class="ae kv" href="https://laravel.com/docs/8.x/releases" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="7603" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">免责声明:Laravel将在未来六个月内继续提供该版本的bug修复，并在下一年内提供安全修复。</em></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="d1fc" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">涵盖了哪些内容？</h1><ol class=""><li id="566e" class="ms mt iq ky b kz mu lc mv lf mw lj mx ln my lr mz na nb nc bi translated"><a class="ae kv" href="#2b79" rel="noopener ugc nofollow"> Laravel Jetstream </a></li><li id="1bc4" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#ddb2" rel="noopener ugc nofollow">一个型号目录</a></li><li id="2a00" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#7604" rel="noopener ugc nofollow">模型工厂类</a></li><li id="af36" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#a387" rel="noopener ugc nofollow">迁移挤压</a></li><li id="c597" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#68d1" rel="noopener ugc nofollow">作业批处理</a></li><li id="d573" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#a387" rel="noopener ugc nofollow">改良限速</a></li><li id="7cd3" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#4ef6" rel="noopener ugc nofollow">改进的维护模式</a></li><li id="ad71" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#4684" rel="noopener ugc nofollow">关闭调度/连锁</a></li><li id="ee8b" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#862d" rel="noopener ugc nofollow">动叶片组件</a></li><li id="f411" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#1c2b" rel="noopener ugc nofollow">事件监听器改进</a></li><li id="9e14" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#9aed" rel="noopener ugc nofollow">时间测试助手</a></li><li id="af67" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#91c7" rel="noopener ugc nofollow">环境变化时自动重装</a></li><li id="f866" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#57d2" rel="noopener ugc nofollow">顺风成为分页器的默认样式</a></li><li id="e3c7" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="#46ea" rel="noopener ugc nofollow">路由名称空间更新</a></li></ol></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="2b79" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">1.拉勒维尔急流</h1><p id="a7dd" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">版本8引入了Laravel Jetstream——一个带有时尚用户仪表板的框架应用脚手架。Jetstream处理从登录、注册和电子邮件验证到会话管理和可选团队管理的一切事务。它设计了一个高度可定制的CSS框架，<a class="ae kv" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Tailwind </a>，并为你提供了在<a class="ae kv" href="https://laravel-livewire.com/" rel="noopener ugc nofollow" target="_blank"> Livewire </a>和<a class="ae kv" href="https://inertiajs.com/" rel="noopener ugc nofollow" target="_blank"> Inertia </a>之间的选择。</p><p id="419d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要开始，请运行以下命令:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="0e8c" class="nq mb iq nm b gy nr ns l nt nu">composer global require laravel/installer</span><span id="fae0" class="nq mb iq nm b gy nv ns l nt nu">laravel new laravel-8 --jet</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/62417f3267fdb59404fe0162fecebeb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8MMGCjNq-2PGih4k3_J30Q.png"/></div></div></figure><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="e520" class="nq mb iq nm b gy nr ns l nt nu">npm install &amp;&amp; npm run dev</span><span id="1bf2" class="nq mb iq nm b gy nv ns l nt nu">php artisan serve</span></pre><p id="5ea4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">确保将您的数据库名称添加到。env文件并迁移它。</em></p><p id="67d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">刷新后，你会看到通常的Laravel欢迎页面(虽然看起来有些不同，更加光滑。)点击注册链接注册您的帐户，并导航至<code class="fe nx ny nz nm b">/dashboard</code>查看您的新仪表板:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/3a493671f405707c91da45018d801236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bw43JQm0RfJ1Yr41gkyF9g.png"/></div></div></figure><p id="d2cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时，如果您运行<code class="fe nx ny nz nm b">php artisan vendor:publish — tag=jetstream-views</code>并查看<code class="fe nx ny nz nm b">resources/views/vendor/jetstream/components</code>下的内容，您会看到一个开箱即用的可用组件列表。例如，<code class="fe nx ny nz nm b">welcome.blade.php</code>将在您的应用程序中用作<code class="fe nx ny nz nm b">&lt;x-jet-welcome /&gt;</code>。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="ddb2" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">2.模特目录</h1><p id="9f96" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">瞧，我们期待已久的时刻到了——模特名录！</p><p id="ffc8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在版本8之前，所有现有的和新生成的模型都位于框架的<code class="fe nx ny nz nm b">/app</code>目录的根目录下。然后，大多数人会创建一个<code class="fe nx ny nz nm b">Models</code>子文件夹，将所有模型移动到该文件夹，并更改它们的名称空间以反映新路径。当我说我们不喜欢这个设置时，我想我代表了社区的意见！然而，Otwell通过最新的更新弥补了这一点。所有模型生成器命令已更新为<em class="ls">将新模型放置在</em> <code class="fe nx ny nz nm b"><em class="ls">Models</em></code> <em class="ls">文件夹中。</em>如果该目录尚不存在，将会为您创建一个目录，以及您的新模型。快乐的日子！</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="7604" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">3.模型工厂类</h1><p id="dd53" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">基于类的工厂已经取代了我们以前知道的模型工厂。</p><h2 id="2820" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔7号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="efc2" class="nq mb iq nm b gy nr ns l nt nu">/**<br/> * Run the database seeds.<br/> *<br/> * @return void<br/> */<br/>public function run()<br/>{<br/>    factory(App\User::class, 50)-&gt;create()-&gt;each(function ($user) {<br/>        $user-&gt;posts()-&gt;save(factory(App\Post::class)-&gt;make());<br/>    });<br/>}</span></pre><h2 id="1d27" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔8号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="8823" class="nq mb iq nm b gy nr ns l nt nu">use App\Models\User;</span><span id="e56d" class="nq mb iq nm b gy nv ns l nt nu">/**<br/> * Run the database seeders.<br/> *<br/> * @return void<br/> */<br/>public function run()<br/>{<br/>    User::factory()<br/>            -&gt;times(50)<br/>            -&gt;hasPosts(1)<br/>            -&gt;create();<br/>}</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="a387" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">4.迁移挤压</h1><p id="3fa4" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">这个很酷的新功能让庞大的迁移文件夹成为过去。引入了迁移压缩，使得所有迁移都可以压缩到一个SQL文件中。</p><p id="fd8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行以下命令将在<code class="fe nx ny nz nm b">database</code>下创建一个<code class="fe nx ny nz nm b">schema</code>文件夹，其中包含一个SQL文件，该文件包含所有迁移的CREATE TABLE查询:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="1998" class="nq mb iq nm b gy nr ns l nt nu">php artisan schema:dump</span></pre><p id="5cea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要删除迁移，只留下SQL文件，请运行以下命令:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="977f" class="nq mb iq nm b gy nr ns l nt nu">php artisan schema:dump --prune</span></pre><p id="e5de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，<code class="fe nx ny nz nm b">php artisan migrate</code>将首先运行SQL模式，随后是尚未成为<code class="fe nx ny nz nm b">migrations</code>下文件一部分的任何新迁移。要将新的迁移包含到模式文件中，只需再次运行<code class="fe nx ny nz nm b">schema:dump</code>命令。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="68d1" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">5.作业批处理</h1><p id="b029" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">Laravel的新任务批处理特性允许使用<code class="fe nx ny nz nm b">Bus</code> facade的新<code class="fe nx ny nz nm b">batch</code>方法分派多个任务。当然，你可以使用像<code class="fe nx ny nz nm b">then</code>、<code class="fe nx ny nz nm b">finally</code>和<code class="fe nx ny nz nm b">catch</code>这样的方法来定制他们的完成。基本实现如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="7f5a" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">6.改进的速率限制</h1><p id="1750" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">在路由上设置命中率限制现在可以以比以前版本更灵活和封装的方式来完成。使用<code class="fe nx ny nz nm b">RateLimiter</code> facade的<code class="fe nx ny nz nm b">for</code>方法，可以设置限制时间，甚至可以基于接收到的<code class="fe nx ny nz nm b">$request</code>进行动态设置。</p><h2 id="5639" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔7号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="772a" class="nq mb iq nm b gy nr ns l nt nu">Route::middleware('auth:api', 'throttle:60,1')-&gt;group(function () {<br/>    Route::get('/user', function () {<br/>        //<br/>    });<br/>});</span></pre><h2 id="b075" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔8号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="c7a3" class="nq mb iq nm b gy nr ns l nt nu">use Illuminate\Cache\RateLimiting\Limit;<br/>use Illuminate\Support\Facades\RateLimiter;</span><span id="8b99" class="nq mb iq nm b gy nv ns l nt nu">RateLimiter::for('global', function (Request $request) {<br/>    return $request-&gt;user()-&gt;vipCustomer()<br/>                ? Limit::none()<br/>                : Limit::perMinute(100);<br/>});</span></pre><p id="07a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要在某些路由上使用这些限制，可以像应用任何中间件一样应用它们，使用您传递到<code class="fe nx ny nz nm b">for</code>方法中的相同名称:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="3e15" class="nq mb iq nm b gy nr ns l nt nu">Route::middleware(['throttle:global'])-&gt;group(function () {<br/>    Route::post('/audio', function () {<br/>        //<br/>    });</span><span id="1249" class="nq mb iq nm b gy nv ns l nt nu">Route::post('/video', function () {<br/>        //<br/>    });<br/>});</span></pre><p id="46cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，保持了向后兼容性，以利用以前版本的<code class="fe nx ny nz nm b">throttle</code>中间件API。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="4ef6" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">7.改进的维护模式</h1><p id="424f" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">尽管您的应用程序处于维护模式，Laravel允许特定用户查看它，只要他们满足某个条件。这种情况现在已经改变了—以前需要IP地址，现在是一个秘密令牌。</p><h2 id="2a65" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔7号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="413c" class="nq mb iq nm b gy nr ns l nt nu">php artisan down --allow=127.0.0.1 --allow=192.168.0.0/16</span></pre><h2 id="cc31" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔8号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="3f08" class="nq mb iq nm b gy nr ns l nt nu">php artisan down --secret="1630542a-246b-4b66-afa1-dd72a4c43515"</span></pre><p id="e19f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">设置令牌后，Laravel将知道在用户点击URL时查找它。因此，下面将显示应用程序:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="f4ce" class="nq mb iq nm b gy nr ns l nt nu"><a class="ae kv" href="https://test-site.com/1630542a-246b-4b66-afa1-dd72a4c43515" rel="noopener ugc nofollow" target="_blank">https://test-site.com/1630542a-246b-4b66-afa1-dd72a4c43515</a></span></pre><p id="d7f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦cookie被保存到您的浏览器中，您将能够像在维护模式之外一样重新访问该应用程序！</p><h2 id="6fee" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">预渲染维护模式视图</h2><p id="11da" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">作为维护模式改进的一部分，您现在可以预渲染特定的维护视图。</p><p id="72d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">为什么这如此重要？</em></p><p id="05a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在此之前，如果您在部署期间运行<code class="fe nx ny nz nm b">php artisan down</code>，如果用户在任何依赖项更新以反映新模式之前点击应用程序，仍然有可能遇到错误。有了这个附加功能，您可以指定自己选择的维护模式视图，并在请求周期开始时立即显示，因此无需等待框架启动。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="f95f" class="nq mb iq nm b gy nr ns l nt nu">php artisan down --render="errors::503"</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="4684" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">8.关闭派单/连锁</h1><p id="92ad" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">添加了一个新的<code class="fe nx ny nz nm b">catch</code>方法，如果排队的闭包未能成功完成，将执行该方法。这对于定制发生故障时会发生什么非常有用。</p><h2 id="9bb7" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔7号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="5f73" class="nq mb iq nm b gy nr ns l nt nu">$podcast = App\Podcast::find(1);</span><span id="e64d" class="nq mb iq nm b gy nv ns l nt nu">dispatch(function () use ($podcast) {<br/>    $podcast-&gt;publish();<br/>});</span></pre><h2 id="c689" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔8号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="4aa3" class="nq mb iq nm b gy nr ns l nt nu">$podcast = App\Podcast::find(1);</span><span id="2caa" class="nq mb iq nm b gy nv ns l nt nu">dispatch(function () use ($podcast) {<br/>    $podcast-&gt;publish();<br/>})-&gt;catch(function (Throwable $e) {<br/>    // This job has failed...<br/>});</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="862d" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">9.动态刀片组件</h1><p id="d0b6" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">您现在不再需要<em class="ls"> </em>将组件名硬编码到页面上，它们可以基于运行时值或变量来呈现！</p><h2 id="8272" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔7号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="cc97" class="nq mb iq nm b gy nr ns l nt nu">php artisan make:component Info</span></pre><p id="549d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要显示该组件，您可以使用以下命令:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="6296" class="nq mb iq nm b gy nr ns l nt nu">&lt;x-info /&gt;</span></pre><h2 id="3b0c" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔8号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="607f" class="nq mb iq nm b gy nr ns l nt nu">&lt;x-dynamic-component :component="$componentName" /&gt;</span></pre><p id="6f11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看如何实现它。</p><p id="0f38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，使用<code class="fe nx ny nz nm b">php artisan make:component &lt;component-name&gt;</code>创建一个组件。我决定给我的取名为<code class="fe nx ny nz nm b">success</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="4d13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后选择一条路线，并通过控制器将相关数据传递给视图:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="a80f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我选择在<code class="fe nx ny nz nm b">show.blade.php</code>中渲染我的动态组件。从您的仪表板导航到<code class="fe nx ny nz nm b">/user/profile</code>，现在应该会显示您的成功文本:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/d820788ee70a5dcc2f1dee5e4f706bcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dsx7Y4u_j9HVmtFGCPdQPg.png"/></div></div></figure><p id="3f41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这对于动态加载成功或错误组件非常有用。只需将名称传递给视图(在本例中，变量是message，值是success)，只要有一个组件具有该名称，Laravel就会动态地呈现出来。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="1c2b" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">10.事件监听器改进</h1><p id="1a13" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">事件监听器已经得到改进，包括基于<code class="fe nx ny nz nm b">Closure</code>的事件监听器的注册。这可以通过仅将<code class="fe nx ny nz nm b">Closure</code>传递给<code class="fe nx ny nz nm b">Event::listen</code>方法来完成。此外，这些新的基于<code class="fe nx ny nz nm b">Closure</code>的事件监听器也可以标记为<code class="fe nx ny nz nm b">queueable</code>，并且像排队作业一样，通常的现有方法——<code class="fe nx ny nz nm b">onConnection</code>、<code class="fe nx ny nz nm b">onQueue</code>和<code class="fe nx ny nz nm b">delay</code>——可以用来定制排队监听器的执行。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="a039" class="nq mb iq nm b gy nr ns l nt nu">Event::listen(queueable(function (PodcastProcessed $event) {<br/>    //<br/>}));</span></pre><p id="da10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，标记为<code class="fe nx ny nz nm b">queueable</code>是可选的，可以删除。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="9aed" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">11.时间测试助手</h1><p id="fcd3" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">这个新的更新为我们带来了助手，允许修改测试时返回的时间戳。<code class="fe nx ny nz nm b">travel()</code>的介绍可以配合著名的<code class="fe nx ny nz nm b">now()</code>一起进入未来，时光倒流，回到现在。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="ac90" class="nq mb iq nm b gy nr ns l nt nu">// Travel into the past<br/>$this-&gt;travel(-5)-&gt;hours();</span><span id="758b" class="nq mb iq nm b gy nv ns l nt nu">// Come back to the present<br/>$this-&gt;travelBack();</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="91c7" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">12.环境变化时自动重新加载</h1><p id="d095" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">在<code class="fe nx ny nz nm b">.env</code>文件中检测到的任何变化将触发自动重新加载，不再需要手动停止和重启<code class="fe nx ny nz nm b">serve</code>命令。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/0b081da1a70ed6239ff81c365432142b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G74EVkYVL5o4iE7HbNjciA.png"/></div></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="57d2" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">13.顺风成为分页器的默认样式</h1><p id="b45b" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">但是Bootstrap 3和4视图仍然可用！</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="46ea" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">14.路由命名空间更新</h1><p id="7d34" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">版本7和更低版本中的<code class="fe nx ny nz nm b">RouteServiceProvider</code>类包含一个<code class="fe nx ny nz nm b">$namespace</code>属性。然后，该属性的值被加到routes文件中列出的所有路线的前缀上。Laravel的这个新版本删除了名称空间，取而代之的是类名直接用在路由文件中。</p><h2 id="4348" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔7号</h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="354c" class="nq mb iq nm b gy nr ns l nt nu">class RouteServiceProvider extends ServiceProvider</span><span id="0e79" class="nq mb iq nm b gy nv ns l nt nu">{</span><span id="2f8f" class="nq mb iq nm b gy nv ns l nt nu">/**</span><span id="928f" class="nq mb iq nm b gy nv ns l nt nu">* This namespace is applied to your controller routes.</span><span id="5952" class="nq mb iq nm b gy nv ns l nt nu">* In addition, it is set as the URL generator's root namespace.</span><span id="0583" class="nq mb iq nm b gy nv ns l nt nu">*</span><span id="c1d3" class="nq mb iq nm b gy nv ns l nt nu">* @var string</span><span id="c5a7" class="nq mb iq nm b gy nv ns l nt nu">*/</span><span id="58f5" class="nq mb iq nm b gy nv ns l nt nu">protected $namespace = 'App\Http\Controllers';</span><span id="86c8" class="nq mb iq nm b gy nv ns l nt nu">}</span></pre><p id="59cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，执行以下操作将会起作用，并且框架将会确切地知道您的控制器位于何处:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="fd52" class="nq mb iq nm b gy nr ns l nt nu">Route::get('/users', 'UserController@index');</span></pre><h2 id="3ded" class="nq mb iq bd mc ob oc dn mg od oe dp mk lf of og mm lj oh oi mo ln oj ok mq ol bi translated">拉勒维尔8号</h2><p id="5a84" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">介绍一种新的路线规划方法:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="86f0" class="nq mb iq nm b gy nr ns l nt nu">use App\Http\Controllers\UserController;</span><span id="6404" class="nq mb iq nm b gy nv ns l nt nu">Route::get('/users', [UserController::class, 'index']);</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="7271" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是Laravel 8版本中宣布的所有新功能和更新功能。我希望你喜欢阅读它们！</p><p id="1609" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你有最喜欢的吗？请在下面的评论中告诉我。编码快乐！</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><ul class=""><li id="a415" class="ms mt iq ky b kz la lc ld lf op lj oq ln or lr os na nb nc bi translated"><em class="ls">公文:</em>【https://laravel.com/docs/8.x】T4</li><li id="b94d" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr os na nb nc bi translated"><em class="ls">发布说明:</em><a class="ae kv" href="https://laravel.com/docs/8.x/releases#laravel-8" rel="noopener ugc nofollow" target="_blank">https://laravel.com/docs/8.x/releases#laravel-8</a></li></ul></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="8747" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">再也不想错过更新或新版本了？查看我的</em> <a class="ae kv" href="https://dever-web-app.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"> <em class="ls">免费网络应用</em> </a> <em class="ls">在这里你可以看到当今最常用语言和框架的所有最新Github版本！</em></p></div></div>    
</body>
</html>