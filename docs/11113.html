<html>
<head>
<title>4 Ways to Build the Same Interface in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中构建相同界面的4种方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/4-ways-to-build-the-same-interface-in-swiftui-acc783b6d536?source=collection_archive---------14-----------------------#2022-02-18">https://betterprogramming.pub/4-ways-to-build-the-same-interface-in-swiftui-acc783b6d536?source=collection_archive---------14-----------------------#2022-02-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9a62" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">SwiftUI中的布局解决方案</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/66239e4375e70c843e4329e940cb3851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PKng2MIOcExrB24lQ1iBGQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">哈尔·盖特伍德在<a class="ae ky" href="https://unsplash.com/s/photos/layout?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a0db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几十年前，第四代语言风靡一时——非常少即是多的想法。这个概念是将编码简化到每个人都可以做的程度。我怀疑这是他们开发SwiftUI时考虑的一个原则。</p><p id="695b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是有一个代价是复杂度更低，也就是灵活性更低。编译器假设的越多，编码者的选择就越少。</p><p id="e5c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，正是带着这种想法，我想尝试开发一个简单的界面来做相反的事情，从最简单的解决方案开始，然后向最复杂的方向发展。不要担心，我不打算将SwiftUI接口移植到uik it——但我想看看如果需要的话，我能从SwiftUI收回多少控制权。</p><h1 id="8a35" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">案情摘要</h1><p id="e61a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">所以我的简报很简单。我有两个矩形代表我的界面——一个需要在纵向和横向模式下工作的界面。请和我一起探索四种解决方案，来构建同一代码的更复杂版本——也就是更灵活的版本，您可以根据自己的需要进行调整。界面需要像这样，一个蓝色方块和一个黄色方块，不管设备的方向是什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/fd0c44bcbbe99eb60d60bfef1f85c589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6sXB05ho1VKRzoOX__Bbg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">正确的解决方案</p></figure><h2 id="7e3d" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">使用现成的SwiftUI</h2><p id="9e35" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">好的——所以如果你用最简单的方法解决这个问题——你会失败。失败，因为默认情况下，SwiftUI代码会这样做。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/ad4e82c6a5d23107a4cc5650e7b91019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_Hsces8hzFXWkOJFt6DNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">错误的解决方案</p></figure><p id="f9a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似这样的代码。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="4324" class="mt lw it nh b gy nl nm l nn no"><strong class="nh iu">struct</strong> Basic1: <strong class="nh iu">View</strong> {<br/>  <strong class="nh iu">var</strong> <strong class="nh iu">body</strong>: <strong class="nh iu">some</strong> <strong class="nh iu">View</strong> {<br/>  // Default is a VStack<br/>    <strong class="nh iu">Rectangle</strong>()<br/>      .<strong class="nh iu">fill</strong>(Color.yellow).<strong class="nh iu">opacity</strong>(0.5)<br/>    <strong class="nh iu">Rectangle</strong>()<br/>      .<strong class="nh iu">fill</strong>(Color.blue).<strong class="nh iu">opacity</strong>(0.5)<br/>  }<br/>}</span></pre><p id="7ba4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">问题是，默认行为假设布局总是以这种或那种方式流动——因此控件和数据的集合排列在垂直界面或水平界面上。</p><h2 id="552f" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">SwiftUI中的if/else块</h2><p id="9a70" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当然，如果有两种方法，最简单的解决方案是if/else块。SwiftUI中完全支持的结构，唯一的复杂性是检查trait集合的环境变量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="a7d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如他们所说，ACA Marche工作得非常好，按照我们想要的方式安排事情，但正如我在开始时所说的那样，也许我想要更多——对如何实现它有更多的控制。</p><h1 id="d5ed" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在SwiftUI中使用基本对齐指南</h1><p id="6059" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果你想在SwiftUI中有更多的控制，你需要第三个布局容器；你需要ZStack。虽然如果你开箱即用，你会再次失败，因为它只是把一切都放在默认的中心。你也需要给它一些布局指南。你需要这样的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="ef89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你把它与之前的相比时，看起来相当可怕，我们从16行增加到64行。也就是说，这也工作得很好，并最终给你更多的控制，同时仍然给我们足够的空间来摆脱那些困扰复杂布局的可怕的UIKit约束。</p><h1 id="452a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在SwiftUI中使用高级对齐指南</h1><p id="8101" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">布局指南很好，我刚刚提出的解决方案也很有效，但你知道还有一个选项可以走得更远，给你自己更多的灵活性，这是一个很大的选项。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="476c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个解决方案，我全力以赴，把数字线加倍，再做一遍。不过，公平地说，我不需要那份通知。我只是为了更好地衡量它。有了这段代码，你不仅可以像所有其他的布局一样在两种布局之间转换，而且如果你愿意，你几乎可以混合n匹配它们，也就是半转换；也许一个布局保持垂直，而第二个保持水平。</p><h1 id="24be" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用几何阅读器</h1><p id="a701" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">最后，我将带着这个解决方案回到那些可怕的坐标地图。我认为这是一个如何不这样做的例子。当不太清楚是哪四个分支时，逻辑独自去计算它执行哪个代码位。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="9dda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了我之前的担心之外，事实上这个解决方案在我的脑海中做了太多的数学运算，以至于无法确定它的可扩展性。</p><p id="e19b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，最好的答案是使用基本对齐指南；其他的代码我觉得更容易理解。所有这些都让我想到了这篇文章的结尾。我希望你能像我写这本书一样喜欢读它，并从中学习到一些新的东西。</p></div></div>    
</body>
</html>