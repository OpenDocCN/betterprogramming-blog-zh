<html>
<head>
<title>Exploring the 3 Types of Constructors in Dart</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索Dart中的3种构造函数</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-the-3-types-of-constructors-in-dart-e2e2d4d6f710?source=collection_archive---------4-----------------------#2021-04-08">https://betterprogramming.pub/exploring-the-3-types-of-constructors-in-dart-e2e2d4d6f710?source=collection_archive---------4-----------------------#2021-04-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2a64" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">命名、工厂和重定向构造函数</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/71dd4db843592706390ac8c1fd378973.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0vvxER4BuT4H9UYI"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">斯科特·韦伯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="7f42" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们大多数人都熟悉构造函数的概念。它们允许我们创建类的不同实例。我们可以指定类在被实例化时应该依赖哪些参数，并隐藏内部初始化逻辑。</p><p id="5de1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于不同的用例，我们可以有许多构造函数，或者我们可以依赖默认的构造函数。</p><p id="92f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<a class="ae kv" href="https://dart.dev/" rel="noopener ugc nofollow" target="_blank"> Dart </a>中，构造函数扮演着类似的角色，但是有一些在大多数编程语言中不存在的变化。本文将介绍Dart中构造函数的不同用例及示例。</p><p id="6415" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文的所有示例中，我们将使用下面的类:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="674d" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated">如何开始使用Dart中的构造函数</h1><p id="9a8d" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">如果您没有在Dart中指定任何构造函数，它将为您创建一个默认的构造函数。</p><p id="bd25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这并不意味着您将看到类中生成的默认构造函数。相反，当创建类的新实例时，将调用此构造函数。它将没有参数，并将调用超类的构造函数(也没有参数)。</p><p id="973e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">若要在类中声明构造函数，可以执行以下操作:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="de80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以想象，一定有更好的方法来初始化我们的类字段。在Dart中，有:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="c34b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们上面使用的方法只是为了简化赋值的语法糖。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="67da" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated">命名构造函数</h1><p id="8f11" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">在其他语言中，重载构造函数是可能的。这意味着您可以有不同的构造函数，它们具有相同的名称，但是具有不同的签名(或者不同的参数集)。</p><p id="5c29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Dart中，这是不可能的，但是有一种方法可以绕过它。它被称为<em class="my">命名构造函数</em>。给你的构造函数取不同的名字允许你的类有许多构造函数，也可以更好地在类外表示它们的用例。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">命名构造函数示例</p></figure><p id="a16b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在构造函数体执行之前，构造函数<code class="fe mz na nb nc b">withoutABS</code>将实例变量<code class="fe mz na nb nc b">hasABS</code>初始化为<code class="fe mz na nb nc b">false</code>。这就是所谓的<em class="my">初始化列表</em>，你可以初始化几个用逗号分隔的变量。</p><p id="e4da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">初始化列表最常见的用例是初始化你的类声明的最终字段。</p><p id="319f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="my">注意:放置在冒号(</em> <code class="fe mz na nb nc b"><em class="my">:</em></code> <em class="my">)右侧的任何内容都无法访问</em> <code class="fe mz na nb nc b"><em class="my">this</em></code> <em class="my">。</em></p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="50ad" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated">工厂构造者</h1><p id="2e69" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">一个<em class="my">工厂构造函数</em>是一个构造函数，当你不需要一个构造函数来创建你的类的一个新实例时，可以使用它。</p><p id="b440" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您将类的实例保存在内存中，并且不想每次都创建新的实例(或者创建实例的操作开销很大)，这可能会很有用。</p><p id="fb27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个用例是，如果在构造函数中有某种逻辑来初始化一个final字段，而这在初始化列表中是做不到的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">工厂构造函数示例</p></figure></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="bcc0" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated">高级构造函数</h1><p id="45d9" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">Dart还允许你创建<em class="my">常量构造函数</em>。这到底是什么意思？如果您的类表示一个在创建后永远不会改变的对象，您可以从常量构造函数的使用中受益。你必须确保你所有的类字段都是最终的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">常数构造函数示例</p></figure><p id="4243" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你想让一个构造函数调用另一个构造函数时，这被称为<em class="my">重定向构造函数</em>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">重定向构造函数示例</p></figure></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="a00b" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated">结论</h1><p id="b0b9" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">我们讨论的每个构造函数都有不同的用途和用例。由您来理解和决定何时使用每一个。希望这篇文章给了你这样做的必要知识。</p><p id="d6b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想了解更多关于Dart构造函数的内容，你可以去Dart的语言之旅。</p></div></div>    
</body>
</html>