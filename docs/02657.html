<html>
<head>
<title>SwiftUI List and Navigation — UITableView (Part 3)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI列表和导航— UITableView(第3部分)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftui-list-and-navigation-uitableview-d9526eefddc7?source=collection_archive---------12-----------------------#2019-12-15">https://betterprogramming.pub/swiftui-list-and-navigation-uitableview-d9526eefddc7?source=collection_archive---------12-----------------------#2019-12-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2b270f7c42b791b18ebccfd19b09fe3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jdgkU9sQWvaZnuiGLyc5_g.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@andrewtneel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">安德鲁·尼尔</a>在<a class="ae kf" href="https://unsplash.com/s/photos/list?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="1e1b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://developer.apple.com/xcode/swiftui/" rel="noopener ugc nofollow" target="_blank"> SwiftUI </a>的<code class="fe le lf lg lh b">List</code>视图与<code class="fe le lf lg lh b">UITableView</code>相似。<code class="fe le lf lg lh b">List</code>使用起来简单多了。</p><p id="9aa5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">没有数据源，没有委托。不需要在故事板中创建原型单元，或者在代码中注册它们。不需要出列和配置单元等等。</p><figure class="lj lk ll lm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi li"><img src="../Images/c9b04a8c8e28c7cec969c1b1db21c980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zGRpcY5eb4XYUOoSDFTvTA.png"/></div></div></figure><p id="e7e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们创建一个显示雇员列表和每个雇员的详细信息的项目。</p></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="8ed1" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">创建/获取样本数据</h1><p id="e43d" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">我们将在我们的项目中使用以下样本数据。将JSON文件添加到Xcode项目中。</p><figure class="lj lk ll lm gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="31ac" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated"><strong class="ak">创建模型</strong></h1><p id="ce4b" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">创建<code class="fe le lf lg lh b">Employee</code>结构，存储应用程序需要显示的所有员工信息。</p><figure class="lj lk ll lm gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="135d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">重要提示:<code class="fe le lf lg lh b">List</code>中使用的每个模型都应该实现可识别或可散列的协议来惟一地标识列表中的每一行。</p><p id="0f8f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用了<code class="fe le lf lg lh b">Codable</code>协议来编码和解码定制的数据格式，比如JSON到本地Swift对象。</p></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="719c" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">加载数据</h1><p id="c55b" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">创建一个Swift文件<code class="fe le lf lg lh b">Data.swift</code>，它从<code class="fe le lf lg lh b">employee.json</code>导入一组员工数据。</p><figure class="lj lk ll lm gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="5a8e" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">创建行视图</h1><p id="facc" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">创建一个新的SwiftUI视图，命名为<code class="fe le lf lg lh b">EmployeeRow.swift</code>。</p><figure class="lj lk ll lm gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><ul class=""><li id="efcf" class="mz na it ki b kj kk kn ko kr nb kv nc kz nd ld ne nf ng nh bi translated">一个存储属性<code class="fe le lf lg lh b">employee</code>。</li><li id="a2e1" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated">名为<code class="fe le lf lg lh b">EmployeeRow</code>的结构符合<code class="fe le lf lg lh b">View</code>协议，并在<code class="fe le lf lg lh b">body</code>属性中描述了视图的内容和布局。</li><li id="bdb4" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">HStack</code>将视图水平放置在容器中。</li><li id="e7d9" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">CircleImage</code> <strong class="ki iu"> </strong>是自定义的SwiftUI视图，将图像裁剪为圆形，并添加笔触和阴影。我们需要传递图像名称和帧大小。查看<a class="ae kf" href="https://gist.github.com/49da47cb66fb2e9d1d3a151f1d7c0427.git" rel="noopener ugc nofollow" target="_blank"> CircleImage SwiftUI视图要点。</a></li><li id="f7f0" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">Text</code> <strong class="ki iu"> </strong>显示员工的姓名。</li><li id="f550" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">Spacer</code> <strong class="ki iu"> </strong>添加<strong class="ki iu"> </strong>沿其包含堆栈布局的主轴扩展的灵活空间，如果不包含在堆栈中，则在两个轴上扩展。<code class="fe le lf lg lh b">HStack</code>中的<code class="fe le lf lg lh b">Spacer</code>将文本“推”到前沿。</li><li id="e9ff" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated">使用帧修改器指定行帧。</li><li id="f6b2" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated">名为<code class="fe le lf lg lh b">ContentView_Previews</code>的结构符合<code class="fe le lf lg lh b">PreviewProvider</code>协议，并声明了该视图的预览。</li><li id="bd41" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">EmployeeRow</code>用一些数据调用结构体进行预览。</li><li id="c913" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">previewLayout(_:)</code>修饰符，用来设置一个近似于列表中一行的大小。</li></ul><figure class="lj lk ll lm gt ju gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/edce224234b95f7888fcbe533a7ea302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*P-07ARvukp7Z3ieBZtwO5Q.png"/></div></figure></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="065b" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">创建列表</h1><p id="320c" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">创建一个新的SwiftUI视图，命名为<code class="fe le lf lg lh b">EmployeeList.swift</code>。</p><figure class="lj lk ll lm gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><ul class=""><li id="a139" class="mz na it ki b kj kk kn ko kr nb kv nc kz nd ld ne nf ng nh bi translated">将<code class="fe le lf lg lh b">employeeData</code>传递给<code class="fe le lf lg lh b">List</code>初始化器。</li><li id="c9be" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated">从闭包返回<code class="fe le lf lg lh b">EmployeeRow</code>来完成动态生成的列表。这将为<code class="fe le lf lg lh b">employeeData</code>数组中的每个元素创建一个<code class="fe le lf lg lh b">EmployeeRow</code>。</li></ul><p id="734e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe le lf lg lh b">SceneDelegate.swift</code>中，将app的根视图切换到<code class="fe le lf lg lh b">EmployeeList</code>。</p></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="a6f2" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">创建详细视图</h1><p id="a9c4" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">创建一个新的SwiftUI视图，命名为<code class="fe le lf lg lh b">EmployeeDetail.swift</code>。</p><figure class="lj lk ll lm gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><ul class=""><li id="059e" class="mz na it ki b kj kk kn ko kr nb kv nc kz nd ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">Divider</code> <strong class="ki iu"> </strong>视图通过画线来划分周围的视图。</li><li id="8839" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">navigationBarTitle</code>修饰符为视图配置导航条的标题。</li></ul></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><h1 id="a3ab" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">列表和详细信息之间的导航</h1><figure class="lj lk ll lm gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><ul class=""><li id="d289" class="mz na it ki b kj kk kn ko kr nb kv nc kz nd ld ne nf ng nh bi translated">在<code class="fe le lf lg lh b">EmployeeList.swift</code>中，将员工列表嵌入到一个<code class="fe le lf lg lh b">NavigationView</code>中。</li><li id="283e" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated">在列表的闭包内，将返回的行包装在一个<code class="fe le lf lg lh b">NavigationLink</code>中，指定<code class="fe le lf lg lh b">EmployeeDetail</code>视图作为目的地。</li></ul><p id="7962" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">构建并运行项目！</p><p id="df98" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">参考GitHub 上的<a class="ae kf" href="https://github.com/talreja-priya/SwiftUI-List" rel="noopener ugc nofollow" target="_blank">完整Xcode项目。</a></p><p id="f694" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谢谢你。编码快乐！</p></div></div>    
</body>
</html>