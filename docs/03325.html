<html>
<head>
<title>How to Get the Current Time in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中获取当前时间</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-get-the-current-time-in-python-20772ba67508?source=collection_archive---------25-----------------------#2020-02-03">https://betterprogramming.pub/how-to-get-the-current-time-in-python-20772ba67508?source=collection_archive---------25-----------------------#2020-02-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0cce" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">日期时间模块简介</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/abb644c4162e37dc6d7e9ba59f52d669.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nfaen2d5keUfKyLhjg7SgQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@bradneathery?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">布拉德·奈瑟利</a>在<a class="ae ky" href="https://unsplash.com/s/photos/time?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b4a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">学习与时间一起工作是任何程序员工具箱中不可或缺的一部分。与JavaScript不同，JavaScript不需要导入就可以使用<code class="fe lv lw lx ly b">Date()</code>类，Python中的标准过程要求我们导入一个库。</p><p id="9766" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该库的名称是<code class="fe lv lw lx ly b"><a class="ae ky" href="https://docs.python.org/2/library/datetime.html" rel="noopener ugc nofollow" target="_blank">datetime</a></code>。</p><p id="b70e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们学习如何使用<code class="fe lv lw lx ly b">datetime</code>在Python中检索当前时间。我们还将进一步学习创建一个带有特定时间的<code class="fe lv lw lx ly b">datetime</code>对象。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="e6c6" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">如何导入日期时间库？</h1><p id="1c9e" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">尽管Python要求我们导入库，但它是标准的，所以不需要安装任何东西。我们像这样使用<code class="fe lv lw lx ly b">import</code>关键字和库名:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="616b" class="nh mh it ly b gy ni nj l nk nl">import datetime</span></pre><p id="84dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着我们已经导入了<code class="fe lv lw lx ly b">datetime</code>库，并将通过库名来引用它。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="a15d" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">如何使用日期时间？</h1><p id="59c3" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">嗯，这是一个有内涵的问题，因为<code class="fe lv lw lx ly b">datetime</code>有太多的应用。</p><p id="767a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们保持专注，获取当前时间。棘手的是我们导入了<code class="fe lv lw lx ly b">datetime</code>库，而不是类本身。这个类——碰巧同名——存在于库中。</p><p id="328e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了获得当前时间戳，我们将执行以下操作:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="b4b3" class="nh mh it ly b gy ni nj l nk nl">dt = datetime.datetime.now()<br/>print(dt) # 2020-02-01 11:24:31.436563</span></pre><p id="957d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意到我们在<code class="fe lv lw lx ly b">datetime</code>上加倍了吗？第一个是对库名的引用，第二个是类本身，然后是方法<code class="fe lv lw lx ly b">.now()</code>。</p><p id="29c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要被输出迷惑，<code class="fe lv lw lx ly b">dt</code>不是简单的字符串；它是一个<code class="fe lv lw lx ly b">datetime</code>对象，类似于JavaScript日期是<code class="fe lv lw lx ly b">Date()</code>对象。你可以用<code class="fe lv lw lx ly b">datetime</code>类做很多事情，我推荐你查阅<a class="ae ky" href="https://docs.python.org/3.8/library/datetime.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>。</p><p id="c159" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是等等，标题说的是当前时间，不是时间戳。一旦我们用当前时间戳声明了我们的<code class="fe lv lw lx ly b">datetime</code>对象，我们就使用<code class="fe lv lw lx ly b">.time()</code>方法只返回时间部分。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="a2d4" class="nh mh it ly b gy ni nj l nk nl">time = dt.time() # 11:24:31.436563</span></pre><p id="f438" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">额外的好处是，现在我们已经一步一步地完成了这个过程，如果我们唯一的用途是获取当前时间，我们可以稍微清理一下代码。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="5d39" class="nh mh it ly b gy ni nj l nk nl">from datetime import datetime as dt</span><span id="7adc" class="nh mh it ly b gy nm nj l nk nl">time = dt.now().time()</span><span id="d6c8" class="nh mh it ly b gy nm nj l nk nl">print(time)) # 11:24:31.436563</span></pre><p id="0755" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在这里做了三件新的事情:</p><ul class=""><li id="c173" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">直接从库中导入了<code class="fe lv lw lx ly b">datetime</code>类。</li><li id="cd0c" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">为<code class="fe lv lw lx ly b">datetime</code>类分配了一个自定义标识符。</li><li id="bb73" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">将<code class="fe lv lw lx ly b">.now()</code>和<code class="fe lv lw lx ly b">.time()</code>方法链接在一起。</li></ul></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="b73f" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">获取特定的时间戳</h1><p id="d075" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">要为特定的时间点创建一个<code class="fe lv lw lx ly b">datetime</code>对象，我们需要向对象的初始化传递参数。</p><p id="7813" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将依次经过<em class="ob">年</em>、<em class="ob">月</em>、<em class="ob">日</em>、<em class="ob">小时</em>、<em class="ob">分钟</em>、<em class="ob">秒</em>和<em class="ob">微秒</em>。这很容易记住，因为单位会逐渐变小。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="16be" class="nh mh it ly b gy ni nj l nk nl">from datetime import datetime as dt</span><span id="82c5" class="nh mh it ly b gy nm nj l nk nl">time = dt(2020,2,1,11,24,31,436563)</span><span id="00ba" class="nh mh it ly b gy nm nj l nk nl">print(time) # 2020-02-01 11:24:31.436563</span></pre></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="b4c0" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">结论</h1><p id="7f00" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">如果这是你第一次(一语双关)使用Python的<code class="fe lv lw lx ly b">datetime</code>库，那么我希望它对你有所帮助，并告诉我使用情况。如果你是一名头发斑白的兽医，那么在下面的评论中分享你最喜欢的<code class="fe lv lw lx ly b">datetime</code>方法。谢谢大家！</p></div></div>    
</body>
</html>