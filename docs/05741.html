<html>
<head>
<title>Custom Paging UI in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的自定义分页UI</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/custom-paging-ui-in-swiftui-13f1347cf529?source=collection_archive---------3-----------------------#2020-08-03">https://betterprogramming.pub/custom-paging-ui-in-swiftui-13f1347cf529?source=collection_archive---------3-----------------------#2020-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6035" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用新的PageTabViewStyle创建动画索引视图</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fdc69dc635f474f7a8181644a096e17b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J3dQJZMxWIy_PIHv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">泰勒·拉斯托维奇在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="fb54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SwiftUI 2引入了一种叫做<code class="fe lv lw lx ly b">PageTabViewStyle</code>的新<code class="fe lv lw lx ly b">TabView</code>样式，使开发人员能够轻松地创建底部带有圆点的水平页面(也称为分页),以向用户显示它们的位置。这相当于UIKit中的<code class="fe lv lw lx ly b">UIPageViewController</code>。</p><p id="4c5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我们将讲述如何为<code class="fe lv lw lx ly b">TabView</code>使用新的样式，以及如何创建一个定制的<code class="fe lv lw lx ly b">IndexView</code>组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/223032c91c06987a02d3696eab777f2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PmKJyAj2XZO0EKwXMGh6zQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">动画集</p></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="6311" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">入门指南</h1><p id="d8b2" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">使用新的API就像设置新的<code class="fe lv lw lx ly b">PageTabViewStyle</code>一样简单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="200b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我有一个颜色数组——每种颜色代表一个页面——我还用每个<code class="fe lv lw lx ly b">Color</code>视图所需的索引来标记它。<code class="fe lv lw lx ly b">TabView</code>初始化器有一个代表当前页面的<code class="fe lv lw lx ly b">selection</code>绑定。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/ecc92decf5156feba29239f98cf7c0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itfQFnwrABigDvXMuIN81A.png"/></div></div></figure><p id="cfc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有几件事要记住:</p><ol class=""><li id="4873" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu nm nn no np bi translated">分页点是白色半透明的。因此，如果你的背景也是白色的，你就看不到它们(在iOS/Xcode Beta 3上测试)。</li><li id="39f8" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated"><code class="fe lv lw lx ly b">TabView</code>的内容不能在安全区域insets上绘制(在iOS/Xcode Beta 3上测试)。</li></ol></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="d199" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">创建自定义索引视图</h1><p id="8839" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">现在我们已经了解了基础知识，我们可以快速创建任何自定义组件来表示当前页面，并使用我们的<code class="fe lv lw lx ly b">currentIndex</code> state属性相应地更新它。</p><p id="6baa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将尝试制作一个更加动态的系统点版本。该索引组件将最多显示三个点，并在您浏览页面时显示插入/移除的动画。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/42f51a6f15d8d63acb43c0b409e558d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CrKl8Bz9HGs3v5HAJlQffA.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="b25e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是相当多的代码，所以让我们一步一步来看:</p><p id="be6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">1.<code class="fe lv lw lx ly b">ForEach</code>和<code class="fe lv lw lx ly b">shouldShowIndex()</code> —仅显示三个或更少的点(对于当前页面及其相邻页面)。</p><p id="7229" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.<code class="fe lv lw lx ly b">.fill()</code>和<code class="fe lv lw lx ly b">.scale()</code> —对<code class="fe lv lw lx ly b">Circle</code>关注的陈列柜应用不同的样式。</p><p id="ba80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.<code class="fe lv lw lx ly b">.transition()</code> —用不透明度和比例制作每个<code class="fe lv lw lx ly b">Circle</code>的插入和移除动画。</p><p id="4111" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.<code class="fe lv lw lx ly b">.id(index)</code> —为每个索引创建唯一的<code class="fe lv lw lx ly b">Circle</code>实例。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="02a1" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">最后一步</h1><p id="6bc1" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">现在我们只需要更新<code class="fe lv lw lx ly b">ContentView</code>来使用新的<code class="fe lv lw lx ly b">Fancy3DotsIndexView</code>:</p><ol class=""><li id="44a3" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu nm nn no np bi translated">为<code class="fe lv lw lx ly b">currentIndex</code>绑定发生的每一个变化添加一个隐式动画。</li><li id="606f" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">覆盖新的<code class="fe lv lw lx ly b">IndexView</code>组件并插入必要的属性。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="7464" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/be70d9e80ff65b10bd9473e6a9bc02d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vmZCOtzE1vAEkV_1mbV7FA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最终产品</p></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="7ebd" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">结论</h1><p id="c856" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在SwiftUI中制作动画已经非常容易，现在有了新的<code class="fe lv lw lx ly b">TabView</code>风格，你可以创建任何类型的索引视图！敬请关注我即将发布的文章！</p><p id="d130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你觉得自己足够勇敢，我鼓励你尝试制作自己的动画！</p></div></div>    
</body>
</html>