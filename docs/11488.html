<html>
<head>
<title>Build a Basic Server Side Swift Application With Vapor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vapor构建基本的服务器端Swift应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/basic-server-side-swift-with-vapor-57dec37b6abc?source=collection_archive---------7-----------------------#2022-03-24">https://betterprogramming.pub/basic-server-side-swift-with-vapor-57dec37b6abc?source=collection_archive---------7-----------------------#2022-03-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="09c2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">设计一个大学考试系统</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/21b46d7933f5d17329c899a7ad84d07d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mPJSZsJrHGRuqdvj"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@mclee?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> MChe Lee </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="e1b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(与<a class="ae kv" href="https://www.linkedin.com/in/giuseppe-carannante/" rel="noopener ugc nofollow" target="_blank">朱塞佩·卡兰南特</a>和<a class="ae kv" href="https://www.linkedin.com/in/domenicomarino7/" rel="noopener ugc nofollow" target="_blank">多梅尼科·马里诺</a>合作)</p><p id="ed5e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，我们将展示如何使用<a class="ae kv" href="https://it.wikipedia.org/wiki/CRUD" rel="noopener ugc nofollow" target="_blank"> CRUD </a>操作创建和处理一个小型数据库。</p><p id="6cae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你需要帮助在你的应用程序中使用你的API，请遵循本指南。</p><p id="597a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于下面的例子，我们考虑一个大学考试系统。我们将创建三个不同的表(Exam、Student和StudentExam ),以便模拟一个大学数据库，您可以在其中注册和显示您的考试。</p><h1 id="7951" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">安装自制软件、Vapor和PostgreSQL</h1><p id="af40" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在开始打包处理软件(家酿)之前，需要一个框架(Vapor)和一个数据库(PostgreSQL)。</p><p id="f9d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么应该使用Vapor？<em class="mp"> Vapor </em>是一个用于<em class="mp"> Swift </em>的HTTP web框架。它为你的下一个网站、API或云项目提供了一个漂亮的表达和易于使用的基础。</p><h1 id="cd17" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">蒸汽项目</h1><p id="3e54" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们开始创建一个新的Vapor项目。打开您的终端，跟随下面的视频:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="4a8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们继续之前，让我们关注这一步:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/dff436aeef0d5d208055aec467566a23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*34Ns8dNEqsPxnvAWsAxlfQ.png"/></div></div></figure><p id="f814" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当被问及Fluent时，我们选择“是”,因为它会生成大量有用的代码，这些代码将在一段时间内加快我们的工作。</p><h1 id="9bf3" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">输入项目包</h1><p id="fb06" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在终端中打开“Package.swift”后，将会创建一个新的Xcode项目:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/d618e5a289c0604279352bd5f38ccb51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*LwB_kn_6DnrXqXsrVaCx1g.png"/></div></figure><p id="7d49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，我们不会使用TodoController文件，所以您可以删除或注释它。</p><h1 id="ba47" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.配置数据库连接</h1><p id="cc3a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在打开“configure.swift”文件，对其进行修改，并确保使用您的数据库数据更改“可选默认值”的正确值:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mr l"/></div></figure><h1 id="46c9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.创建和删除表</h1><p id="2e7e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">您可以选择在项目中创建表。如果没有，可以跳过这一部分，跳到下一步。</p><ul class=""><li id="4150" class="mv mw iq ky b kz la lc ld lf mx lj my ln mz lr na nb nc nd bi translated">转到<a class="ae kv" href="https://docs.vapor.codes/4.0/fluent/migration/" rel="noopener ugc nofollow" target="_blank">迁移</a>文件夹，为您的每个表创建一个类，如下所示:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mr l"/></div></figure><ul class=""><li id="87ed" class="mv mw iq ky b kz la lc ld lf mx lj my ln mz lr na nb nc nd bi translated">现在回到“configure.swift”文件，用这三行代码替换我们的默认迁移:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mr l"/></div></figure><ul class=""><li id="f792" class="mv mw iq ky b kz la lc ld lf mx lj my ln mz lr na nb nc nd bi translated">回到vapor并运行“Vapor运行迁移”:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="9690" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你去你的数据库，你应该找到你的表。</p><h1 id="56c8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3.创建RESTful APIs</h1><p id="83c4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在本节中，我们将讨论如何使用API创建和处理<a class="ae kv" href="https://it.wikipedia.org/wiki/CRUD" rel="noopener ugc nofollow" target="_blank"> CRUD </a>操作。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mr l"/></div></figure><h1 id="7ba2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">4.API测试</h1><p id="8148" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了测试我们的API，我们使用了Postman。看看下面的指南，我们在其中测试了一些API。</p><p id="0900" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mp">不要忘记运行你的应用程序，否则你将无法使用你所有的代码</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="0e5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想下载完整的项目，点击这里:<a class="ae kv" href="https://github.com/Alfuroot/Vapor-Swit_DB_tutorial" rel="noopener ugc nofollow" target="_blank"> GitHub </a></p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="ec24" class="nj lt iq nf b gy nk nl l nm nn"><strong class="nf ir">Want to Connect?</strong></span><span id="ef0e" class="nj lt iq nf b gy no nl l nm nn">In case you have any problem you can contact us on discord:</span><span id="5669" class="nj lt iq nf b gy no nl l nm nn">Giuseppe Carannante — <strong class="nf ir">Giuseppe Carannante#3488</strong></span><span id="6199" class="nj lt iq nf b gy no nl l nm nn">Domenico Marino — <strong class="nf ir">Domenico Marino#1203</strong></span><span id="b1f4" class="nj lt iq nf b gy no nl l nm nn">Gianluca Annina — <strong class="nf ir">SidusProxy#1914</strong></span></pre></div></div>    
</body>
</html>