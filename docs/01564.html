<html>
<head>
<title>Multilingual Real-Time Chat With AWS Translate and React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有AWS翻译和反应的多语言实时聊天</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/multilingual-real-time-chat-with-aws-translate-react-99401e103532?source=collection_archive---------11-----------------------#2019-09-24">https://betterprogramming.pub/multilingual-real-time-chat-with-aws-translate-react-99401e103532?source=collection_archive---------11-----------------------#2019-09-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c114" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">构建解决方案，帮助消除语言障碍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/dccd9584a434f6810ff77919c8479d53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*mMH9JZvnmFQiHAyAPu909Q.jpeg"/></div></figure><p id="7d6d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">语言障碍一直是一个真正的问题，尤其是如果你必须快速沟通。如果你每天都需要和来自世界不同地方的人交谈，你肯定知道我的意思。</p><p id="308d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">幸运的是，现在我们有一些非常酷而且非常准确的翻译服务，我们可以将它们投入到工作中，让生活变得更加轻松。不需要字典和逐句翻译。让我们构建一个解决方案，在Amazon Translate的帮助下完成这项工作。它有25种语言可用，非常容易使用，并且有精美的API文档。</p><p id="cf3c" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我们的解决方案将看起来像下面的视频。我们有三个人，分别来自英国、德国和波兰，说他们的母语没有任何问题，因为它会自动翻译。你所要做的就是选择一个登录名和一种你想要使用的语言。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi lm"><img src="../Images/067e4a84bba61537fb7c0e46cb8b938a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RUogVOUczS5M9o2kmom_mw.gif"/></div></div></figure><p id="b26b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了进行聊天，我们将使用React和Material-UI作为前端和Node.js和Socket。后端的IO。让我们从构建我们的极简服务器开始。它将主要包括两个部分:使用的事件和HTTP和WebSocket服务器的定义。我们的服务器将使用七个不同的事件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lr ls l"/></div><p class="lt lu gj gh gi lv lw bd b be z dk translated">事件. js</p></figure><p id="7aa5" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了连接到AWS，我们需要创建一个帐户并为应用程序生成一个访问密钥。以下是一些关于使用AWS IAM创建新帐户和生成访问密钥的精彩文章:</p><ul class=""><li id="08bb" class="lx ly it ks b kt ku kw kx kz lz ld ma lh mb ll mc md me mf bi translated"><a class="ae mg" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/getting-started_create-admin-group.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/IAM/latest/user guide/getting-started _ create-admin-group . html</a></li><li id="7436" class="lx ly it ks b kt mh kw mi kz mj ld mk lh ml ll mc md me mf bi translated"><a class="ae mg" href="https://docs.aws.amazon.com/general/latest/gr/managing-aws-access-keys.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/general/latest/gr/managing-AWS-access-keys . html</a></li></ul><p id="f1ca" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Dotenv是一个存储机密信息的伟大图书馆。您所要做的就是将它们放入一个在GIT中没有版本控制的. env文件中。这是放置AWS访问键的好地方。</p><p id="1b2a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">该应用程序的一个关键部分是通过WebSockets建立通信。它允许你实时通知每个成员发生了什么。我们将使用插座。IO是一个非常棒的库，它使得WebSockets非常容易设置。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lr ls l"/></div><p class="lt lu gj gh gi lv lw bd b be z dk translated">server.js</p></figure><p id="f61f" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我们将连接的用户存储在一个<code class="fe mm mn mo mp b">Map</code>中。它比标准的JavaScript对象更适合这项工作，因为它更便于迭代。</p><p id="e1e3" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">应用程序最重要的部分从第82行开始。当我们从用户那里收到一条新消息后，我们必须根据他们选择的语言为所有其他人翻译这条消息。如果需要新的翻译(有人说不同的语言)，我们必须调用AWS Translate并收集结果。API非常简单，我们所要做的就是调用<code class="fe mm mn mo mp b">translateText</code>方法并等待结果。</p><p id="fcd0" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">后端似乎工作正常，所以我们可以继续进行前端部分。我们需要允许用户在使用聊天之前选择语言和名称。我们还需要留意传入的消息和聊天成员的变化。这些都是应用程序状态的一部分。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lr ls l"/></div><p class="lt lu gj gh gi lv lw bd b be z dk translated">App.js</p></figure><p id="d5e3" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">应用程序的一个重要初始化部分是设置WebSocket通信。我们只使用<code class="fe mm mn mo mp b">useEffect</code>钩子触发它一次，没有任何依赖性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="26e7" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我们已经启动并运行了最重要的部分。现在，我们可以与任何人实时交谈，而不用担心语言障碍。不错！</p><p id="76c3" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">此处提供了该应用程序的完整源代码:</p><div class="mq mr gp gr ms mt"><a href="https://github.com/jkapuscik2/multilingual-chat" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd iu gy z fp my fr fs mz fu fw is bi translated">jkapuscik 2/多语言聊天</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">github.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh ko mt"/></div></div></a></div></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><h1 id="bce6" class="np nq it bd nr ns nt nu nv nw nx ny nz jz oa ka ob kc oc kd od kf oe kg of og bi translated">资源</h1><ul class=""><li id="73ba" class="lx ly it ks b kt oh kw oi kz oj ld ok lh ol ll mc md me mf bi translated"><a class="ae mg" href="https://docs.aws.amazon.com/translate/latest/dg/what-is.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/translate/latest/DG/what-is . html</a></li><li id="84f5" class="lx ly it ks b kt mh kw mi kz mj ld mk lh ml ll mc md me mf bi translated">【https://aws.amazon.com/iam/ T4】</li><li id="a10a" class="lx ly it ks b kt mh kw mi kz mj ld mk lh ml ll mc md me mf bi translated"><a class="ae mg" href="https://socket.io/docs/emit-cheatsheet/" rel="noopener ugc nofollow" target="_blank">https://socket.io/docs/emit-cheatsheet/</a></li></ul></div></div>    
</body>
</html>