# JavaScript 中的析构赋值

> 原文：<https://betterprogramming.pub/great-javascript-shorthand-destructuring-assignment-500dcd22311e>

## 干净代码的语法快捷方式

![](img/11f8ca9326050e48a860fe755d89fe29.png)

[Clem Onojeghuo](https://unsplash.com/@clemono2?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

JavaScript 是前端开发的主要语言。后端开发也用了很多。

在过去的几年里，这种语言变得更好了。

在本文中，我们将研究 JavaScript 的一个更好的特性，即析构赋值语法。

# 数组的析构语法

析构语法用于将对象和数组条目分配给它们自己的变量。

例如，我们可以编写以下代码，将数组条目分配给各个变量:

```
const [a, b] = [1, 2];
```

然后，析构赋值语法将条目分配给位于相同位置的变量。

因此，`a`为 1，`b`为 2。

我们不需要把它们都赋给变量，所以我们可以这样写:

```
const [a] = [1, 2];
```

那么`a`就是 1。

同样，我们可以把没有被赋值的变量赋给数组。

例如，我们可以写:

```
const [a, ...b] = [1, 2, 3];
```

这三个点表示我们正在将没有分配给变量的数组条目分配给一个数组。

因此，`a`为 1，`b`为`[2, 3]`。

我们还可以为析构赋值的变量设置一个默认值。例如，我们可以写:

```
const [a, b, c = 3] = [1, 2];
```

那么`c`就是 3 因为我们没有给它赋任何东西，所以给它赋了默认值 3。

嵌套值也可以。例如，我们可以写:

```
const [{
  foo
}, b] = [{
  foo: 1
}, 2];
```

然后 JavaScript 解释器将匹配对象的形状和数组中的位置，并相应地执行析构赋值。

因此，右边的`foo`的值被赋给左边的`foo`，我们得到`foo`为 1。

# 对象的析构语法

我们可以在对象上使用析构语法，将属性值赋给与相应属性名同名的变量。

例如，我们可以写:

那么`a`是 1，而`b`是 2，因为`a`在左边，而`a`是 1，所以 JavaScript 解释器匹配属性名和变量名，并根据该名称进行赋值。

对属性`b`进行同样的操作。

我们也可以将它设置为不同的变量名。为此，我们写道:

然后，我们通过将右边的属性`b`与左边的属性`b`匹配，将 2 分配给`c`。

像数组析构语法一样，我们可以给左边的变量赋一个默认值。

例如，我们可以写:

然后`c`被设置为 3。当对象中没有`c`属性时。因此，在上面的代码中，`c`将是 3。

析构赋值也适用于嵌套值。例如，我们可以写:

该示例将把`b`设置为 3，因为 JavaScript 解释器匹配左边和右边的对象结构，然后把左边的`b`设置为 3。

没有分配给变量的值可以分配给另一个对象，如下所示:

`rest`将具有:

```
{b: 2, c: 3}
```

因为我们使用了`...`操作符。

# 交换变量

析构语法的一个重要应用是交换变量值。

例如，如果我们有:

```
let a = 1,
  b = 2;
[a, b] = [b, a];
```

那么在应用析构语法之后,`a`是 2，而`b`是 1。

这大大减轻了我们大脑的负担，因为我们不需要临时的占位符变量或者加减数值来交换数值。

# For…of 循环

`for...of`循环使用析构语法。

例如，我们可以写:

然后我们得到:

```
Jane Smith
Don Smith
```

从`console.log`输出。从被迭代的对象中提取内容非常方便。

# 结论

我们可以使用 JavaScript 析构语法将属性值和对象条目赋给变量。

它适用于嵌套对象。我们可以用`...`操作符给数组分配额外的条目。

`for...of`循环也使用析构语法。

要编写干净的代码，我们应该现在就使用它。