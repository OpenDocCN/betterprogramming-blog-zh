<html>
<head>
<title>How I Finally Managed to Debug My Google Cloud Hosted Alexa Skill Locally</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何最终设法在本地调试我的谷歌云托管的Alexa技能</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-i-finally-managed-to-debug-my-google-cloud-hosted-alexa-skill-locally-b76c416e533a?source=collection_archive---------16-----------------------#2022-03-28">https://betterprogramming.pub/how-i-finally-managed-to-debug-my-google-cloud-hosted-alexa-skill-locally-b76c416e533a?source=collection_archive---------16-----------------------#2022-03-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ffa7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">轻松调试你的Alexa技能的四个步骤</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/99a7f56d589a42c40527b2210e20416d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i_5eojCP9nea8jPQ5IeWaQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">布鲁斯·马斯在<a class="ae kv" href="https://unsplash.com/s/photos/laptop-success?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="82e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我开发Alexa技能的过程中，我在开发servlets而不是AWS lambda函数时遇到了许多陷阱。我花了相当长的时间来解决这些问题，包括阅读许多不同的网站、博客帖子和观看YouTube视频。</p><p id="4822" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我很想有一个可以查找这些东西的档案，所以我想肯定还有其他人会发现这些信息是有用的，所以我决定分享我的知识，希望有人会发现它是有帮助的。</p><h1 id="6c84" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么</h1><p id="dfa8" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">2017年，当我在开发我的第一个Alexa技能时，我使用简单的日志消息“调试”了我的代码，可能像许多初学者一样，当时对我来说这很好，但这比通常的调试更耗时，也不那么舒服。因此，一旦过程/软件变得更加复杂，能够真正调试代码就不错了。直到后来，我才开始思考如何做得更好，并找到了这种方法，现在我将详细解释这一点。</p><h1 id="8f30" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">我已经有了Alexa技能</h1><p id="13bc" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果你已经有一个运行在谷歌应用引擎上的Alexa技能，只是想知道如何调试它，点击<a class="ae kv" href="#0f71" rel="noopener ugc nofollow">这里</a>。</p><h1 id="7b19" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">目录:</h1><ul class=""><li id="b728" class="mp mq iq ky b kz mk lc ml lf mr lj ms ln mt lr mu mv mw mx bi translated"><a class="ae kv" href="#8a56" rel="noopener ugc nofollow">第一步——在亚马逊创造新技能</a></li><li id="cdfd" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="#0c0a" rel="noopener ugc nofollow">第二步——在IntelliJ中设置Java项目</a></li><li id="e3f4" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="##334a" rel="noopener ugc nofollow">第三步——创建Alexa技能类别</a></li><li id="c6b6" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="#0f71" rel="noopener ugc nofollow">第四步——完成一切并开始调试你的技能</a></li><li id="a8b9" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="#fe40" rel="noopener ugc nofollow">总结</a></li></ul><h1 id="b315" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">让我们直接跳进来吧</h1><p id="d4a9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">您需要什么:</p><ul class=""><li id="c722" class="mp mq iq ky b kz la lc ld lf nd lj ne ln nf lr mu mv mw mx bi translated">智能集成电路</li><li id="fdf5" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">JDK 8岁或11岁以上</li><li id="cf55" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">Apache Maven 3.8.4以上</li><li id="c2e6" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">恩罗克(<a class="ae kv" href="https://ngrok.com/download" rel="noopener ugc nofollow" target="_blank">https://ngrok.com</a>)</li></ul><p id="e383" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该帐户必须已经设置:</p><ul class=""><li id="33e0" class="mp mq iq ky b kz la lc ld lf nd lj ne ln nf lr mu mv mw mx bi translated">亚马逊开发者账户——用于创建新的Alexa技能</li></ul><h1 id="8a56" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">第一步——在亚马逊创造一项新技能</h1><p id="e190" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">打开<a class="ae kv" href="https://developer.amazon.com/alexa/console" rel="noopener ugc nofollow" target="_blank">https://developer.amazon.com/alexa/console</a>并创建一个新的Alexa技能:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/8354f55334364d92c52dd9e19c1939fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wKKks-xq76djizJRiKaEvQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2010–2021年，Amazon.com公司及其子公司。保留所有权利。</p></figure><p id="5ec8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">提供一个名称，选择“Custom”作为您的技能类型，然后选择“Provision your own ”,因为我们将在本地计算机上“托管”该技能:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/5f79f07af3e193f7e7a25a694dd0ca36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pq06qo8kF2dVpi7gJtRyWA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2010–2021年，Amazon.com公司及其子公司。保留所有权利。</p></figure><p id="443e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击创建，选择<strong class="ky ir">从头开始</strong>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/17a5024295d1875d9197ae313340147c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gIOaIiXCxEwg6WiBM8STHQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2010–2021年，Amazon.com公司及其子公司。保留所有权利。</p></figure><p id="d24b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">技能创建完成后，点击“复制技能ID”并保存该ID以备后用:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/c24b506c540ac6dc77d2a8fe81f1f91b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OACzuXWXE_ovGmM5G7wU5g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2010–2021年，Amazon.com公司及其子公司。保留所有权利。</p></figure><p id="d77f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在打开技能，设置调用名为“hello debugging”。该调用名称用于通过模拟器或回显点启动技能，例如:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/0376aec6b05050271d8aecbce8f1e37f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FeZe-IpDS7JacEbqrMHKOw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2010–2021年，Amazon.com公司及其子公司。保留所有权利。</p></figure><p id="c8e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击“保存模型”并继续下一步。</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="0c0a" class="ls lt iq bd lu lv nr lx ly lz ns mb mc jw nt jx me jz nu ka mg kc nv kd mi mj bi translated">步骤2 —在IntelliJ中设置Java项目</h1><p id="d577" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了能够调试某些东西，我们需要编写一些代码:-)因此我们只需在IntelliJ中创建一个新项目:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/0f712435c5e25e33533494fe639cb24d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lswfDnVqAXJ-FMa7Tu036Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="db29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择“Java”并继续“下一步”:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/e3d49594f81fa816975e2a785603372c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3vS2lP8isdiV9Wc-P6ADmg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="ecae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也用“下一步”确认该步骤:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/a3cc01546958757b85e94cdd5ea598f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KUq_iGhDiidhBkEncHd92w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="e6b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在选择“项目名称”和项目位置:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/f935b5928416619cc4dc711973ebf79b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IMbfzmZQA7Kd7jn5u6yudA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="114c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当项目被创建并且主窗口被打开时，点击“IntelliJ IDEA-&gt; Preferences-&gt; Plugins”，并且安装来自Google的“云代码”插件:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/18e509fab4c4e1acd5170d8cfb58f367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aSnDW9NuERaBD4FFyT_nIw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="08b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装完成后，我们继续将“Maven”和“Google App Engine Standard”添加到项目中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/b9beb79da7c30430bc07ce773bf7858d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*E_dI_QN7go615Zxz8xEkbg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="49a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保选择了“Google App Engine Standard”和“Maven”。单击“确定”进行确认:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/4c9740e91453e924313884b5bd16252b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FQLguUFCkIoYbUHFO2K2YA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/b0e407476387be43f64b01b61fd12aae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EcSYrTHV0FSkdvb-XzgDng.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="fc65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时，您可以看到一个“web”文件夹和一个“pom.xml”文件已经添加到项目中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/14f85e383deb897ac9ae30f595d5b4fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6H5F6BCGPlz6HhLeGhW-Ww.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="c507" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们继续，通过maven添加一些依赖项，如ask-sdk、javax.servlet-api和log4j-core。要添加这些依赖项和项目配置，只需用这个文件替换pom.xml内容。</p><p id="801c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您已经在Google Cloud Platform上创建了一个项目，您可以用您的项目id替换“您的项目id ”,否则您可以在此处提供的文件中继续使用这个“虚拟”ID:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="62b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重新加载maven项目，以便应用更改:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/ab65b2dab4152c7fe104787af8f18252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z8oIpz1xuoDARvXDqh3v6g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="09f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更新完成后，我们可以继续使用<code class="fe of og oh oi b">appengine-web.xml</code>文件，它包含应用引擎的某些配置属性。复制文件的内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="a0f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并用先前保存的技能ID替换占位符“{您的技能ID}”:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/7fc4c5037f15c4a1f7f0f57fb573423b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3B3GIxLIosG3iwSDr4QXCw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="fe58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我已经创建了一个<code class="fe of og oh oi b">log4j2.xml</code>文件，其中包含了向<code class="fe of og oh oi b">SYSTEM_OUT</code>记录消息的一些基本设置。只需复制内容并将其放置在<code class="fe of og oh oi b">src/main/resources/log4j2.xml</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/ac04eed77da57a3c241b5cebf5329b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rh7CdF7SbfgbrMhubqzKPQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="7a75" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有关如何配置记录器的更多信息，请参考<a class="ae kv" href="https://logging.apache.org/log4j/2.x/manual/" rel="noopener ugc nofollow" target="_blank"> log4j手册</a>。</p><p id="d459" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在所有这些步骤之后，我们检查我们是否已经正确地设置了一切。打开项目设置，检查“<strong class="ky ir"> Facets </strong>是否包含这两个条目:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/7b5452800462ee421b7b7fe4751f7c53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2WmtygU9bouI7jxUZ2Ivg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="f416" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果没有，使用加号图标添加“Web”和“GAE标准”方面。</p><p id="0c03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，让我们转到“工件”部分，检查“war”和“war exploded”工件是否是在项目构建时创建的。如果缺少一个，也可以使用加号图标添加它:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/94a40197e0cabf19c8ee10b2de1a08e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jQTdp1dr0c55Nux5g6hrmQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="7d49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保两者都可用，并且“war exploded”工件包含在项目构建中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/00b33b74de89b78c958ff087674e0642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*beqgflCqd_Sov9srCkcsYw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="334a" class="ls lt iq bd lu lv nr lx ly lz ns mb mc jw nt jx me jz nu ka mg kc nv kd mi mj bi translated">步骤3-创建Alexa技能类</h1><p id="6963" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先，我们需要创建handler类，它只对启动请求进行一些基本的处理。让我们把它放在<code class="fe of og oh oi b">src/main/java/handler/LaunchHandler.java</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/d4bf8ac29c3037bdede0b6c6574f58bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c5NqDVcE2yUARp9PAmZlrA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="6762" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们需要创建应用程序的入口点，servlet类。这个类扩展了Amazon的<code class="fe of og oh oi b">SkillServlet</code>类，提供了处理程序以及其他一些重要的配置，比如技能id。我们将添加之前创建的<code class="fe of og oh oi b">LaunchHandler</code>以及我们的技能id:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="96a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后但同样重要的是，我们需要将我们的<code class="fe of og oh oi b">AlexaServlet</code>类添加到<code class="fe of og oh oi b">web.xml</code>文件中，以便我们能够调用我们的技能:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/6e6729531d5c1addc3c600e7601aed43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5wcVe-Em8aJjVi2sX3Jexg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="9fa9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基本上我们只是引用了<code class="fe of og oh oi b">AlexaServlet</code>类，并告诉应用程序这个servlet可以通过这个URL到达:<a class="ae kv" href="http://localhost:8080/alexa:" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/Alexa:</a></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="692a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，点击运行配置旁边的<strong class="ky ir">调试</strong>按钮，尝试构建并运行应用程序。如果一切顺利，我们应该看到服务器启动时没有任何问题:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/7c09425c81ac48a1321f07985d8a3018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xZyiazUx0gGJoVn1CYsfTg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="0f71" class="ls lt iq bd lu lv nr lx ly lz ns mb mc jw nt jx me jz nu ka mg kc nv kd mi mj bi translated">第四步——完成一切，开始调试你的技能</h1><p id="fa35" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在打开一个终端，导航到您之前下载<code class="fe of og oh oi b"><strong class="ky ir">ngrok</strong></code>的位置，并执行这个命令:<code class="fe of og oh oi b">./ngrok http 8080</code></p><p id="0e1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Ngrok通过8080端口隧道连接到您的本地机器，并提供一个带有有效证书的公共URL，以便我们可以将Amazon上的技能连接到我们的本地机器。继续复制HTTPS网址并粘贴到亚马逊:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/062d86ba62ae0d37fd74fe849a6752b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nWIzAq40-o777MNkY8bgBA.png"/></div></div></figure><p id="644a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保在URL末尾添加“/alexa ”,以便调用我们的<code class="fe of og oh oi b">AlexaServlet</code>,并从下拉菜单中选择“我的开发端点是拥有通配符证书的域的子域”:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/ea60fb462b988e8603cd9df87e3f6937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XeBn9yXqVeiBmyWZfuYZqQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2010–2021年，Amazon.com公司及其子公司。保留所有权利。</p></figure><p id="7481" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们一直在等待的时刻终于到来了:我们可以设置一个断点，例如在我们的一个日志消息中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/ffc7e966f5cfc0aa4b2a74a3b4062f4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5AVOc7oMyFN9HWy8PvWU0Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><p id="9df8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你现在切换回浏览器并点击alexa开发者控制台中的“测试”标签，你可以根据技能的语言使用“你好调试”或“打开你好调试”来启动技能。此外，IntelliJ现在应该用这个蓝色条表示断点是活动的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/19c69a7e993e5ce8725573ba45553d09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m9DPtczsU9G1mKjfTCJjqQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">版权所有2022 JetBrains s.r.o .，经许可使用。JetBrains IntelliJ和IntelliJ徽标是JetBrains s.r.o .的注册商标</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/e7949292cc1519b4fcd3000764ed392c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bNYQ3KkuTkrAKamWxLhqmw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2010–2021年，Amazon.com公司及其子公司。保留所有权利。</p></figure></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="fe40" class="ls lt iq bd lu lv nr lx ly lz ns mb mc jw nt jx me jz nu ka mg kc nv kd mi mj bi translated">摘要</h1><p id="4cfc" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我总结一下我们的旅程。我们在Alexa开发者控制台中创建了一个新的Alexa技能，并设置了一个调用名称。</p><p id="a5ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们在IntelliJ中创建了一个Java项目，并添加了Maven和Google App Engine标准框架支持。在对配置文件做了一些小的调整后，我们使用<code class="fe of og oh oi b">ngrok</code>将一个带有有效SSL证书的公共URL传输到我们的本地机器。</p><p id="ba85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们在Alexa开发者控制台中的技能中添加了<code class="fe of og oh oi b">ngrok</code>提供的URL并打开，触发了IntelliJ中的断点。就是这样！我希望我能够帮助你们中的一些人，并祝你们在开发Alexa技能时获得更多乐趣！</p><p id="5a85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我看来，既然这是一个好的实践，那么整个项目当然也可以在<a class="ae kv" href="https://github.com/raseidl/alexa-hello-debugging" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得。</p></div></div>    
</body>
</html>