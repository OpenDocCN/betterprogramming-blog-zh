<html>
<head>
<title>Previewing the IDE of the Future — Fleet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预览未来的IDE舰队</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/previewing-the-ide-of-the-future-ff90da52c660?source=collection_archive---------2-----------------------#2022-10-20">https://betterprogramming.pub/previewing-the-ide-of-the-future-ff90da52c660?source=collection_archive---------2-----------------------#2022-10-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6d52" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">JetBrains最近发布了他们最新IDE Fleet的预览版。让我们来看看它</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8ede7b26e1a7abdb783ee770aa0a47ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rX6uuaYdHKVKX5UvRr-Jcw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由珀西·博尔梅尔提供。Gopher由拓也·上田提供，原始Go Gopher由勒内·弗伦奇提供(CC BY 3.0)</p></figure><p id="1714" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我已经等了很久了，等待“喷气大脑”发布他们的新产品<a class="ae lu" href="https://www.jetbrains.com/fleet/" rel="noopener ugc nofollow" target="_blank">舰队</a>。坦白地说，我一直觉得JetBrains的产品比他们的竞争对手更强大，但也非常昂贵，这是有道理的。</p><p id="c8a4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">IDE是开发人员最重要的工具之一；它是我们花费大部分时间的地方，拥有一个好的工具是很重要的。</p><p id="ebf9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我是一个经常使用Go的开发者，GoLand总是给我留下最强大的编辑器的印象。</p><p id="5b86" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以你可能认为我会用Goland？我确实有我仁慈的雇主提供的执照，但是我不能忍受使用它。用户界面看起来又老又混乱，我无法忍受。有这么多按钮，一切都隐藏在一些菜单后面。</p><p id="52dd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我对Fleet非常感兴趣，但是，想象一下IntelliJ产品的力量，但是有一个更好的用户界面。这引起了我的注意。我知道他们可以提供强大的产品，但如果他们能管理一个更好的UI，我会被说服。</p><p id="b6a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该产品仍未完成，已处于封闭测试阶段一段时间，但他们最近发布了一个公共预览。让我们下载它，并给它一个旋转！</p><p id="2421" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在预览期间，你可以在他们的网站上免费下载后使用Fleet。</p><p id="60df" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要安装它，您需要他们名为<code class="fe lv lw lx ly b">Toolbox</code>的软件管理应用程序。一旦你启动工具箱，你可以在顶部找到Fleet进行预览，这允许你下载它。</p><p id="a186" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将基于Go代码探索Fleet。代码可以在我的<a class="ae lu" href="https://github.com/percybolmer/websocketsgo" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p><p id="5583" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你更愿意把这篇文章当成视频来看，你可以在我的YouTube上找到它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">本文的视频记录</p></figure><h1 id="ccff" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">预览和导航代码</h1><p id="511f" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">映入我们眼帘的第一个屏幕是工作区选择屏幕。在其中，我们可以看到当前支持的连接类型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/757b6c85573804f407ccc83914476418.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lZcyeWkWXr0t1Iw2Gs3E7A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">车队启动画面—设置您的通缉代码位置</p></figure><p id="535f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Fleet使得在远程服务器上使用本地计算机上的文件、<a class="ae lu" href="https://www.jetbrains.com/space/" rel="noopener ugc nofollow" target="_blank"> Space </a>、Docker或SSH变得很容易。这是一个非常好的特性。对于VS代码，我依靠一个<a class="ae lu" href="https://code.visualstudio.com/docs/remote/remote-overview" rel="noopener ugc nofollow" target="_blank">远程扩展</a>来实现。</p><p id="9c87" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了测试这一点，我将<code class="fe lv lw lx ly b">Clone from Git</code>把我在<a class="ae lu" href="https://github.com/percybolmer/websocketsgo" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的一个WebSocket API的GitHub库拉回家。这很简单，只需输入一个指向存储库的URL和我电脑上存储它的位置。</p><p id="efab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦完成，舰队给我们看文件。UI与VSCode非常相似，所有文件都在侧边栏中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/b50e3092097346784e7f6857b2f19695.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/format:webp/1*eNw91Tq4nUtyVvwuG22Cog.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">当前打开的项目的文件列表</p></figure><p id="9c3d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有趣的是，Fleet要求我们启用<code class="fe lv lw lx ly b">Smart Mode</code>。智能模式将分析当前工作区中的代码库，启用语法高亮显示、自动完成、错误检测，并启用与文件内部语言相关的重构。您希望从IDE中获得的所有常规功能。我们当然希望这样，默认情况下必须启用它有点奇怪。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/14fab714eb48afc5857f3f7415a88a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*zHfo0ATK3vj7_D6--DnI5g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启用智能模式会通过分析代码库来触发常规的IDE功能</p></figure><p id="88ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">启用运行需要几秒钟，但是一旦完成，我们可以看到代码具有语法高亮。</p><blockquote class="nb nc nd"><p id="30b0" class="ky kz ne la b lb lc ju ld le lf jx lg nf li lj lk ng lm ln lo nh lq lr ls lt im bi translated">我假设当你想打开一个巨大的代码库，又不想让你的电脑崩溃时，可以禁用智能模式</p></blockquote><p id="19b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我注意到的第一件事是我觉得很酷的用法亮点。在我的<code class="fe lv lw lx ly b">Event</code>结构上面，我可以看到一个小通知，这个结构在我的代码库中的七个位置被使用，当然，我也可以通过点击高亮来查看代码引用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/0627c6021a5520721c4cb3fa995af290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*57H-OcWK28VPg9upoYYeIA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示结构参考的使用说明</p></figure><p id="360b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个很好的功能。</p><p id="8446" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我发现其他IntelliJ产品的一个很好的特点是他们的GoTo搜索屏幕。这是一个屏幕，允许您自由文本搜索您的代码库，并在给定的位置打开文件。幸运的是，他们已经将goto屏幕包含在舰队中。</p><p id="c99b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下要点向您展示了我如何使用它在代码库中搜索<code class="fe lv lw lx ly b">RetentionMap</code>的声明，以找到并定位它被声明的具体位置。要调出goto搜索，我们可以使用<code class="fe lv lw lx ly b">ctrl+K</code>。一旦菜单出现，我们就可以搜索单词及其参考。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Gist显示使用舰队转到功能</p></figure><p id="96f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">搜索屏幕很漂亮。它向我们展示了多次点击和每次点击的一些代码预览，以便在它们之间轻松导航。</p><h1 id="5961" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">接口实现和使用亮点</h1><p id="ddf1" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">在代码库中，我有一个基于计时器丢弃旧密码的<code class="fe lv lw lx ly b">RetentionMap</code>，这是一个简单的一次性密码(OTP)解决方案。我想有一个名为<code class="fe lv lw lx ly b">verifier</code>的接口，它可以有一个带有签名<code class="fe lv lw lx ly b">VerifyOTP(otp string) bool</code>的方法。这暂时没有意义。这只是为了测试编写一些代码，看看它如何处理接口实现和代码建议。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">展示代码建议和接口实现，托管在<a class="ae lu" href="https://giphy.com/gifs/go-code-fleet-BYWhcce5E5ibcFFerB" rel="noopener ugc nofollow" target="_blank"> Giphy </a>上</p></figure><p id="0822" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">gif中的实际代码建议非常有限，但亮点是这个接口是由一个struct实现的，并且跳转到实现的能力很好。</p><p id="0e53" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以看到RetentionMap还列出了1 <code class="fe lv lw lx ly b">super</code>在编写接口之后，这是该结构正在实现的所有接口的列表，这在导航具有许多接口的大型代码库时很好。</p><p id="9c00" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，默认情况下，编辑器中有一些不错的功能。外观也相当有趣，在结构和接口等上面出现了小的高亮摘要。这也适用于变量和常量。在它们的用法之间导航真的很容易。</p><p id="a81f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们写一些可以用来调试<code class="fe lv lw lx ly b">VerifyOTP</code>实现的代码，因为在我看来，除了代码建议之外，调试可能是IDE最重要的特性。</p><h1 id="464b" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">编写代码、调试和测试</h1><p id="9559" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我们将要测试的代码相当简单，<code class="fe lv lw lx ly b">RetentionMap</code>是一个存储字符串值的映射，在一段时间后，它们会被删除。</p><p id="8ca1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将为这个功能编写一个单元测试，以确保它能正常工作。</p><p id="309b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我打开<code class="fe lv lw lx ly b">otp_test.go</code>，这是我要更新的文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Gif展示了编辑器如何建议生成一个单元测试</p></figure><p id="dc4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我键入<code class="fe lv lw lx ly b">func TestOTP</code>之后，Fleet推荐了一个名为<code class="fe lv lw lx ly b">TestRetentionMap_VerifyOTP</code>的自动命名单元测试，这正是我想要的。然后它生成单元测试的函数签名，这很好。</p><p id="4fec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在编写单元测试时，我们可以看到我在VS代码中错过的一个很酷的特性。每当我输入一个函数名时，Fleet就会弹出一个窗口，它会在我的光标旁边浮动，提供一些代码建议，比如与我的模式匹配的函数名、它们的输入参数等等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/a620b7b0c922248f36166957af3762e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*DehX_N8KUPJwjI7JfePTPA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">给我们功能建议的舰队</p></figure><blockquote class="nb nc nd"><p id="9673" class="ky kz ne la b lb lc ju ld le lf jx lg nf li lj lk ng lm ln lo nh lq lr ls lt im bi translated">我说我在VS代码中错过了这个特性，但是它确实存在，但是没有显示输入参数。</p></blockquote><p id="1816" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦单元测试完成，我们可以在两种模式下执行测试:运行模式和调试模式。这些模式可以通过单元测试旁边一个漂亮的小播放按钮找到。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/b12f783d7385d0ac48c4714ac2171163.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*3nix7EWti4mOoQ6asblixg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示播放按钮以运行单元测试</p></figure><p id="b997" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Run将简单地执行测试，并在新的终端中打印结果。Debug将允许我们附加断点，并使用<code class="fe lv lw lx ly b">dlv</code>来查看当前的应用程序状态。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/6242e4b834e377c0b5d555b47f679319.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*WQjkmCtr1bQWKDZ96aL_rA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">单元测试的运行和调试模式</p></figure><p id="b3a4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我选择Run，我们将在底部的一个新终端中看到单元测试日志和输出(类似于VS代码)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/febd0ebdb224e79279809ff4fc7d3202.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*CShWtvhkxldsLftRZWtNsA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">单元测试显示单元测试的结果</p></figure><p id="518c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">调试是我喜欢的事情，所以让我们试试吧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/4bd36f2b3f6a4d360e07da7a34a3efce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V2f2KcTksoUYT2fgMV_NgQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">哎呀—安装程序似乎没有给出正确的调试权限</p></figure><p id="17f9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以看起来安装没有产生正确的权限。我会向他们报告的。车队团队维护着一个YouTrack，我们可以向它报告bug。</p><blockquote class="nb nc nd"><p id="1ef8" class="ky kz ne la b lb lc ju ld le lf jx lg nf li lj lk ng lm ln lo nh lq lr ls lt im bi translated">我的bug已提交<a class="ae lu" href="https://youtrack.jetbrains.com/issue/FL-15464/Ubuntu-ToolBox-installs-Fleet-with-Wrong-DLV-Permissions" rel="noopener ugc nofollow" target="_blank">【这里】</a></p></blockquote><p id="ad36" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们使用日志中的路径列出DLV二进制文件的权限，我们可以很容易地解决这个问题；它缺少执行权限。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="1640" class="nv mc it ly b gy nw nx l ny nz">chmod +x /home/percy/.local/share/JetBrains/Toolbox/apps/Fleet/ch-0/1.9.237/backend/plugins/go/lib/dlv/linux/dlv</span></pre><p id="e59c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们再次尝试调试。我在验证OTP的那一行设置了一个断点。</p><p id="8fe8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个新的显示屏将显示调试信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/893f281c1b0a7781349e4e873d883173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*VT4NWz56oDCaYErBldIi4g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">车队中的调试工具栏</p></figure><p id="00cc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">给我印象最深的是它列出了所有的goroutines。在这个视图中，我们可以在它们之间跳转，并检查所有当前正在运行的进程的当前状态。</p><p id="4833" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如您所看到的，我们也可以很容易地显示断点当前范围内存在的变量。</p><p id="b358" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以通过单步执行(转到下一行)来轻松浏览代码，单步执行进入被调用的函数，允许您调试嵌套的函数调用，同时尝试检测任何bug。我们也可以跳出去，完成当前的函数，然后进入调用它的父函数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/8bbb1ebc4900b3e11eb3d1013ef12839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*qF1XJufQJzdwVQB-g6fcMA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">扩展变量并移入代码。</p></figure><p id="1bf0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">总的来说，在舰队中调试似乎是一次非常愉快的经历。</p><p id="50f2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，我们对代码进行了更改，我们有一个存储库来推送这些更改，因此，让我们来探索Fleet中的源代码控制集成。</p><h1 id="2482" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">源代码管理集成</h1><p id="292e" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">对于IDE来说，一件非常重要的事情是，它应该帮助我们集成Git或任何其他支持的版本控制系统。</p><p id="6fa0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们探索一下这在舰队内部是什么样子。我们在几个文件中做了一些改动。让我们看看我们是否可以查看这些并推动它们。</p><p id="ca25" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">任何更改的文件都用蓝色文本和蓝点标记，以突出显示它们包含自上次提交以来的更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c61d7529aca0baf3ef0ba81fe29ec9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*dzYYz9M37jorwsEatmuIcQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">蓝色标记自上次提交以来的任何更改</p></figure><p id="af9c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以查看文件中用绿线标记的任何附加内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/b61786b430237d068fee637934cc7cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*B02Yethj7MN9Mo2Ytx2jAQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">绿灯亮表示改变的行</p></figure><p id="c24d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还有一个名为<code class="fe lv lw lx ly b">Git</code>的选项卡，显示已更改的文件，并允许我们进行新的提交。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/a9c48b0b4869b0a963d5148e92e58307.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*GRetbC3i_V4FeSQoavRJiw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Git选项卡显示更改并允许我们提交</p></figure><p id="57d7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们提交之前，让我们看看是否可以创建一个新的分支，这样我们就不会向主服务器提交任何东西。</p><p id="d94f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们启用了源代码控制，您可以在顶部菜单中看到您正在处理的当前分支，单击它允许我们快速而轻松地从当前分支创建一个新分支。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/378cc6402fbfc065ea47484f778a7ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*FIs4vU93AJRiuFiqElQGaw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">只需点击一个按钮就可以创建一个新的分支</p></figure><p id="5659" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦创建了一个新分支，它将更改为该分支。提交更改后，我们可以导航到<code class="fe lv lw lx ly b">History</code>选项卡，它以非常漂亮的图形显示git日志，并且可以查看每个提交以了解更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/69a92c93ab4a286fcace00b72f5bf2f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o0rDdRpr1djGg7qpvoDR6g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为存储库显示Git历史记录</p></figure><p id="1edc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦完成，我们可以通过使用Sync来推送它，这将拉和推在存储库上所做的任何更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/2e0559c29bbbbad10d226d00098749fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*csIUpdQWLLVFQpk5K9Annw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用同步来推送本地提交</p></figure><p id="9b93" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你是第一次使用Git，它会要求你提供你的GitHub令牌。如果你按下生成按钮，它甚至会把GitHub带到正确的位置，这很好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/35262f3d293f24976748174cba8851fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*b_yGYnuWP-Nme3LeLslCfA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">生成GitHub令牌以与车队集成</p></figure><p id="cbfe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">粘贴令牌后，我们就连接到GitHub了。</p><p id="5df5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这很简单，不需要额外的插件。</p><h1 id="c2b9" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">操作和运行配置</h1><p id="c3b0" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我们要探索的另一个特性是使用编辑器执行程序。当我们想要运行应用程序和附加调试器时，这是很有用的。</p><p id="322a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如您所想象的，要附加断点和其他东西，我们需要从IDE中执行应用程序。通过单元测试，我们可以很容易地通过按下播放按钮来完成，但是对于应用程序来说，这可能会变得更加复杂。</p><p id="2881" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可能已经构建了一个CLI，并希望传入不同的参数，或者某些特定的环境变量。</p><p id="5151" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，让我们来看看用于处理这种情况的运行配置。</p><p id="3efd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">按下<code class="fe lv lw lx ly b">CTRL+SHIFT+K</code>调出动作面板，里面有一堆可以运行的动作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/ecebe5cb0e494f5ea868cd3122ab0324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*qijMtRQJHAcKRaXKV5w9MQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">舰队中的行动</p></figure><p id="cd37" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">动作就像小的宏，通过热键帮助你执行某些任务，而不是重复执行。</p><p id="b6e1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将尝试的一个特定动作是<code class="fe lv lw lx ly b">Create Run Configurations</code>。这有助于我们生成一个配置文件，使我们能够以我们想要的方式运行我们的应用程序。</p><p id="ba1c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该命令将启动一个向导来设置配置，帮助您完成每个步骤。</p><p id="7b87" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在要点中，您会看到我添加了一个print语句来打印一个环境变量并放置一个调试器。然后，我生成一个新的配置，并将环境变量设置为某个值，使用<code class="fe lv lw lx ly b">CTRL+R</code>我们可以调出Run选项卡，它列出了我们已有的所有配置，并允许我们运行它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">展示如何为Go应用程序使用运行配置和环境变量</p></figure><p id="ac34" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如您所看到的，编辑器运行应用程序，断点受到尊重，我们可以查看应用程序的状态。</p><p id="d4b6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在示例中，有一个bug。没有显示打印的环境变量。我也向舰队<a class="ae lu" href="https://youtrack.jetbrains.com/issue/FL-15480/Run-Configurations-Go-environment-variables-are-not-passed-to-the-binary" rel="noopener ugc nofollow" target="_blank">这里</a>的家伙们报告了这一情况。</p><p id="5d00" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">运行动作和运行配置超级酷，功能强大。这不是一个新功能；它存在于几乎所有IntelliJ产品中。VS代码将它们命名为调试配置。</p><h1 id="328f" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">合作</h1><p id="a54d" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">Fleet的一个很酷的特性是代码库的内置会话共享和协作。</p><p id="bb30" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您遇到问题，需要同事或朋友的帮助，只需点击顶部菜单中的用户图标，即可开始新的协作会话。这将复制一个链接，您可以将其发送给任何安装了fleet的人，一旦他们单击该链接，就会打开一个包含您的代码的fleet实例，他们可以对其进行编辑，您可以实时看到发生了什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/800d87b3bbd138924b4e9240dfef0925.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*8tQdQj_mBn4KiOBd4hinrg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">开始新的协作会话</p></figure><p id="25ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦有链接的人试图加入，你会得到一个小的弹出窗口，要求你允许他们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/69fbe2ed6d921760341064e1b0e1b73a.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*ZKTIAyoyR4aNiOWknta7LA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">弹出窗口，询问是否允许新的会话连接</p></figure><p id="bfea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用户现在可以同时处理相同的文件。这个特性很酷，因为它不是主机和客户端之间的镜像。客户端可以处理不同的文件，而主机可以处理另一个文件。</p><p id="b7b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这只是一个我们可以合作的共享会议。</p><p id="f15f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在要点中，你可以看到我打开了<code class="fe lv lw lx ly b">main.go</code>，而同事更新了<code class="fe lv lw lx ly b">otp.go</code>。然后，我们可以通过点击同事的图标，跳转到他们当前的工作位置。太神奇了。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">通过单击协作者的个人资料来查看协作者的行为</p></figure><p id="2c54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另一件疯狂的事情是，合作者甚至可以根据主机配置触发操作。</p><p id="1165" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还记得我们之前是如何创建运行服务器配置的吗，看看我的主机编辑器，它是为我们运行的协作器触发器，就像我们运行<code class="fe lv lw lx ly b">CTRL+R</code>并选择它一样。</p><p id="60c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们共享终端和运行输出，这适用于所有合作者。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示远程协作者如何触发运行命令，以及终端如何向所有参与者显示的图形</p></figure><h1 id="61c0" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">结论</h1><p id="9d9e" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我要说实话。我对调试器印象深刻；它感觉更流畅，比我习惯的VS代码更清晰地显示变量值。</p><p id="c250" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最让我惊讶的是，它展示了所有的Goroutines，我觉得这是一件大事。我不得不回到VS代码，检查这是否可能，它是可能的。它只是更隐蔽，正因如此，我以前错过了。所以我现在在VS代码中发现了一个非常好的新特性，感谢Fleet。</p><p id="5779" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">内置的会话共享似乎也可以成为一件大事。我知道有外挂等。这也很酷，但是每个人都需要安装一个插件，等等。如果是内置的，感觉会顺畅很多。</p><p id="1ec5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我会转到舰队吗？</p><p id="5ce5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还没有。我希望插件到来，并允许编辑器增长一些第一。我知道所有的东西都可以从一开始就被内置，拥有作为插件的扩展是令人惊讶的，可以帮助每个人使他们的IDE有自己的风格。</p><p id="b277" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我也觉得我做的这个小测试出现了两个bug。我知道这是一个预览，但可能还有许多其他的错误。</p><p id="1b87" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在全职尝试之前，我会让车队成熟一点。我确实喜欢它的某些部分。IntelliJ产品有很强的建议引擎和其他我觉得VS代码有点欠缺的部分。</p><p id="d92a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是说实话，这感觉像是抄袭VS代码——设计和布局95%都是抄袭VS代码。</p><p id="5d55" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，如果我们有一个像VS代码一样的漂亮的UI和一个编辑器后面的IntelliJ产品的强大功能会怎么样呢？</p><p id="0f8b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">嗯，我想这就是未来的舰队。</p></div></div>    
</body>
</html>